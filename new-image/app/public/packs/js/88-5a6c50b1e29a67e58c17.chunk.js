(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{1505:function(t,e,a){"use strict";var s=a(250),n={__name:"BackButton",props:{backUrl:{type:[String,Object],default:""},buttonLabel:{type:String,default:""},compact:{type:Boolean,default:!1}},setup:function(t){var e=t,a=e.compact?"text-sm text-slate-600 dark:text-slate-300":"text-base text-woot-500 dark:text-woot-500";return{__sfc:!0,props:e,goBack:function(){""!==e.backUrl?s.a.push(e.backUrl):s.a.go(-1)},buttonStyleClass:a}}},r=a(8),o=Object(r.a)(n,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("button",{staticClass:"flex items-center p-0 font-normal cursor-pointer",class:a.buttonStyleClass,on:{"!click":function(t){return a.goBack.apply(null,arguments)}}},[e("fluent-icon",{staticClass:"-ml-1",attrs:{icon:"chevron-left"}}),t._v("\n  "+t._s(t.buttonLabel||t.$t("GENERAL_SETTINGS.BACK"))+"\n")],1)}),[],!1,null,null,null);e.a=o.exports},1506:function(t,e,a){"use strict";var s=a(197),n=a(5),r={__name:"CustomBrandPolicyWrapper",props:{showOnCustomBrandedInstance:{type:Boolean,default:!0}},setup:function(t){var e=t,a=Object(s.c)(),r=a["globalConfig/isACustomBrandedInstance"],o=Object(n.computed)((function(){return e.showOnCustomBrandedInstance||!r.value}));return{__sfc:!0,props:e,getters:a,isACustomBrandedInstance:r,shouldShowContent:o}}},o=a(8),l=Object(o.a)(r,(function(){var t=this,e=t._self._c;return t._self._setupProxy.shouldShowContent?e("div",[t._t("default")],2):t._e()}),[],!1,null,null,null).exports,i={agent_bots:"https://chwt.app/hc/agent-bots",agents:"https://chwt.app/hc/agents",audit_logs:"https://chwt.app/hc/audit-logs",campaigns:"https://chwt.app/hc/campaigns",canned_responses:"https://chwt.app/hc/canned",channel_email:"https://chwt.app/hc/email",channel_facebook:"https://chwt.app/hc/fb",custom_attributes:"https://chwt.app/hc/custom-attributes",dashboard_apps:"https://chwt.app/hc/dashboard-apps",help_center:"https://chwt.app/hc/help-center",inboxes:"https://chwt.app/hc/inboxes",integrations:"https://chwt.app/hc/integrations",labels:"https://chwt.app/hc/labels",macros:"https://chwt.app/hc/macros",message_reply_to:"https://chwt.app/hc/reply-to",reports:"https://chwt.app/hc/reports",sla:"https://chwt.app/hc/sla",captain:"https://chwt.app/hc/captain",team_management:"https://chwt.app/hc/teams",webhook:"https://chwt.app/hc/webhooks"};var c=a(1505),u={__name:"BaseSettingsHeader",props:{title:{type:String,required:!0},description:{type:String,required:!0},iconName:{type:String,default:""},linkText:{type:String,default:""},featureName:{type:String,default:""},backButtonLabel:{type:String,default:""}},setup:function(t){var e;return{__sfc:!0,props:t,helpURL:(e=t.featureName,i[e]),openInNewTab:function(t){t&&window.open(t,"_blank","noopener noreferrer")},CustomBrandPolicyWrapper:l,BackButton:c.a}}},d=Object(o.a)(u,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"flex flex-col items-start w-full gap-2 pt-4"},[t.backButtonLabel?e(a.BackButton,{attrs:{compact:"","button-label":t.backButtonLabel}}):t._e(),t._v(" "),e("div",{staticClass:"flex items-center justify-between w-full gap-4"},[e("div",{staticClass:"flex items-center gap-3"},[t.iconName?e("div",{staticClass:"flex items-center w-10 h-10 p-1 rounded-full bg-woot-25/60 dark:bg-woot-900/60"},[e("div",{staticClass:"flex items-center justify-center w-full h-full rounded-full bg-woot-75/70 dark:bg-woot-800/40"},[e("fluent-icon",{staticClass:"flex-shrink-0 text-woot-500 dark:text-woot-500",attrs:{size:"14",icon:t.iconName,type:"outline"}})],1)]):t._e(),t._v(" "),e("h1",{staticClass:"text-2xl font-semibold font-interDisplay tracking-[0.3px] text-slate-900 dark:text-slate-25"},[t._v("\n        "+t._s(t.title)+"\n      ")])]),t._v(" "),e("div",{staticClass:"hidden gap-2 sm:flex"},[t._t("actions")],2)]),t._v(" "),e("div",{staticClass:"flex flex-col gap-3 text-slate-600 dark:text-slate-300 w-full"},[e("p",{staticClass:"mb-0 text-base font-normal line-clamp-5 sm:line-clamp-none max-w-3xl tracking-[-0.1px]"},[t._t("description",(function(){return[t._v(t._s(t.description))]}))],2),t._v(" "),e(a.CustomBrandPolicyWrapper,{attrs:{"show-on-custom-branded-instance":!1}},[a.helpURL&&t.linkText?e("a",{staticClass:"sm:inline-flex hidden gap-1 w-fit items-center text-woot-500 dark:text-woot-500 text-sm font-medium hover:underline",attrs:{href:a.helpURL,target:"_blank",rel:"noopener noreferrer"}},[t._v("\n        "+t._s(t.linkText)+"\n        "),e("fluent-icon",{staticClass:"flex-shrink-0 text-woot-500 dark:text-woot-500",attrs:{size:"16",icon:"chevron-right",type:"outline"}})],1):t._e()])],1),t._v(" "),e("div",{staticClass:"flex items-start justify-start w-full gap-3 sm:hidden flex-wrap"},[t._t("actions"),t._v(" "),e(a.CustomBrandPolicyWrapper,{attrs:{"show-on-custom-branded-instance":!1}},[a.helpURL&&t.linkText?e("woot-button",{staticClass:"flex-row-reverse rounded-md min-w-0 !bg-slate-50 !text-slate-900 dark:!text-white dark:!bg-slate-800",attrs:{"color-scheme":"secondary",icon:"arrow-outwards"},on:{click:function(t){return a.openInNewTab(a.helpURL)}}},[t._v("\n        "+t._s(t.linkText)+"\n      ")]):t._e()],1)],2)],1)}),[],!1,null,null,null);e.a=d.exports},1531:function(t,e,a){"use strict";a(51);var s=a(5),n={__name:"TableFooterResults",props:{firstIndex:{type:Number,default:0},lastIndex:{type:Number,default:0},totalCount:{type:Number,default:0}},setup:function(t){return{__sfc:!0}}},r=a(8),o=Object(r.a)(n,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("span",{staticClass:"text-sm text-slate-700 dark:text-slate-200 font-medium"},[t._v("\n  "+t._s(t.$t("GENERAL.SHOWING_RESULTS",{firstIndex:t.firstIndex,lastIndex:t.lastIndex,totalCount:t.totalCount}))+"\n")])}),[],!1,null,null,null).exports,l={__name:"TableFooterPagination",props:{currentPage:{type:Number,default:1},totalPages:{type:Number,default:0}},emits:["pageChange"],setup:function(t,e){var a=e.emit,n=t,r=Object(s.computed)((function(){return n.currentPage===n.totalPages||1===n.totalPages})),o=Object(s.computed)((function(){return 1===n.currentPage})),l=Object(s.computed)((function(){return n.currentPage===n.totalPages})),i=Object(s.computed)((function(){return 1===n.currentPage}));function c(t){a("pageChange",t)}return{__sfc:!0,props:n,emit:a,hasLastPage:r,hasFirstPage:o,hasNextPage:l,hasPrevPage:i,buttonClass:function(t){return t?"hover:!bg-slate-50 dark:hover:!bg-slate-800":"dark:hover:!bg-slate-700/50"},onPageChange:c,onNextPage:function t(){t.value||c(n.currentPage+1)},onPrevPage:function(){i.value||c(n.currentPage-1)},onFirstPage:function(){o.value||c(1)},onLastPage:function(){r.value||c(n.totalPages)}}}},i=Object(r.a)(l,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"flex items-center h-8 rounded-lg bg-slate-50 dark:bg-slate-800"},[e("woot-button",{class:a.buttonClass(a.hasFirstPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":a.hasFirstPage,"class-names":"dark:!bg-slate-800 !opacity-100 ltr:rounded-l-lg ltr:rounded-r-none rtl:rounded-r-lg rtl:rounded-l-none"},on:{click:a.onFirstPage}},[e("fluent-icon",{class:a.hasFirstPage&&"opacity-40",attrs:{icon:"chevrons-left",size:"20","icon-lib":"lucide"}})],1),t._v(" "),e("div",{staticClass:"w-px h-4 rounded-sm bg-slate-75 dark:bg-slate-700/50"}),t._v(" "),e("woot-button",{class:a.buttonClass(a.hasPrevPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":a.hasPrevPage,"class-names":"dark:!bg-slate-800 !opacity-100 rounded-none"},on:{click:a.onPrevPage}},[e("fluent-icon",{class:a.hasPrevPage&&"opacity-40",attrs:{icon:"chevron-left-single",size:"20","icon-lib":"lucide"}})],1),t._v(" "),e("div",{staticClass:"flex items-center gap-3 px-3 tabular-nums bg-slate-50 dark:bg-slate-800 text-slate-700 dark:text-slate-100"},[e("span",{staticClass:"text-sm text-slate-800 dark:text-slate-75"},[t._v("\n      "+t._s(t.currentPage)+"\n    ")]),t._v(" "),e("span",{staticClass:"text-slate-600 dark:text-slate-500"},[t._v("/")]),t._v(" "),e("span",{staticClass:"text-sm text-slate-600 dark:text-slate-500"},[t._v("\n      "+t._s(t.totalPages)+"\n    ")])]),t._v(" "),e("woot-button",{class:a.buttonClass(a.hasNextPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","is-disabled":a.hasNextPage,"class-names":"dark:!bg-slate-800 !opacity-100 rounded-none"},on:{click:a.onNextPage}},[e("fluent-icon",{class:a.hasNextPage&&"opacity-40",attrs:{icon:"chevron-right-single",size:"20","icon-lib":"lucide"}})],1),t._v(" "),e("div",{staticClass:"w-px h-4 rounded-sm bg-slate-75 dark:bg-slate-700/50"}),t._v(" "),e("woot-button",{class:a.buttonClass(a.hasLastPage),attrs:{size:"small",variant:"smooth","color-scheme":"secondary","class-names":"dark:!bg-slate-800 !opacity-100 ltr:rounded-r-lg ltr:rounded-l-none rtl:rounded-l-lg rtl:rounded-r-none","is-disabled":a.hasLastPage},on:{click:a.onLastPage}},[e("fluent-icon",{class:a.hasLastPage&&"opacity-40",attrs:{icon:"chevrons-right",size:"20","icon-lib":"lucide"}})],1)],1)}),[],!1,null,null,null).exports,c={__name:"TableFooter",props:{currentPage:{type:Number,default:1},pageSize:{type:Number,default:25},totalCount:{type:Number,default:0}},setup:function(t){var e=t,a=Object(s.computed)((function(){return Math.ceil(e.totalCount/e.pageSize)})),n=Object(s.computed)((function(){return e.pageSize*(e.currentPage-1)+1})),r=Object(s.computed)((function(){return Math.min(e.totalCount,e.pageSize*e.currentPage)})),l=Object(s.computed)((function(){return e.totalCount&&!(n.value>e.totalCount)}));return{__sfc:!0,props:e,totalPages:a,firstIndex:n,lastIndex:r,isFooterVisible:l,TableFooterResults:o,TableFooterPagination:i}}},u=Object(r.a)(c,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return a.isFooterVisible?e("footer",{staticClass:"flex items-center justify-between h-12 px-6"},[e(a.TableFooterResults,{attrs:{"first-index":a.firstIndex,"last-index":a.lastIndex,"total-count":t.totalCount}}),t._v(" "),t.totalCount?e(a.TableFooterPagination,{attrs:{"current-page":t.currentPage,"total-pages":a.totalPages,"total-count":t.totalCount,"page-size":t.pageSize},on:{pageChange:function(e){return t.$emit("pageChange",e)}}}):t._e()],1):t._e()}),[],!1,null,null,null);e.a=u.exports},2241:function(t,e,a){"use strict";a.r(e);a(51);var s=a(64),n=a(862),r=a(197),o=a(1531),l=a(1506),i=(a(140),a(44),a(14),a(9),a(20),a(41),{0:"agent",1:"administrator"}),c={0:"online",1:"offline",2:"busy"},u={"automationrule:create":"AUDIT_LOGS.AUTOMATION_RULE.ADD","automationrule:update":"AUDIT_LOGS.AUTOMATION_RULE.EDIT","automationrule:destroy":"AUDIT_LOGS.AUTOMATION_RULE.DELETE","webhook:create":"AUDIT_LOGS.WEBHOOK.ADD","webhook:update":"AUDIT_LOGS.WEBHOOK.EDIT","webhook:destroy":"AUDIT_LOGS.WEBHOOK.DELETE","inbox:create":"AUDIT_LOGS.INBOX.ADD","inbox:update":"AUDIT_LOGS.INBOX.EDIT","inbox:destroy":"AUDIT_LOGS.INBOX.DELETE","user:sign_in":"AUDIT_LOGS.USER_ACTION.SIGN_IN","user:sign_out":"AUDIT_LOGS.USER_ACTION.SIGN_OUT","team:create":"AUDIT_LOGS.TEAM.ADD","team:update":"AUDIT_LOGS.TEAM.EDIT","team:destroy":"AUDIT_LOGS.TEAM.DELETE","macro:create":"AUDIT_LOGS.MACRO.ADD","macro:update":"AUDIT_LOGS.MACRO.EDIT","macro:destroy":"AUDIT_LOGS.MACRO.DELETE","accountuser:create":"AUDIT_LOGS.ACCOUNT_USER.ADD","accountuser:update:self":"AUDIT_LOGS.ACCOUNT_USER.EDIT.SELF","accountuser:update:other":"AUDIT_LOGS.ACCOUNT_USER.EDIT.OTHER","accountuser:update:deleted":"AUDIT_LOGS.ACCOUNT_USER.EDIT.DELETED","inboxmember:create":"AUDIT_LOGS.INBOX_MEMBER.ADD","inboxmember:destroy":"AUDIT_LOGS.INBOX_MEMBER.REMOVE","teammember:create":"AUDIT_LOGS.TEAM_MEMBER.ADD","teammember:destroy":"AUDIT_LOGS.TEAM_MEMBER.REMOVE","account:update":"AUDIT_LOGS.ACCOUNT.EDIT"};function d(t){return Array.isArray(t)?t[t.length-1]:t}function p(t,e){var a;return null===t?"System":(null===(a=e.find((function(e){return e.id===t})))||void 0===a?void 0:a.name)||t}function _(t,e,a){var s,n;t.user_id!==(null===(s=t.auditable)||void 0===s?void 0:s.user_id)&&(e.user=p(null===(n=t.auditable)||void 0===n?void 0:n.user_id,a));var r,o,l,u=(r=t.audited_changes,o=[],l=[],r.role&&r.role.length&&(o.push("role"),l.push(i[d(r.role)])),r.availability&&r.availability.length&&(o.push("availability"),l.push(c[d(r.availability)])),{changes:o,values:l});return u&&(e.attributes=u.changes,e.values=u.values),e}function g(t,e,a){return t.audited_changes&&(e=function(t,e,a){var s=t.audited_changes.user_id;return s&&void 0!==s&&(e.user=p(s,a)),e}(t,e,a),e=function(t,e){return t.audited_changes.team_id&&(e.team_id=t.audited_changes.team_id),e}(t,e),e=function(t,e){return t.audited_changes.inbox_id&&(e.inbox_id=t.audited_changes.inbox_id),e}(t,e)),e}function h(t,e,a,s){return"create"===s?function(t,e,a){e.invitee=p(t.audited_changes.user_id,a);var s=t.audited_changes.role;return e.role=i[s]||"unknown",e}(t,e,a):"update"===s?_(t,e,a):e}var f=a(5),b=a(356),m=a(376),v={__name:"Index",setup:function(t){var e=Object(r.c)(),a=Object(r.b)(),i=Object(m.b)(),c=Object(f.computed)((function(){return e["auditlogs/getAuditLogs"].value})),d=Object(f.computed)((function(){return e["auditlogs/getUIFlags"].value})),_=Object(f.computed)((function(){return e["auditlogs/getMeta"].value})),v=Object(f.computed)((function(){return e["agents/getAgents"].value})),x=Object(b.a)().t,O=Object(m.a)(),T=Object(f.computed)((function(){var t;return Number(null!==(t=O.query.page)&&void 0!==t?t:1)})),C=function(t){try{a.dispatch("auditlogs/fetch",{page:t})}catch(n){var e=(null===n||void 0===n?void 0:n.message)||x("AUDIT_LOGS.API.ERROR_MESSAGE");Object(s.a)(e)}};return Object(f.onMounted)((function(){a.dispatch("agents/get"),C(T.value)})),Object(f.watch)(T,(function(t,e){t!==e&&C(t)})),{__sfc:!0,getters:e,store:a,router:i,records:c,uiFlags:d,meta:_,agentList:v,t:x,route:O,routerPage:T,fetchAuditLogs:C,generateLogText:function(t){var e=function(t,e){var a={agentName:p(t.user_id,e),id:t.auditable_id},s=t.auditable_type.toLowerCase(),n=t.action.toLowerCase();return"accountuser"===s&&(a=h(t,a,e,n)),"inboxmember"!==s&&"teammember"!==s||(a=g(t,a,e)),a}(t,v.value),a=function(t){var e=t.auditable_type.toLowerCase(),a=t.action.toLowerCase(),s="".concat(e,":").concat(a);return"accountuser"===e&&"update"===a&&(s+=function(t){return null===t.auditable?":deleted":t.user_id===t.auditable.user_id?":self":":other"}(t)),u[s]||""}(t);return x(a,e)},onPageChange:function(t){i.push({name:"auditlogs_list",query:{page:t}})},messageTimestamp:n.d,TableFooter:o.a,BaseSettingsHeader:l.a}}},x=a(8),O=Object(x.a)(v,(function(){var t=this,e=t._self._c,a=t._self._setupProxy;return e("div",{staticClass:"flex-1 overflow-auto"},[e(a.BaseSettingsHeader,{attrs:{title:t.$t("AUDIT_LOGS.HEADER"),description:t.$t("AUDIT_LOGS.DESCRIPTION"),"link-text":t.$t("AUDIT_LOGS.LEARN_MORE"),"feature-name":"audit_logs"}}),t._v(" "),e("div",{staticClass:"mt-6 flex-1 text-slate-700 dark:text-slate-300"},[a.uiFlags.fetchingList?e("woot-loading-state",{attrs:{message:t.$t("AUDIT_LOGS.LOADING")}}):a.records.length?e("div",{staticClass:"min-w-full overflow-x-auto"},[e("table",{staticClass:"divide-y divide-slate-75 dark:divide-slate-700"},[e("thead",t._l(t.$t("AUDIT_LOGS.LIST.TABLE_HEADER"),(function(a){return e("th",{key:a,staticClass:"py-4 pr-4 text-left font-semibold text-slate-700 dark:text-slate-300"},[t._v("\n            "+t._s(a)+"\n          ")])})),0),t._v(" "),e("tbody",{staticClass:"divide-y divide-slate-50 dark:divide-slate-800 text-slate-700 dark:text-slate-300"},t._l(a.records,(function(s){return e("tr",{key:s.id},[e("td",{staticClass:"py-4 pr-4 break-all whitespace-nowrap"},[t._v("\n              "+t._s(a.generateLogText(s))+"\n            ")]),t._v(" "),e("td",{staticClass:"py-4 pr-4 break-all whitespace-nowrap"},[t._v("\n              "+t._s(a.messageTimestamp(s.created_at,"MMM dd, yyyy hh:mm a"))+"\n            ")]),t._v(" "),e("td",{staticClass:"py-4 w-[8.75rem]"},[t._v("\n              "+t._s(s.remote_address)+"\n            ")])])})),0)]),t._v(" "),e(a.TableFooter,{staticClass:"border-slate-50 dark:border-slate-800 border-t !px-0 py-4",attrs:{"current-page":Number(a.meta.currentPage),"total-count":a.meta.totalEntries,"page-size":a.meta.perPage},on:{pageChange:a.onPageChange}})],1):e("p",{staticClass:"flex flex-col items-center justify-center h-full text-base p-8"},[t._v("\n      "+t._s(t.$t("AUDIT_LOGS.LIST.404"))+"\n    ")])],1)],1)}),[],!1,null,null,null);e.default=O.exports}}]);
//# sourceMappingURL=88-5a6c50b1e29a67e58c17.chunk.js.map