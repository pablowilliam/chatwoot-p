{"version":3,"sources":["webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/constants.js","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue?fd83","webpack:///./app/javascript/dashboard/composables/useReportMetrics.js","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue?11a2","webpack:///ChartStats.vue","webpack:///app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue?6b6f","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/ChartElements/ChartStats.vue?0922","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/ReportContainer.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue?7997","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue?bcd5","webpack:///app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/ReportFilters.vue?f2a6","webpack:///app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue?9e61","webpack:///./app/javascript/dashboard/routes/dashboard/settings/reports/components/WootReports.vue","webpack:///./app/javascript/dashboard/components/ui/DateRangePicker.vue?4641","webpack:///./app/javascript/dashboard/components/ui/DateRangePicker.vue?e58e","webpack:///app/javascript/dashboard/components/ui/DateRangePicker.vue","webpack:///./app/javascript/dashboard/components/ui/DateRangePicker.vue"],"names":["GROUP_BY_FILTER","id","period","GROUP_BY_OPTIONS","DAY","translationKey","WEEK","MONTH","YEAR","DATE_RANGE_OPTIONS","LAST_7_DAYS","offset","groupByOptions","LAST_30_DAYS","LAST_3_MONTHS","LAST_6_MONTHS","LAST_YEAR","CUSTOM_DATE_RANGE","CHART_FONT_FAMILY","DEFAULT_BAR_CHART","type","backgroundColor","DEFAULT_CHART","datasets","scales","xAxes","ticks","fontFamily","gridLines","drawOnChartArea","yAxes","position","beginAtZero","stepSize","callback","value","index","values","length","TIME_CHART_CONFIG","timeInSeconds","minutes","Math","floor","hours","days","formatTime","METRIC_CHART","conversations_count","incoming_messages_count","outgoing_messages_count","avg_first_response_time","reply_time","avg_resolution_time","resolutions_count","bot_resolutions_count","bot_handoffs_count","OVERVIEW_METRICS","open","unattended","unassigned","pending","online","busy","offline","useReportMetrics","accountSummaryKey","accountSummary","useMapGetter","calculateTrend","key","previous","diff","round","isAverageMetricType","includes","displayMetric","Number","toLocaleString","props","_vm","this","_c","_self","_setup","_setupProxy","staticClass","_v","_s","metric","NAME","KEY","trend","class","trendColor","_e","_l","attrs","accountReport","isFetching","$t","data","getCollection","getChartOptions","multiselectLabel","filterItemsList","on","changeFilterSelection","scopedSlots","_u","fn","option","thumbnail","availability_status","name","model","$$v","currentSelectedFilter","expression","style","color","title","dateRange","changeDateSelection","currentDateRangeSelection","customDateRange","onChange","groupByFilterItemsList","changeGroupByFilterSelection","currentSelectedGroupByFilter","businessHoursSelected","downloadReports","downloadButtonLabel","groupByfilterItemsList","selectedGroupByFilter","onDateRangeChange","onFilterChange","onGroupByFilterChange","onBusinessHoursToggle","groupBy","component","confirmText","placeholder","handleChange"],"mappings":"2FAAA,0KAAO,IAuBMA,EAAkB,CAC7B,EAAG,CAAEC,GAAI,EAAGC,OAAQ,OACpB,EAAG,CAAED,GAAI,EAAGC,OAAQ,QACpB,EAAG,CAAED,GAAI,EAAGC,OAAQ,SACpB,EAAG,CAAED,GAAI,EAAGC,OAAQ,SAGTC,EAAmB,CAC9BC,IAAK,CACHH,GAAI,MACJC,OAAQ,MACRG,eAAgB,+BAElBC,KAAM,CACJL,GAAI,OACJC,OAAQ,OACRG,eAAgB,gCAElBE,MAAO,CACLN,GAAI,QACJC,OAAQ,QACRG,eAAgB,iCAElBG,KAAM,CACJP,GAAI,OACJC,OAAQ,OACRG,eAAgB,iCAIPI,EAAqB,CAChCC,YAAa,CACXT,GAAI,cACJI,eAAgB,wCAChBM,OAAQ,EACRC,eAAgB,CAACT,EAAiBC,MAEpCS,aAAc,CACZZ,GAAI,eACJI,eAAgB,yCAChBM,OAAQ,GACRC,eAAgB,CAACT,EAAiBC,IAAKD,EAAiBG,OAE1DQ,cAAe,CACbb,GAAI,gBACJI,eAAgB,0CAChBM,OAAQ,GACRC,eAAgB,CACdT,EAAiBC,IACjBD,EAAiBG,KACjBH,EAAiBI,QAGrBQ,cAAe,CACbd,GAAI,gBACJI,eAAgB,0CAChBM,OAAQ,IACRC,eAAgB,CAACT,EAAiBG,KAAMH,EAAiBI,QAE3DS,UAAW,CACTf,GAAI,YACJI,eAAgB,sCAChBM,OAAQ,IACRC,eAAgB,CAACT,EAAiBG,KAAMH,EAAiBI,QAE3DU,kBAAmB,CACjBhB,GAAI,oBACJI,eAAgB,8CAChBM,OAAQ,KACRC,eAAgB,CACdT,EAAiBC,IACjBD,EAAiBG,KACjBH,EAAiBI,MACjBJ,EAAiBK,QAKVU,EACX,6GASWC,EAAoB,CAC/BC,KAAM,MACNC,gBAAiB,qBAGNC,EAAgB,CAC3BC,SAAU,CAACJ,GACXK,OAAQ,CACNC,MAAO,CACL,CACEC,MAAO,CACLC,WAAYT,GAEdU,UAAW,CACTC,iBAAiB,KAIvBC,MAAO,CACL,CACE7B,GAAI,SACJmB,KAAM,SACNW,SAAU,OACVL,MAAO,CACLC,WAAYT,EACZc,aAAa,EACbC,SAAU,EACVC,SAAU,SAACC,EAAOC,EAAOC,GACvB,OAAKD,GAASA,IAAUC,EAAOC,OAAS,EAGjC,GAFEH,IAKbP,UAAW,CACTC,iBAAiB,OAOrBU,EAAoB,CACxBhB,SAAU,CAACJ,GACXK,OAAQ,CACNC,MAAO,CACL,CACEC,MAAO,CACLC,WAAYT,GAEdU,UAAW,CACTC,iBAAiB,KAIvBC,MAAO,CACL,CACE7B,GAAI,SACJmB,KAAM,SACNW,SAAU,OACVL,MAAO,CACLC,WAAYT,EACZgB,SAAU,SAACC,EAAOC,EAAOC,GACvB,OAAKD,GAASA,IAAUC,EAAOC,OAAS,EAGjC,GAjLO,SAAAE,GACxB,IAAKA,EACH,MAAO,GAGT,GAAIA,EAAgB,GAClB,MAAM,GAAN,OAAUA,EAAV,KAGF,GAAIA,EAAgB,KAAM,CACxB,IAAMC,EAAUC,KAAKC,MAAMH,EAAgB,IAC3C,MAAM,GAAN,OAAUC,EAAV,KAGF,GAAID,EAAgB,MAAO,CACzB,IAAMI,EAAQF,KAAKC,MAAMH,EAAgB,MACzC,MAAM,GAAN,OAAUI,EAAV,KAGF,IAAMC,EAAOH,KAAKC,MAAMH,EAAgB,OACxC,MAAM,GAAN,OAAUK,EAAV,KA2JmBC,CAAWX,KAKxBP,UAAW,CACTC,iBAAiB,OAOdkB,EAAe,CAC1BC,oBAAqB1B,EACrB2B,wBAAyB3B,EACzB4B,wBAAyB5B,EACzB6B,wBAAyBZ,EACzBa,WAAYb,EACZc,oBAAqBd,EACrBe,kBAAmBhC,EACnBiC,sBAAuBjC,EACvBkC,mBAAoBlC,GAGTmC,EAAmB,CAC9BC,KAAM,OACNC,WAAY,aACZC,WAAY,aACZC,QAAS,UACTC,OAAQ,SACRC,KAAM,OACNC,QAAS,Y,kFC/MX,I,wCCSO,SAASC,IAA2D,IAA1CC,EAAyC,uDAArB,oBAC7CC,EAAiBC,YAAaF,GAQ9BG,EAAiB,SAAAC,GACrB,IAAKH,EAAehC,MAAMoC,SAASD,GAAM,OAAO,EAChD,IAAME,EAAOL,EAAehC,MAAMmC,GAAOH,EAAehC,MAAMoC,SAASD,GACvE,OAAO5B,KAAK+B,MAAOD,EAAOL,EAAehC,MAAMoC,SAASD,GAAQ,MAS5DI,EAAsB,SAAAJ,GAC1B,MAAO,CACL,0BACA,sBACA,cACAK,SAASL,IASPM,EAAgB,SAAAN,GACpB,OAAII,EAAoBJ,GACfxB,YAAWqB,EAAehC,MAAMmC,IAElCO,OAAOV,EAAehC,MAAMmC,IAAQ,IAAIQ,kBAGjD,MAAO,CACLT,iBACAK,sBACAE,iB,gCCtDqP,E,qKCczP,EAA+DX,EAC7Dc,EAAMb,mBADAG,EAAR,EAAQA,eAAgBO,EAAxB,EAAwBA,cAAeF,EAAvC,EAAuCA,oB,0FAIpB,SAACvC,EAAOmC,GACzB,OAAII,EAAoBJ,GACfnC,EAAQ,EACX,8BACA,kCAECA,EAAQ,EACX,8BACA,sC,8rBCjBN,ICTuO,EDSvO,CACA,uBEHgB,YACd,GCRW,WAAkB,IAAI6C,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAGE,EAAOJ,EAAIG,MAAME,YAAY,OAAOH,EAAG,MAAM,CAACI,YAAY,sCAAsC,CAACJ,EAAG,OAAO,CAACI,YAAY,WAAW,CAACN,EAAIO,GAAG,SAASP,EAAIQ,GAAGR,EAAIS,OAAOC,MAAM,UAAUV,EAAIO,GAAG,KAAKL,EAAG,MAAM,CAACI,YAAY,kBAAkB,CAACJ,EAAG,MAAM,CAACI,YAAY,uBAAuB,CAACN,EAAIO,GAAG,WAAWP,EAAIQ,GAAGJ,EAAOR,cAAcI,EAAIS,OAAOE,MAAM,YAAYX,EAAIO,GAAG,KAAMP,EAAIS,OAAY,MAAEP,EAAG,MAAM,CAACI,YAAY,yCAAyC,CAAEN,EAAIS,OAAOG,MAAQ,EAAGV,EAAG,MAAM,CAACI,YAAY,qEAAqEO,MAAMT,EAAOU,WAAWd,EAAIS,OAAOG,MAAOZ,EAAIS,OAAOE,OAAOT,EAAG,MAAM,CAACI,YAAY,qEAAqEO,MAAMT,EAAOU,WAAWd,EAAIS,OAAOG,MAAOZ,EAAIS,OAAOE,OAAOX,EAAIO,GAAG,KAAKL,EAAG,OAAO,CAACI,YAAY,cAAcO,MAAMT,EAAOU,WAAWd,EAAIS,OAAOG,MAAOZ,EAAIS,OAAOE,MAAM,CAACX,EAAIO,GAAG,aAAaP,EAAIQ,GAAGJ,EAAOf,eAAeW,EAAIS,OAAOE,MAAM,iBAAiBX,EAAIe,WAEl/B,IDSpB,EACA,KACA,KACA,M,SFHF,OACA,SACA,YACA,8BAEA,mBACA,YACA,6BAEA,YACA,YACA,0BACA,oCACA,4CACA,4CACA,8CACA,sCACA,qCACA,4BAIA,MAxBA,SAwBA,GACA,QACA,qBAEA,sBAHA,iBAGA,oBAHA,wBAKA,gBACA,sBACA,qCAFA,IAIA,QAJA,WAIA,WACA,+BACA,GACA,4EAGA,qEAEA,iCACA,+CACA,oBACA,+CACA,eACA,yDACA,+CAIA,SACA,cADA,SACA,cACA,mCACA,SAEA,qCAyCA,OACA,OAzCA,6BACA,uEACA,yCACA,yBACA,MACA,yBACA,yBACA,kEACA,EACA,WAGA,yEACA,kDAEA,kEACA,6CAEA,kDAwBA,SAtBA,qCACA,eACA,UACA,cACA,GADA,IAEA,iBACA,aACA,4CAEA,WACA,cACA,GADA,IAEA,kBACA,wBACA,4CAEA,QACA,eAQA,gBAnDA,SAmDA,cACA,KAYA,OAXA,kCACA,aACA,kBACA,4BACA,kCACA,kBACA,gDAKA,CACA,yBACA,eIxHI,EAAY,YACd,GRRW,WAAkB,IAAIf,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,0IAA0IN,EAAIgB,GAAIhB,EAAW,SAAE,SAASS,GAAQ,OAAOP,EAAG,MAAM,CAACZ,IAAImB,EAAOE,IAAIL,YAAY,uBAAuB,CAACJ,EAAG,aAAa,CAACe,MAAM,CAAC,OAASR,EAAO,sBAAsBT,EAAId,qBAAqBc,EAAIO,GAAG,KAAKL,EAAG,MAAM,CAACI,YAAY,aAAa,CAAEN,EAAIkB,cAAcC,WAAWV,EAAOE,KAAMT,EAAG,qBAAqB,CAACI,YAAY,UAAUW,MAAM,CAAC,QAAUjB,EAAIoB,GAAG,2BAA2BlB,EAAG,MAAM,CAACI,YAAY,yCAAyC,CAAEN,EAAIkB,cAAcG,KAAKZ,EAAOE,KAAW,OAAET,EAAG,WAAW,CAACI,YAAY,cAAcW,MAAM,CAAC,WAAajB,EAAIsB,cAAcb,GAAQ,gBAAgBT,EAAIuB,gBAAgBd,MAAWP,EAAG,OAAO,CAACI,YAAY,0BAA0B,CAACN,EAAIO,GAAG,eAAeP,EAAIQ,GAAGR,EAAIoB,GAAG,0BAA0B,iBAAiB,IAAI,IAAI,MAAK,KAE38B,IQSpB,EACA,KACA,KACA,MAIa,M,kEClBf,I,yECA2O,ECW3O,CACA,YACA,wBACA,eAEA,OACA,iBACA,WACA,8BAEA,wBACA,WACA,8BAEA,MACA,YACA,iBAEA,uBACA,YACA,uBAGA,KAvBA,WAwBA,OACA,2BACA,0DACA,uCACA,oCACA,kCACA,2BAGA,UACA,oBADA,WAEA,OArCA,IAqCA,mCAEA,GAJA,WAKA,gCACA,2CAEA,6BAEA,KAVA,WAWA,4BACA,oDAEA,IAOA,EAPA,CACA,IACA,KACA,KACA,MACA,OAEA,mCACA,0BACA,+BAEA,iBAzBA,WAgCA,MANA,CACA,qDACA,qDACA,qDACA,oDAEA,qDAEA,QAlCA,WAmCA,gCACA,cAEA,CACA,gBACA,gBACA,gBACA,gBACA,iBAEA,oCAEA,aA/CA,WAgDA,sCAGA,OACA,gBADA,SACA,GACA,gCACA,8BAEA,uBALA,WAMA,8DAEA,sBARA,WASA,+DAGA,QAhGA,WAiGA,0BAEA,SACA,kBADA,WAEA,8BACA,eACA,WACA,wBAGA,eARA,SAQA,GACA,oCAEA,aAXA,SAWA,GACA,oCAEA,oBAdA,SAcA,GACA,iCACA,0BAEA,sBAlBA,WAmBA,uDAEA,SArBA,SAqBA,GACA,uBACA,0BAEA,6BAzBA,WA0BA,uE,OCtHe,EAXC,YACd,GCRW,WAAkB,IAAIpB,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,6BAA6B,CAACJ,EAAG,MAAM,CAACI,YAAY,iDAAiD,CAAe,UAAbN,EAAI5D,KAAkB8D,EAAG,MAAM,CAACI,YAAY,+CAA+C,CAACJ,EAAG,IAAI,CAACI,YAAY,4BAA4B,CAACN,EAAIO,GAAG,aAAaP,EAAIQ,GAAGR,EAAIoB,GAAG,wCAAwC,cAAcpB,EAAIO,GAAG,KAAKL,EAAG,cAAc,CAACe,MAAM,CAAC,YAAcjB,EAAIwB,iBAAiB,MAAQ,OAAO,WAAW,KAAK,QAAUxB,EAAIyB,gBAAgB,gBAAgB,GAAG,eAAc,GAAOC,GAAG,CAAC,MAAQ1B,EAAI2B,uBAAuBC,YAAY5B,EAAI6B,GAAG,CAAC,CAACvC,IAAI,cAAcwC,GAAG,SAAS/B,GAAO,MAAO,CAACG,EAAG,MAAM,CAACI,YAAY,2BAA2B,CAACJ,EAAG,YAAY,CAACe,MAAM,CAAC,IAAMlB,EAAMgC,OAAOC,UAAU,OAASjC,EAAMgC,OAAOE,oBAAoB,SAAWlC,EAAMgC,OAAOG,KAAK,KAAO,UAAUlC,EAAIO,GAAG,KAAKL,EAAG,OAAO,CAACI,YAAY,wBAAwB,CAACJ,EAAG,OAAO,CAACI,YAAY,0CAA0C,CAACN,EAAIO,GAAGP,EAAIQ,GAAGT,EAAMgC,OAAOG,YAAY,MAAM,CAAC5C,IAAI,SAASwC,GAAG,SAAS/B,GAAO,MAAO,CAACG,EAAG,MAAM,CAACI,YAAY,2BAA2B,CAACJ,EAAG,YAAY,CAACe,MAAM,CAAC,IAAMlB,EAAMgC,OAAOC,UAAU,OAASjC,EAAMgC,OAAOE,oBAAoB,SAAWlC,EAAMgC,OAAOG,KAAK,KAAO,UAAUlC,EAAIO,GAAG,KAAKL,EAAG,IAAI,CAACI,YAAY,0CAA0C,CAACN,EAAIO,GAAG,mBAAmBP,EAAIQ,GAAGT,EAAMgC,OAAOG,MAAM,qBAAqB,OAAO,MAAK,EAAM,YAAYC,MAAM,CAAChF,MAAO6C,EAAyB,sBAAE9C,SAAS,SAAUkF,GAAMpC,EAAIqC,sBAAsBD,GAAKE,WAAW,4BAA4B,GAAiB,UAAbtC,EAAI5D,KAAkB8D,EAAG,MAAM,CAACI,YAAY,+CAA+C,CAACJ,EAAG,IAAI,CAACI,YAAY,4BAA4B,CAACN,EAAIO,GAAG,aAAaP,EAAIQ,GAAGR,EAAIoB,GAAG,wCAAwC,cAAcpB,EAAIO,GAAG,KAAKL,EAAG,cAAc,CAACe,MAAM,CAAC,YAAcjB,EAAIwB,iBAAiB,MAAQ,QAAQ,WAAW,KAAK,QAAUxB,EAAIyB,gBAAgB,gBAAgB,GAAG,eAAc,GAAOC,GAAG,CAAC,MAAQ1B,EAAI2B,uBAAuBC,YAAY5B,EAAI6B,GAAG,CAAC,CAACvC,IAAI,cAAcwC,GAAG,SAAS/B,GAAO,MAAO,CAACG,EAAG,MAAM,CAACI,YAAY,2BAA2B,CAACJ,EAAG,MAAM,CAACI,YAAY,uBAAuBiC,MAAM,CAAGlG,gBAAiB0D,EAAMgC,OAAOS,SAAWxC,EAAIO,GAAG,KAAKL,EAAG,OAAO,CAACI,YAAY,wBAAwB,CAACJ,EAAG,OAAO,CAACI,YAAY,0CAA0C,CAACN,EAAIO,GAAG,qBAAqBP,EAAIQ,GAAGT,EAAMgC,OAAOU,OAAO,6BAA6B,CAACnD,IAAI,SAASwC,GAAG,SAAS/B,GAAO,MAAO,CAACG,EAAG,MAAM,CAACI,YAAY,2BAA2B,CAACJ,EAAG,MAAM,CAACI,YAAY,gGAAgGiC,MAAM,CAAGlG,gBAAiB0D,EAAMgC,OAAOS,SAAWxC,EAAIO,GAAG,KAAKL,EAAG,OAAO,CAACI,YAAY,wBAAwB,CAACJ,EAAG,OAAO,CAACI,YAAY,0CAA0C,CAACN,EAAIO,GAAG,qBAAqBP,EAAIQ,GAAGT,EAAMgC,OAAOU,OAAO,+BAA+BN,MAAM,CAAChF,MAAO6C,EAAyB,sBAAE9C,SAAS,SAAUkF,GAAMpC,EAAIqC,sBAAsBD,GAAKE,WAAW,4BAA4B,GAAGpC,EAAG,MAAM,CAACI,YAAY,+CAA+C,CAACJ,EAAG,IAAI,CAACI,YAAY,4BAA4B,CAAe,UAAbN,EAAI5D,KAAkB,CAAC4D,EAAIO,GAAG,eAAeP,EAAIQ,GAAGR,EAAIoB,GAAG,wCAAwC,eAA6B,SAAbpB,EAAI5D,KAAiB,CAAC4D,EAAIO,GAAG,eAAeP,EAAIQ,GAAGR,EAAIoB,GAAG,uCAAuC,eAAe,CAACpB,EAAIO,GAAG,eAAeP,EAAIQ,GAAGR,EAAIoB,GAAG,iCAAiC,gBAAgB,GAAGpB,EAAIO,GAAG,KAAKL,EAAG,cAAc,CAACe,MAAM,CAAC,WAAW,KAAK,MAAQ,OAAO,YAAcjB,EAAIwB,iBAAiB,iBAAiB,GAAG,eAAexB,EAAIoB,GAAG,qCAAqC,iBAAiB,GAAG,QAAUpB,EAAIyB,gBAAgB,YAAa,EAAM,eAAc,GAAOC,GAAG,CAAC,MAAQ1B,EAAI2B,uBAAuBQ,MAAM,CAAChF,MAAO6C,EAAyB,sBAAE9C,SAAS,SAAUkF,GAAMpC,EAAIqC,sBAAsBD,GAAKE,WAAW,4BAA4B,GAAGtC,EAAIO,GAAG,KAAKL,EAAG,MAAM,CAACI,YAAY,oDAAoD,CAACJ,EAAG,IAAI,CAACI,YAAY,4BAA4B,CAACN,EAAIO,GAAG,aAAaP,EAAIQ,GAAGR,EAAIoB,GAAG,iCAAiC,cAAcpB,EAAIO,GAAG,KAAKL,EAAG,cAAc,CAACe,MAAM,CAAC,WAAW,OAAO,MAAQ,OAAO,YAAcjB,EAAIoB,GAAG,gCAAgC,iBAAiB,GAAG,eAAepB,EAAIoB,GAAG,qCAAqC,iBAAiB,GAAG,QAAUpB,EAAI0C,UAAU,YAAa,EAAM,eAAc,GAAOhB,GAAG,CAAC,OAAS1B,EAAI2C,qBAAqBR,MAAM,CAAChF,MAAO6C,EAA6B,0BAAE9C,SAAS,SAAUkF,GAAMpC,EAAI4C,0BAA0BR,GAAKE,WAAW,gCAAgC,GAAGtC,EAAIO,GAAG,KAAMP,EAAuB,oBAAEE,EAAG,MAAM,GAAG,CAACA,EAAG,IAAI,CAACI,YAAY,4BAA4B,CAACN,EAAIO,GAAG,aAAaP,EAAIQ,GAAGR,EAAIoB,GAAG,yCAAyC,cAAcpB,EAAIO,GAAG,KAAKL,EAAG,sBAAsB,CAACe,MAAM,CAAC,aAAa,GAAG,MAAQjB,EAAI6C,gBAAgB,eAAe7C,EAAIoB,GAAG,oCAAoC,YAAcpB,EAAIoB,GAAG,yCAAyCM,GAAG,CAAC,OAAS1B,EAAI8C,aAAa,GAAG9C,EAAIe,KAAKf,EAAIO,GAAG,KAAMP,EAAgB,aAAEE,EAAG,MAAM,CAACI,YAAY,oDAAoD,CAACJ,EAAG,IAAI,CAACI,YAAY,4BAA4B,CAACN,EAAIO,GAAG,aAAaP,EAAIQ,GAAGR,EAAIoB,GAAG,0CAA0C,cAAcpB,EAAIO,GAAG,KAAKL,EAAG,cAAc,CAACe,MAAM,CAAC,WAAW,KAAK,MAAQ,UAAU,YAAcjB,EAAIoB,GAAG,yCAAyC,QAAUpB,EAAI+C,uBAAuB,eAAc,EAAM,eAAc,GAAOrB,GAAG,CAAC,MAAQ1B,EAAIgD,8BAA8Bb,MAAM,CAAChF,MAAO6C,EAAgC,6BAAE9C,SAAS,SAAUkF,GAAMpC,EAAIiD,6BAA6Bb,GAAKE,WAAW,mCAAmC,GAAGtC,EAAIe,OAAOf,EAAIO,GAAG,KAAKL,EAAG,MAAM,CAACI,YAAY,0BAA0B,CAACJ,EAAG,OAAO,CAACI,YAAY,kCAAkC,CAACN,EAAIO,GAAG,WAAWP,EAAIQ,GAAGR,EAAIoB,GAAG,0BAA0B,YAAYpB,EAAIO,GAAG,KAAKL,EAAG,OAAO,CAACA,EAAG,cAAc,CAACiC,MAAM,CAAChF,MAAO6C,EAAyB,sBAAE9C,SAAS,SAAUkF,GAAMpC,EAAIkD,sBAAsBd,GAAKE,WAAW,4BAA4B,SAEr+L,IDSpB,EACA,KACA,KACA,M,4JENF,OACA,oCACA,4CACA,4CACA,8CACA,sCACA,qCACA,yBAGA,GACA,YACA,gBACA,qBAEA,OACA,MACA,YACA,mBAEA,WACA,YACA,YAEA,WACA,YACA,YAEA,qBACA,YACA,6BAGA,KAvBA,WAwBA,OACA,OACA,KACA,oBACA,eACA,8DACA,2BACA,mBAGA,UACA,gBADA,WAEA,iDAGA,QAvCA,WAwCA,sCAEA,SACA,aADA,WAEA,wBACA,8DACA,4CACA,OACA,KACA,eACA,0BACA,iBACA,kBAEA,wBAGA,eAfA,WAeA,WACA,CACA,gBACA,oBACA,oBACA,sBACA,kBACA,mBACA,cACA,QARA,e,EAAA,G,EAAA,yBAQA,0GACA,IACA,8CACA,wCACA,YACA,OACA,KACA,YACA,uBACA,iBACA,kBAEA,SACA,iDAbA,0C,+KARA,wDAyBA,gBAzCA,WA0CA,2DACA,GACA,6BACA,6BACA,6BACA,4BAEA,SACA,IACA,wBADA,2CACA,iBACA,+BAGA,kBAvDA,YAuDA,uCAEA,4BACA,+BACA,kBACA,uBAIA,YACA,UACA,qDACA,0CACA,0CAEA,WACA,iCAEA,0DACA,iDAEA,qBAEA,eA9EA,SA8EA,GACA,IACA,sBACA,sBAGA,sBApFA,SAoFA,SACA,uBACA,oBAEA,+BACA,qBACA,gEACA,wBAGA,iBA9FA,SA8FA,GACA,UACA,mBACA,+CACA,mBACA,gDACA,mBACA,+CACA,QACA,gDAGA,sBA1GA,SA0GA,GACA,qBACA,oBAEA,+BACA,2BACA,cACA,0BC7KyO,ICOrO,EAAY,YACd,GPRW,WAAkB,IAAItC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,4BAA4B,CAACJ,EAAG,cAAc,CAACe,MAAM,CAAC,eAAe,UAAU,cAAc,oBAAoB,KAAO,kBAAkBS,GAAG,CAAC,MAAQ1B,EAAImD,kBAAkB,CAACnD,EAAIO,GAAG,SAASP,EAAIQ,GAAGR,EAAIoD,qBAAqB,UAAUpD,EAAIO,GAAG,KAAMP,EAAmB,gBAAEE,EAAG,gBAAgB,CAACe,MAAM,CAAC,KAAOjB,EAAI5D,KAAK,oBAAoB4D,EAAIyB,gBAAgB,6BAA6BzB,EAAIqD,uBAAuB,2BAA2BrD,EAAIsD,uBAAuB5B,GAAG,CAAC,gBAAkB1B,EAAIuD,kBAAkB,aAAevD,EAAIwD,eAAe,oBAAsBxD,EAAIyD,sBAAsB,oBAAsBzD,EAAI0D,yBAAyB1D,EAAIe,KAAKf,EAAIO,GAAG,KAAMP,EAAIyB,gBAAsB,OAAEvB,EAAG,kBAAkB,CAACe,MAAM,CAAC,WAAWjB,EAAI2D,WAAW3D,EAAIe,MAAM,KAEjzB,IOSpB,EACA,KACA,KACA,MAIa,M,2CClBf,ICA2N,ECE3N,CACA,uB,QAAA,GACA,OACA,aACA,YACA,YAEA,aACA,YACA,YAEA,OACA,WACA,+BAGA,SACA,aADA,SACA,GACA,0B,OCbI6C,EAAY,YACd,GHRW,WAAkB,IAAI5D,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACI,YAAY,eAAe,CAACJ,EAAG,aAAa,CAACe,MAAM,CAAC,MAAQ,GAAG,QAAU,GAAG,WAAY,EAAM,UAAW,EAAM,eAAejB,EAAI6D,YAAY,YAAc7D,EAAI8D,YAAY,MAAQ9D,EAAI7C,OAAOuE,GAAG,CAAC,OAAS1B,EAAI+D,iBAAiB,KAExR,IGSpB,EACA,KACA,KACA,MAIa,IAAAH,E","file":"js/8-92a09e719171d8bba1fb.chunk.js","sourcesContent":["export const formatTime = timeInSeconds => {\n  if (!timeInSeconds) {\n    return '';\n  }\n\n  if (timeInSeconds < 60) {\n    return `${timeInSeconds}s`;\n  }\n\n  if (timeInSeconds < 3600) {\n    const minutes = Math.floor(timeInSeconds / 60);\n    return `${minutes}m`;\n  }\n\n  if (timeInSeconds < 86400) {\n    const hours = Math.floor(timeInSeconds / 3600);\n    return `${hours}h`;\n  }\n\n  const days = Math.floor(timeInSeconds / 86400);\n  return `${days}d`;\n};\n\nexport const GROUP_BY_FILTER = {\n  1: { id: 1, period: 'day' },\n  2: { id: 2, period: 'week' },\n  3: { id: 3, period: 'month' },\n  4: { id: 4, period: 'year' },\n};\n\nexport const GROUP_BY_OPTIONS = {\n  DAY: {\n    id: 'DAY',\n    period: 'day',\n    translationKey: 'REPORT.GROUPING_OPTIONS.DAY',\n  },\n  WEEK: {\n    id: 'WEEK',\n    period: 'week',\n    translationKey: 'REPORT.GROUPING_OPTIONS.WEEK',\n  },\n  MONTH: {\n    id: 'MONTH',\n    period: 'month',\n    translationKey: 'REPORT.GROUPING_OPTIONS.MONTH',\n  },\n  YEAR: {\n    id: 'YEAR',\n    period: 'year',\n    translationKey: 'REPORT.GROUPING_OPTIONS.YEAR',\n  },\n};\n\nexport const DATE_RANGE_OPTIONS = {\n  LAST_7_DAYS: {\n    id: 'LAST_7_DAYS',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.LAST_7_DAYS',\n    offset: 6,\n    groupByOptions: [GROUP_BY_OPTIONS.DAY],\n  },\n  LAST_30_DAYS: {\n    id: 'LAST_30_DAYS',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.LAST_30_DAYS',\n    offset: 29,\n    groupByOptions: [GROUP_BY_OPTIONS.DAY, GROUP_BY_OPTIONS.WEEK],\n  },\n  LAST_3_MONTHS: {\n    id: 'LAST_3_MONTHS',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.LAST_3_MONTHS',\n    offset: 89,\n    groupByOptions: [\n      GROUP_BY_OPTIONS.DAY,\n      GROUP_BY_OPTIONS.WEEK,\n      GROUP_BY_OPTIONS.MONTH,\n    ],\n  },\n  LAST_6_MONTHS: {\n    id: 'LAST_6_MONTHS',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.LAST_6_MONTHS',\n    offset: 179,\n    groupByOptions: [GROUP_BY_OPTIONS.WEEK, GROUP_BY_OPTIONS.MONTH],\n  },\n  LAST_YEAR: {\n    id: 'LAST_YEAR',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.LAST_YEAR',\n    offset: 364,\n    groupByOptions: [GROUP_BY_OPTIONS.WEEK, GROUP_BY_OPTIONS.MONTH],\n  },\n  CUSTOM_DATE_RANGE: {\n    id: 'CUSTOM_DATE_RANGE',\n    translationKey: 'REPORT.DATE_RANGE_OPTIONS.CUSTOM_DATE_RANGE',\n    offset: null,\n    groupByOptions: [\n      GROUP_BY_OPTIONS.DAY,\n      GROUP_BY_OPTIONS.WEEK,\n      GROUP_BY_OPTIONS.MONTH,\n      GROUP_BY_OPTIONS.YEAR,\n    ],\n  },\n};\n\nexport const CHART_FONT_FAMILY =\n  'PlusJakarta,-apple-system,system-ui,BlinkMacSystemFont,\"Segoe UI\",Roboto,\"Helvetica Neue\",Arial,sans-serif';\n\nexport const DEFAULT_LINE_CHART = {\n  type: 'line',\n  fill: false,\n  borderColor: '#779BBB',\n  pointBackgroundColor: '#779BBB',\n};\n\nexport const DEFAULT_BAR_CHART = {\n  type: 'bar',\n  backgroundColor: 'rgb(31, 147, 255)',\n};\n\nexport const DEFAULT_CHART = {\n  datasets: [DEFAULT_BAR_CHART],\n  scales: {\n    xAxes: [\n      {\n        ticks: {\n          fontFamily: CHART_FONT_FAMILY,\n        },\n        gridLines: {\n          drawOnChartArea: false,\n        },\n      },\n    ],\n    yAxes: [\n      {\n        id: 'y-left',\n        type: 'linear',\n        position: 'left',\n        ticks: {\n          fontFamily: CHART_FONT_FAMILY,\n          beginAtZero: true,\n          stepSize: 1,\n          callback: (value, index, values) => {\n            if (!index || index === values.length - 1) {\n              return value;\n            }\n            return '';\n          },\n        },\n        gridLines: {\n          drawOnChartArea: false,\n        },\n      },\n    ],\n  },\n};\n\nconst TIME_CHART_CONFIG = {\n  datasets: [DEFAULT_BAR_CHART],\n  scales: {\n    xAxes: [\n      {\n        ticks: {\n          fontFamily: CHART_FONT_FAMILY,\n        },\n        gridLines: {\n          drawOnChartArea: false,\n        },\n      },\n    ],\n    yAxes: [\n      {\n        id: 'y-left',\n        type: 'linear',\n        position: 'left',\n        ticks: {\n          fontFamily: CHART_FONT_FAMILY,\n          callback: (value, index, values) => {\n            if (!index || index === values.length - 1) {\n              return formatTime(value);\n            }\n            return '';\n          },\n        },\n        gridLines: {\n          drawOnChartArea: false,\n        },\n      },\n    ],\n  },\n};\n\nexport const METRIC_CHART = {\n  conversations_count: DEFAULT_CHART,\n  incoming_messages_count: DEFAULT_CHART,\n  outgoing_messages_count: DEFAULT_CHART,\n  avg_first_response_time: TIME_CHART_CONFIG,\n  reply_time: TIME_CHART_CONFIG,\n  avg_resolution_time: TIME_CHART_CONFIG,\n  resolutions_count: DEFAULT_CHART,\n  bot_resolutions_count: DEFAULT_CHART,\n  bot_handoffs_count: DEFAULT_CHART,\n};\n\nexport const OVERVIEW_METRICS = {\n  open: 'OPEN',\n  unattended: 'UNATTENDED',\n  unassigned: 'UNASSIGNED',\n  pending: 'PENDING',\n  online: 'ONLINE',\n  busy: 'BUSY',\n  offline: 'OFFLINE',\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"grid grid-cols-1 p-2 bg-white border rounded-md md:grid-cols-2 lg:grid-cols-3 dark:bg-slate-800 border-slate-100 dark:border-slate-700\"},_vm._l((_vm.metrics),function(metric){return _c('div',{key:metric.KEY,staticClass:\"p-4 mb-3 rounded-md\"},[_c('ChartStats',{attrs:{\"metric\":metric,\"account-summary-key\":_vm.accountSummaryKey}}),_vm._v(\" \"),_c('div',{staticClass:\"mt-4 h-72\"},[(_vm.accountReport.isFetching[metric.KEY])?_c('woot-loading-state',{staticClass:\"text-xs\",attrs:{\"message\":_vm.$t('REPORT.LOADING_CHART')}}):_c('div',{staticClass:\"flex items-center justify-center h-72\"},[(_vm.accountReport.data[metric.KEY].length)?_c('woot-bar',{staticClass:\"w-full h-72\",attrs:{\"collection\":_vm.getCollection(metric),\"chart-options\":_vm.getChartOptions(metric)}}):_c('span',{staticClass:\"text-sm text-slate-600\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('REPORT.NO_ENOUGH_DATA'))+\"\\n        \")])],1)],1)],1)}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { useMapGetter } from 'dashboard/composables/store';\nimport { formatTime } from '@chatwoot/utils';\n\n/**\n * A composable function for report metrics calculations and display.\n *\n * @param {string} [accountSummaryKey='getAccountSummary'] - The key for accessing account summary data.\n * @returns {Object} An object containing utility functions for report metrics.\n */\nexport function useReportMetrics(accountSummaryKey = 'getAccountSummary') {\n  const accountSummary = useMapGetter(accountSummaryKey);\n\n  /**\n   * Calculates the trend percentage for a given metric.\n   *\n   * @param {string} key - The key of the metric to calculate trend for.\n   * @returns {number} The calculated trend percentage, rounded to the nearest integer.\n   */\n  const calculateTrend = key => {\n    if (!accountSummary.value.previous[key]) return 0;\n    const diff = accountSummary.value[key] - accountSummary.value.previous[key];\n    return Math.round((diff / accountSummary.value.previous[key]) * 100);\n  };\n\n  /**\n   * Checks if a given metric key represents an average metric type.\n   *\n   * @param {string} key - The key of the metric to check.\n   * @returns {boolean} True if the metric is an average type, false otherwise.\n   */\n  const isAverageMetricType = key => {\n    return [\n      'avg_first_response_time',\n      'avg_resolution_time',\n      'reply_time',\n    ].includes(key);\n  };\n\n  /**\n   * Formats and displays a metric value based on its type.\n   *\n   * @param {string} key - The key of the metric to display.\n   * @returns {string} The formatted metric value as a string.\n   */\n  const displayMetric = key => {\n    if (isAverageMetricType(key)) {\n      return formatTime(accountSummary.value[key]);\n    }\n    return Number(accountSummary.value[key] || '').toLocaleString();\n  };\n\n  return {\n    calculateTrend,\n    isAverageMetricType,\n    displayMetric,\n  };\n}\n","import mod from \"-!../../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartStats.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChartStats.vue?vue&type=script&setup=true&lang=js&\"","<script setup>\nimport { useReportMetrics } from 'dashboard/composables/useReportMetrics';\n\nconst props = defineProps({\n  metric: {\n    type: Object,\n    default: () => ({}),\n  },\n  accountSummaryKey: {\n    type: String,\n    default: 'getAccountSummary',\n  },\n});\n\nconst { calculateTrend, displayMetric, isAverageMetricType } = useReportMetrics(\n  props.accountSummaryKey\n);\n\nconst trendColor = (value, key) => {\n  if (isAverageMetricType(key)) {\n    return value > 0\n      ? 'border-red-500 text-red-500'\n      : 'border-green-500 text-green-500';\n  }\n  return value < 0\n    ? 'border-red-500 text-red-500'\n    : 'border-green-500 text-green-500';\n};\n</script>\n\n<template>\n  <div class=\"text-slate-900 dark:text-slate-100\">\n    <span class=\"text-sm\">\n      {{ metric.NAME }}\n    </span>\n    <div class=\"flex items-end\">\n      <div class=\"text-xl font-medium\">\n        {{ displayMetric(metric.KEY) }}\n      </div>\n      <div v-if=\"metric.trend\" class=\"text-xs ml-4 flex items-center mb-0.5\">\n        <div\n          v-if=\"metric.trend < 0\"\n          class=\"h-0 w-0 border-x-4 medium border-x-transparent border-t-[8px] mr-1\"\n          :class=\"trendColor(metric.trend, metric.KEY)\"\n        />\n        <div\n          v-else\n          class=\"h-0 w-0 border-x-4 medium border-x-transparent border-b-[8px] mr-1\"\n          :class=\"trendColor(metric.trend, metric.KEY)\"\n        />\n        <span class=\"font-medium\" :class=\"trendColor(metric.trend, metric.KEY)\">\n          {{ calculateTrend(metric.KEY) }}%\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n","<script>\nimport { mapGetters } from 'vuex';\nimport { useReportMetrics } from 'dashboard/composables/useReportMetrics';\nimport { GROUP_BY_FILTER, METRIC_CHART } from './constants';\nimport fromUnixTime from 'date-fns/fromUnixTime';\nimport format from 'date-fns/format';\nimport { formatTime } from '@chatwoot/utils';\nimport ChartStats from './components/ChartElements/ChartStats.vue';\n\nexport default {\n  components: { ChartStats },\n  props: {\n    groupBy: {\n      type: Object,\n      default: () => ({}),\n    },\n    accountSummaryKey: {\n      type: String,\n      default: 'getAccountSummary',\n    },\n    reportKeys: {\n      type: Object,\n      default: () => ({\n        CONVERSATIONS: 'conversations_count',\n        INCOMING_MESSAGES: 'incoming_messages_count',\n        OUTGOING_MESSAGES: 'outgoing_messages_count',\n        FIRST_RESPONSE_TIME: 'avg_first_response_time',\n        RESOLUTION_TIME: 'avg_resolution_time',\n        RESOLUTION_COUNT: 'resolutions_count',\n        REPLY_TIME: 'reply_time',\n      }),\n    },\n  },\n  setup(props) {\n    const { calculateTrend, isAverageMetricType } = useReportMetrics(\n      props.accountSummaryKey\n    );\n    return { calculateTrend, isAverageMetricType };\n  },\n  computed: {\n    ...mapGetters({\n      accountReport: 'getAccountReports',\n    }),\n    metrics() {\n      const reportKeys = Object.keys(this.reportKeys);\n      const infoText = {\n        FIRST_RESPONSE_TIME: this.$t(\n          `REPORT.METRICS.FIRST_RESPONSE_TIME.INFO_TEXT`\n        ),\n        RESOLUTION_TIME: this.$t(`REPORT.METRICS.RESOLUTION_TIME.INFO_TEXT`),\n      };\n      return reportKeys.map(key => ({\n        NAME: this.$t(`REPORT.METRICS.${key}.NAME`),\n        KEY: this.reportKeys[key],\n        DESC: this.$t(`REPORT.METRICS.${key}.DESC`),\n        INFO_TEXT: infoText[key],\n        TOOLTIP_TEXT: `REPORT.METRICS.${key}.TOOLTIP_TEXT`,\n        trend: this.calculateTrend(this.reportKeys[key]),\n      }));\n    },\n  },\n  methods: {\n    getCollection(metric) {\n      if (!this.accountReport.data[metric.KEY]) {\n        return {};\n      }\n      const data = this.accountReport.data[metric.KEY];\n      const labels = data.map(element => {\n        if (this.groupBy?.period === GROUP_BY_FILTER[2].period) {\n          let week_date = new Date(fromUnixTime(element.timestamp));\n          const first_day = week_date.getDate() - week_date.getDay();\n          const last_day = first_day + 6;\n          const week_first_date = new Date(week_date.setDate(first_day));\n          const week_last_date = new Date(week_date.setDate(last_day));\n          return `${format(week_first_date, 'dd-MMM')} - ${format(\n            week_last_date,\n            'dd-MMM'\n          )}`;\n        }\n        if (this.groupBy?.period === GROUP_BY_FILTER[3].period) {\n          return format(fromUnixTime(element.timestamp), 'MMM-yyyy');\n        }\n        if (this.groupBy?.period === GROUP_BY_FILTER[4].period) {\n          return format(fromUnixTime(element.timestamp), 'yyyy');\n        }\n        return format(fromUnixTime(element.timestamp), 'dd-MMM');\n      });\n      const datasets = METRIC_CHART[metric.KEY].datasets.map(dataset => {\n        switch (dataset.type) {\n          case 'bar':\n            return {\n              ...dataset,\n              yAxisID: 'y-left',\n              label: metric.NAME,\n              data: data.map(element => element.value),\n            };\n          case 'line':\n            return {\n              ...dataset,\n              yAxisID: 'y-right',\n              label: this.metrics[0].NAME,\n              data: data.map(element => element.count),\n            };\n          default:\n            return dataset;\n        }\n      });\n      return {\n        labels,\n        datasets,\n      };\n    },\n    getChartOptions(metric) {\n      let tooltips = {};\n      if (this.isAverageMetricType(metric.KEY)) {\n        tooltips.callbacks = {\n          label: tooltipItem => {\n            return this.$t(metric.TOOLTIP_TEXT, {\n              metricValue: formatTime(tooltipItem.yLabel),\n              conversationCount:\n                this.accountReport.data[metric.KEY][tooltipItem.index].count,\n            });\n          },\n        };\n      }\n      return {\n        scales: METRIC_CHART[metric.KEY].scales,\n        tooltips: tooltips,\n      };\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"grid grid-cols-1 p-2 bg-white border rounded-md md:grid-cols-2 lg:grid-cols-3 dark:bg-slate-800 border-slate-100 dark:border-slate-700\"\n  >\n    <div\n      v-for=\"metric in metrics\"\n      :key=\"metric.KEY\"\n      class=\"p-4 mb-3 rounded-md\"\n    >\n      <ChartStats :metric=\"metric\" :account-summary-key=\"accountSummaryKey\" />\n      <div class=\"mt-4 h-72\">\n        <woot-loading-state\n          v-if=\"accountReport.isFetching[metric.KEY]\"\n          class=\"text-xs\"\n          :message=\"$t('REPORT.LOADING_CHART')\"\n        />\n        <div v-else class=\"flex items-center justify-center h-72\">\n          <woot-bar\n            v-if=\"accountReport.data[metric.KEY].length\"\n            :collection=\"getCollection(metric)\"\n            :chart-options=\"getChartOptions(metric)\"\n            class=\"w-full h-72\"\n          />\n          <span v-else class=\"text-sm text-slate-600\">\n            {{ $t('REPORT.NO_ENOUGH_DATA') }}\n          </span>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportContainer.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportContainer.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ChartStats.vue?vue&type=template&id=9c8a8680&\"\nimport script from \"./ChartStats.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./ChartStats.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"text-slate-900 dark:text-slate-100\"},[_c('span',{staticClass:\"text-sm\"},[_vm._v(\"\\n    \"+_vm._s(_vm.metric.NAME)+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-end\"},[_c('div',{staticClass:\"text-xl font-medium\"},[_vm._v(\"\\n      \"+_vm._s(_setup.displayMetric(_vm.metric.KEY))+\"\\n    \")]),_vm._v(\" \"),(_vm.metric.trend)?_c('div',{staticClass:\"text-xs ml-4 flex items-center mb-0.5\"},[(_vm.metric.trend < 0)?_c('div',{staticClass:\"h-0 w-0 border-x-4 medium border-x-transparent border-t-[8px] mr-1\",class:_setup.trendColor(_vm.metric.trend, _vm.metric.KEY)}):_c('div',{staticClass:\"h-0 w-0 border-x-4 medium border-x-transparent border-b-[8px] mr-1\",class:_setup.trendColor(_vm.metric.trend, _vm.metric.KEY)}),_vm._v(\" \"),_c('span',{staticClass:\"font-medium\",class:_setup.trendColor(_vm.metric.trend, _vm.metric.KEY)},[_vm._v(\"\\n        \"+_vm._s(_setup.calculateTrend(_vm.metric.KEY))+\"%\\n      \")])]):_vm._e()])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./ReportContainer.vue?vue&type=template&id=5a48177a&\"\nimport script from \"./ReportContainer.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportContainer.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 p-4 overflow-auto\"},[_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"arrow-download\"},on:{\"click\":_vm.downloadReports}},[_vm._v(\"\\n    \"+_vm._s(_vm.downloadButtonLabel)+\"\\n  \")]),_vm._v(\" \"),(_vm.filterItemsList)?_c('ReportFilters',{attrs:{\"type\":_vm.type,\"filter-items-list\":_vm.filterItemsList,\"group-by-filter-items-list\":_vm.groupByfilterItemsList,\"selected-group-by-filter\":_vm.selectedGroupByFilter},on:{\"dateRangeChange\":_vm.onDateRangeChange,\"filterChange\":_vm.onFilterChange,\"groupByFilterChange\":_vm.onGroupByFilterChange,\"businessHoursToggle\":_vm.onBusinessHoursToggle}}):_vm._e(),_vm._v(\" \"),(_vm.filterItemsList.length)?_c('ReportContainer',{attrs:{\"group-by\":_vm.groupBy}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportFilters.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReportFilters.vue?vue&type=script&lang=js&\"","<script>\nimport endOfDay from 'date-fns/endOfDay';\nimport getUnixTime from 'date-fns/getUnixTime';\nimport startOfDay from 'date-fns/startOfDay';\nimport subDays from 'date-fns/subDays';\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport WootDateRangePicker from 'dashboard/components/ui/DateRangePicker.vue';\n\nimport { GROUP_BY_FILTER } from '../constants';\nconst CUSTOM_DATE_RANGE_ID = 5;\n\nexport default {\n  components: {\n    WootDateRangePicker,\n    Thumbnail,\n  },\n  props: {\n    filterItemsList: {\n      type: Array,\n      default: () => [],\n    },\n    groupByFilterItemsList: {\n      type: Array,\n      default: () => [],\n    },\n    type: {\n      type: String,\n      default: 'agent',\n    },\n    selectedGroupByFilter: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  data() {\n    return {\n      currentSelectedFilter: null,\n      currentDateRangeSelection: this.$t('REPORT.DATE_RANGE')[0],\n      dateRange: this.$t('REPORT.DATE_RANGE'),\n      customDateRange: [new Date(), new Date()],\n      currentSelectedGroupByFilter: null,\n      businessHoursSelected: false,\n    };\n  },\n  computed: {\n    isDateRangeSelected() {\n      return this.currentDateRangeSelection.id === CUSTOM_DATE_RANGE_ID;\n    },\n    to() {\n      if (this.isDateRangeSelected) {\n        return this.toCustomDate(this.customDateRange[1]);\n      }\n      return this.toCustomDate(new Date());\n    },\n    from() {\n      if (this.isDateRangeSelected) {\n        return this.fromCustomDate(this.customDateRange[0]);\n      }\n      const dateRange = {\n        0: 6,\n        1: 29,\n        2: 89,\n        3: 179,\n        4: 364,\n      };\n      const diff = dateRange[this.currentDateRangeSelection.id];\n      const fromDate = subDays(new Date(), diff);\n      return this.fromCustomDate(fromDate);\n    },\n    multiselectLabel() {\n      const typeLabels = {\n        agent: this.$t('AGENT_REPORTS.FILTER_DROPDOWN_LABEL'),\n        label: this.$t('LABEL_REPORTS.FILTER_DROPDOWN_LABEL'),\n        inbox: this.$t('INBOX_REPORTS.FILTER_DROPDOWN_LABEL'),\n        team: this.$t('TEAM_REPORTS.FILTER_DROPDOWN_LABEL'),\n      };\n      return typeLabels[this.type] || this.$t('FORMS.MULTISELECT.SELECT_ONE');\n    },\n    groupBy() {\n      if (this.isDateRangeSelected) {\n        return GROUP_BY_FILTER[4].period;\n      }\n      const groupRange = {\n        0: GROUP_BY_FILTER[1].period,\n        1: GROUP_BY_FILTER[2].period,\n        2: GROUP_BY_FILTER[3].period,\n        3: GROUP_BY_FILTER[3].period,\n        4: GROUP_BY_FILTER[4].period,\n      };\n      return groupRange[this.currentDateRangeSelection.id];\n    },\n    notLast7Days() {\n      return this.groupBy !== GROUP_BY_FILTER[1].period;\n    },\n  },\n  watch: {\n    filterItemsList(val) {\n      this.currentSelectedFilter = val[0];\n      this.changeFilterSelection();\n    },\n    groupByFilterItemsList() {\n      this.currentSelectedGroupByFilter = this.selectedGroupByFilter;\n    },\n    businessHoursSelected() {\n      this.$emit('businessHoursToggle', this.businessHoursSelected);\n    },\n  },\n  mounted() {\n    this.onDateRangeChange();\n  },\n  methods: {\n    onDateRangeChange() {\n      this.$emit('dateRangeChange', {\n        from: this.from,\n        to: this.to,\n        groupBy: this.groupBy,\n      });\n    },\n    fromCustomDate(date) {\n      return getUnixTime(startOfDay(date));\n    },\n    toCustomDate(date) {\n      return getUnixTime(endOfDay(date));\n    },\n    changeDateSelection(selectedRange) {\n      this.currentDateRangeSelection = selectedRange;\n      this.onDateRangeChange();\n    },\n    changeFilterSelection() {\n      this.$emit('filterChange', this.currentSelectedFilter);\n    },\n    onChange(value) {\n      this.customDateRange = value;\n      this.onDateRangeChange();\n    },\n    changeGroupByFilterSelection() {\n      this.$emit('groupByFilterChange', this.currentSelectedGroupByFilter);\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col md:flex-row\">\n    <div class=\"flex flex-col items-center w-full md:flex-row\">\n      <div\n        v-if=\"type === 'agent'\"\n        class=\"md:w-[240px] w-full multiselect-wrap--small\"\n      >\n        <p class=\"mb-2 text-xs font-medium\">\n          {{ $t('AGENT_REPORTS.FILTER_DROPDOWN_LABEL') }}\n        </p>\n        <multiselect\n          v-model=\"currentSelectedFilter\"\n          :placeholder=\"multiselectLabel\"\n          label=\"name\"\n          track-by=\"id\"\n          :options=\"filterItemsList\"\n          :option-height=\"24\"\n          :show-labels=\"false\"\n          @input=\"changeFilterSelection\"\n        >\n          <template slot=\"singleLabel\" slot-scope=\"props\">\n            <div class=\"flex items-center gap-2\">\n              <Thumbnail\n                :src=\"props.option.thumbnail\"\n                :status=\"props.option.availability_status\"\n                :username=\"props.option.name\"\n                size=\"22px\"\n              />\n              <span class=\"reports-option__desc\">\n                <span class=\"my-0 text-slate-800 dark:text-slate-75\">{{\n                  props.option.name\n                }}</span>\n              </span>\n            </div>\n          </template>\n          <template slot=\"option\" slot-scope=\"props\">\n            <div class=\"flex items-center gap-2\">\n              <Thumbnail\n                :src=\"props.option.thumbnail\"\n                :status=\"props.option.availability_status\"\n                :username=\"props.option.name\"\n                size=\"22px\"\n              />\n              <p class=\"my-0 text-slate-800 dark:text-slate-75\">\n                {{ props.option.name }}\n              </p>\n            </div>\n          </template>\n        </multiselect>\n      </div>\n      <div\n        v-else-if=\"type === 'label'\"\n        class=\"md:w-[240px] w-full multiselect-wrap--small\"\n      >\n        <p class=\"mb-2 text-xs font-medium\">\n          {{ $t('LABEL_REPORTS.FILTER_DROPDOWN_LABEL') }}\n        </p>\n        <multiselect\n          v-model=\"currentSelectedFilter\"\n          :placeholder=\"multiselectLabel\"\n          label=\"title\"\n          track-by=\"id\"\n          :options=\"filterItemsList\"\n          :option-height=\"24\"\n          :show-labels=\"false\"\n          @input=\"changeFilterSelection\"\n        >\n          <template slot=\"singleLabel\" slot-scope=\"props\">\n            <div class=\"flex items-center gap-2\">\n              <div\n                :style=\"{ backgroundColor: props.option.color }\"\n                class=\"w-5 h-5 rounded-full\"\n              />\n              <span class=\"reports-option__desc\">\n                <span class=\"my-0 text-slate-800 dark:text-slate-75\">\n                  {{ props.option.title }}\n                </span>\n              </span>\n            </div>\n          </template>\n          <template slot=\"option\" slot-scope=\"props\">\n            <div class=\"flex items-center gap-2\">\n              <div\n                :style=\"{ backgroundColor: props.option.color }\"\n                class=\"flex-shrink-0 w-5 h-5 border border-solid rounded-full border-slate-100 dark:border-slate-800\"\n              />\n              <span class=\"reports-option__desc\">\n                <span class=\"my-0 text-slate-800 dark:text-slate-75\">\n                  {{ props.option.title }}\n                </span>\n              </span>\n            </div>\n          </template>\n        </multiselect>\n      </div>\n      <div v-else class=\"md:w-[240px] w-full multiselect-wrap--small\">\n        <p class=\"mb-2 text-xs font-medium\">\n          <template v-if=\"type === 'inbox'\">\n            {{ $t('INBOX_REPORTS.FILTER_DROPDOWN_LABEL') }}\n          </template>\n          <template v-else-if=\"type === 'team'\">\n            {{ $t('TEAM_REPORTS.FILTER_DROPDOWN_LABEL') }}\n          </template>\n          <!-- handle default condition because the prop is not limited to the given 4 values -->\n          <template v-else>\n            {{ $t('FORMS.MULTISELECT.SELECT_ONE') }}\n          </template>\n        </p>\n        <multiselect\n          v-model=\"currentSelectedFilter\"\n          track-by=\"id\"\n          label=\"name\"\n          :placeholder=\"multiselectLabel\"\n          selected-label\n          :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n          deselect-label=\"\"\n          :options=\"filterItemsList\"\n          :searchable=\"false\"\n          :allow-empty=\"false\"\n          @input=\"changeFilterSelection\"\n        />\n      </div>\n      <div class=\"mx-1 md:w-[240px] w-full multiselect-wrap--small\">\n        <p class=\"mb-2 text-xs font-medium\">\n          {{ $t('REPORT.DURATION_FILTER_LABEL') }}\n        </p>\n        <multiselect\n          v-model=\"currentDateRangeSelection\"\n          track-by=\"name\"\n          label=\"name\"\n          :placeholder=\"$t('FORMS.MULTISELECT.SELECT_ONE')\"\n          selected-label\n          :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n          deselect-label=\"\"\n          :options=\"dateRange\"\n          :searchable=\"false\"\n          :allow-empty=\"false\"\n          @select=\"changeDateSelection\"\n        />\n      </div>\n      <div v-if=\"isDateRangeSelected\" class=\"\">\n        <p class=\"mb-2 text-xs font-medium\">\n          {{ $t('REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER') }}\n        </p>\n        <WootDateRangePicker\n          show-range\n          :value=\"customDateRange\"\n          :confirm-text=\"$t('REPORT.CUSTOM_DATE_RANGE.CONFIRM')\"\n          :placeholder=\"$t('REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER')\"\n          @change=\"onChange\"\n        />\n      </div>\n      <div\n        v-if=\"notLast7Days\"\n        class=\"mx-1 md:w-[240px] w-full multiselect-wrap--small\"\n      >\n        <p class=\"mb-2 text-xs font-medium\">\n          {{ $t('REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL') }}\n        </p>\n        <multiselect\n          v-model=\"currentSelectedGroupByFilter\"\n          track-by=\"id\"\n          label=\"groupBy\"\n          :placeholder=\"$t('REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL')\"\n          :options=\"groupByFilterItemsList\"\n          :allow-empty=\"false\"\n          :show-labels=\"false\"\n          @input=\"changeGroupByFilterSelection\"\n        />\n      </div>\n    </div>\n    <div class=\"flex items-center my-2\">\n      <span class=\"mx-2 text-sm whitespace-nowrap\">\n        {{ $t('REPORT.BUSINESS_HOURS') }}\n      </span>\n      <span>\n        <woot-switch v-model=\"businessHoursSelected\" />\n      </span>\n    </div>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./ReportFilters.vue?vue&type=template&id=31f0b13c&\"\nimport script from \"./ReportFilters.vue?vue&type=script&lang=js&\"\nexport * from \"./ReportFilters.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col md:flex-row\"},[_c('div',{staticClass:\"flex flex-col items-center w-full md:flex-row\"},[(_vm.type === 'agent')?_c('div',{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"mb-2 text-xs font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('AGENT_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"placeholder\":_vm.multiselectLabel,\"label\":\"name\",\"track-by\":\"id\",\"options\":_vm.filterItemsList,\"option-height\":24,\"show-labels\":false},on:{\"input\":_vm.changeFilterSelection},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(props){return [_c('div',{staticClass:\"flex items-center gap-2\"},[_c('Thumbnail',{attrs:{\"src\":props.option.thumbnail,\"status\":props.option.availability_status,\"username\":props.option.name,\"size\":\"22px\"}}),_vm._v(\" \"),_c('span',{staticClass:\"reports-option__desc\"},[_c('span',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(_vm._s(props.option.name))])])],1)]}},{key:\"option\",fn:function(props){return [_c('div',{staticClass:\"flex items-center gap-2\"},[_c('Thumbnail',{attrs:{\"src\":props.option.thumbnail,\"status\":props.option.availability_status,\"username\":props.option.name,\"size\":\"22px\"}}),_vm._v(\" \"),_c('p',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(\"\\n              \"+_vm._s(props.option.name)+\"\\n            \")])],1)]}}],null,false,3534869941),model:{value:(_vm.currentSelectedFilter),callback:function ($$v) {_vm.currentSelectedFilter=$$v},expression:\"currentSelectedFilter\"}})],1):(_vm.type === 'label')?_c('div',{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"mb-2 text-xs font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('LABEL_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"placeholder\":_vm.multiselectLabel,\"label\":\"title\",\"track-by\":\"id\",\"options\":_vm.filterItemsList,\"option-height\":24,\"show-labels\":false},on:{\"input\":_vm.changeFilterSelection},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(props){return [_c('div',{staticClass:\"flex items-center gap-2\"},[_c('div',{staticClass:\"w-5 h-5 rounded-full\",style:({ backgroundColor: props.option.color })}),_vm._v(\" \"),_c('span',{staticClass:\"reports-option__desc\"},[_c('span',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(\"\\n                \"+_vm._s(props.option.title)+\"\\n              \")])])])]}},{key:\"option\",fn:function(props){return [_c('div',{staticClass:\"flex items-center gap-2\"},[_c('div',{staticClass:\"flex-shrink-0 w-5 h-5 border border-solid rounded-full border-slate-100 dark:border-slate-800\",style:({ backgroundColor: props.option.color })}),_vm._v(\" \"),_c('span',{staticClass:\"reports-option__desc\"},[_c('span',{staticClass:\"my-0 text-slate-800 dark:text-slate-75\"},[_vm._v(\"\\n                \"+_vm._s(props.option.title)+\"\\n              \")])])])]}}]),model:{value:(_vm.currentSelectedFilter),callback:function ($$v) {_vm.currentSelectedFilter=$$v},expression:\"currentSelectedFilter\"}})],1):_c('div',{staticClass:\"md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"mb-2 text-xs font-medium\"},[(_vm.type === 'inbox')?[_vm._v(\"\\n          \"+_vm._s(_vm.$t('INBOX_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n        \")]:(_vm.type === 'team')?[_vm._v(\"\\n          \"+_vm._s(_vm.$t('TEAM_REPORTS.FILTER_DROPDOWN_LABEL'))+\"\\n        \")]:[_vm._v(\"\\n          \"+_vm._s(_vm.$t('FORMS.MULTISELECT.SELECT_ONE'))+\"\\n        \")]],2),_vm._v(\" \"),_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":_vm.multiselectLabel,\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"options\":_vm.filterItemsList,\"searchable\":false,\"allow-empty\":false},on:{\"input\":_vm.changeFilterSelection},model:{value:(_vm.currentSelectedFilter),callback:function ($$v) {_vm.currentSelectedFilter=$$v},expression:\"currentSelectedFilter\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"mx-1 md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"mb-2 text-xs font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('REPORT.DURATION_FILTER_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"track-by\":\"name\",\"label\":\"name\",\"placeholder\":_vm.$t('FORMS.MULTISELECT.SELECT_ONE'),\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":\"\",\"options\":_vm.dateRange,\"searchable\":false,\"allow-empty\":false},on:{\"select\":_vm.changeDateSelection},model:{value:(_vm.currentDateRangeSelection),callback:function ($$v) {_vm.currentDateRangeSelection=$$v},expression:\"currentDateRangeSelection\"}})],1),_vm._v(\" \"),(_vm.isDateRangeSelected)?_c('div',{},[_c('p',{staticClass:\"mb-2 text-xs font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER'))+\"\\n      \")]),_vm._v(\" \"),_c('WootDateRangePicker',{attrs:{\"show-range\":\"\",\"value\":_vm.customDateRange,\"confirm-text\":_vm.$t('REPORT.CUSTOM_DATE_RANGE.CONFIRM'),\"placeholder\":_vm.$t('REPORT.CUSTOM_DATE_RANGE.PLACEHOLDER')},on:{\"change\":_vm.onChange}})],1):_vm._e(),_vm._v(\" \"),(_vm.notLast7Days)?_c('div',{staticClass:\"mx-1 md:w-[240px] w-full multiselect-wrap--small\"},[_c('p',{staticClass:\"mb-2 text-xs font-medium\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"groupBy\",\"placeholder\":_vm.$t('REPORT.GROUP_BY_FILTER_DROPDOWN_LABEL'),\"options\":_vm.groupByFilterItemsList,\"allow-empty\":false,\"show-labels\":false},on:{\"input\":_vm.changeGroupByFilterSelection},model:{value:(_vm.currentSelectedGroupByFilter),callback:function ($$v) {_vm.currentSelectedGroupByFilter=$$v},expression:\"currentSelectedGroupByFilter\"}})],1):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center my-2\"},[_c('span',{staticClass:\"mx-2 text-sm whitespace-nowrap\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('REPORT.BUSINESS_HOURS'))+\"\\n    \")]),_vm._v(\" \"),_c('span',[_c('woot-switch',{model:{value:(_vm.businessHoursSelected),callback:function ($$v) {_vm.businessHoursSelected=$$v},expression:\"businessHoursSelected\"}})],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { useAlert } from 'dashboard/composables';\nimport ReportFilters from './ReportFilters.vue';\nimport ReportContainer from '../ReportContainer.vue';\nimport { GROUP_BY_FILTER } from '../constants';\nimport { generateFileName } from '../../../../../helper/downloadHelper';\nimport { REPORTS_EVENTS } from '../../../../../helper/AnalyticsHelper/events';\n\nconst REPORTS_KEYS = {\n  CONVERSATIONS: 'conversations_count',\n  INCOMING_MESSAGES: 'incoming_messages_count',\n  OUTGOING_MESSAGES: 'outgoing_messages_count',\n  FIRST_RESPONSE_TIME: 'avg_first_response_time',\n  RESOLUTION_TIME: 'avg_resolution_time',\n  RESOLUTION_COUNT: 'resolutions_count',\n  REPLY_TIME: 'reply_time',\n};\n\nexport default {\n  components: {\n    ReportFilters,\n    ReportContainer,\n  },\n  props: {\n    type: {\n      type: String,\n      default: 'account',\n    },\n    getterKey: {\n      type: String,\n      default: '',\n    },\n    actionKey: {\n      type: String,\n      default: '',\n    },\n    downloadButtonLabel: {\n      type: String,\n      default: 'Download Reports',\n    },\n  },\n  data() {\n    return {\n      from: 0,\n      to: 0,\n      selectedFilter: null,\n      groupBy: GROUP_BY_FILTER[1],\n      groupByfilterItemsList: this.$t('REPORT.GROUP_BY_DAY_OPTIONS'),\n      selectedGroupByFilter: null,\n      businessHours: false,\n    };\n  },\n  computed: {\n    filterItemsList() {\n      return this.$store.getters[this.getterKey] || [];\n    },\n  },\n  mounted() {\n    this.$store.dispatch(this.actionKey);\n  },\n  methods: {\n    fetchAllData() {\n      if (this.selectedFilter) {\n        const { from, to, groupBy, businessHours } = this;\n        this.$store.dispatch('fetchAccountSummary', {\n          from,\n          to,\n          type: this.type,\n          id: this.selectedFilter.id,\n          groupBy: groupBy.period,\n          businessHours,\n        });\n        this.fetchChartData();\n      }\n    },\n    fetchChartData() {\n      [\n        'CONVERSATIONS',\n        'INCOMING_MESSAGES',\n        'OUTGOING_MESSAGES',\n        'FIRST_RESPONSE_TIME',\n        'RESOLUTION_TIME',\n        'RESOLUTION_COUNT',\n        'REPLY_TIME',\n      ].forEach(async key => {\n        try {\n          const { from, to, groupBy, businessHours } = this;\n          this.$store.dispatch('fetchAccountReport', {\n            metric: REPORTS_KEYS[key],\n            from,\n            to,\n            type: this.type,\n            id: this.selectedFilter.id,\n            groupBy: groupBy.period,\n            businessHours,\n          });\n        } catch {\n          useAlert(this.$t('REPORT.DATA_FETCHING_FAILED'));\n        }\n      });\n    },\n    downloadReports() {\n      const { from, to, type, businessHours } = this;\n      const dispatchMethods = {\n        agent: 'downloadAgentReports',\n        label: 'downloadLabelReports',\n        inbox: 'downloadInboxReports',\n        team: 'downloadTeamReports',\n      };\n      if (dispatchMethods[type]) {\n        const fileName = generateFileName({ type, to, businessHours });\n        const params = { from, to, fileName, businessHours };\n        this.$store.dispatch(dispatchMethods[type], params);\n      }\n    },\n    onDateRangeChange({ from, to, groupBy }) {\n      // do not track filter change on inital load\n      if (this.from !== 0 && this.to !== 0) {\n        this.$track(REPORTS_EVENTS.FILTER_REPORT, {\n          filterType: 'date',\n          reportType: this.type,\n        });\n      }\n\n      this.from = from;\n      this.to = to;\n      this.groupByfilterItemsList = this.fetchFilterItems(groupBy);\n      const filterItems = this.groupByfilterItemsList.filter(\n        item => item.id === this.groupBy.id\n      );\n      if (filterItems.length > 0) {\n        this.selectedGroupByFilter = filterItems[0];\n      } else {\n        this.selectedGroupByFilter = this.groupByfilterItemsList[0];\n        this.groupBy = GROUP_BY_FILTER[this.selectedGroupByFilter.id];\n      }\n      this.fetchAllData();\n    },\n    onFilterChange(payload) {\n      if (payload) {\n        this.selectedFilter = payload;\n        this.fetchAllData();\n      }\n    },\n    onGroupByFilterChange(payload) {\n      this.groupBy = GROUP_BY_FILTER[payload.id];\n      this.fetchAllData();\n\n      this.$track(REPORTS_EVENTS.FILTER_REPORT, {\n        filterType: 'groupBy',\n        filterValue: this.groupBy?.period,\n        reportType: this.type,\n      });\n    },\n    fetchFilterItems(groupBy) {\n      switch (groupBy) {\n        case GROUP_BY_FILTER[2].period:\n          return this.$t('REPORT.GROUP_BY_WEEK_OPTIONS');\n        case GROUP_BY_FILTER[3].period:\n          return this.$t('REPORT.GROUP_BY_MONTH_OPTIONS');\n        case GROUP_BY_FILTER[4].period:\n          return this.$t('REPORT.GROUP_BY_YEAR_OPTIONS');\n        default:\n          return this.$t('REPORT.GROUP_BY_DAY_OPTIONS');\n      }\n    },\n    onBusinessHoursToggle(value) {\n      this.businessHours = value;\n      this.fetchAllData();\n\n      this.$track(REPORTS_EVENTS.FILTER_REPORT, {\n        filterType: 'businessHours',\n        filterValue: value,\n        reportType: this.type,\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex-1 p-4 overflow-auto\">\n    <woot-button\n      color-scheme=\"success\"\n      class-names=\"button--fixed-top\"\n      icon=\"arrow-download\"\n      @click=\"downloadReports\"\n    >\n      {{ downloadButtonLabel }}\n    </woot-button>\n    <ReportFilters\n      v-if=\"filterItemsList\"\n      :type=\"type\"\n      :filter-items-list=\"filterItemsList\"\n      :group-by-filter-items-list=\"groupByfilterItemsList\"\n      :selected-group-by-filter=\"selectedGroupByFilter\"\n      @dateRangeChange=\"onDateRangeChange\"\n      @filterChange=\"onFilterChange\"\n      @groupByFilterChange=\"onGroupByFilterChange\"\n      @businessHoursToggle=\"onBusinessHoursToggle\"\n    />\n    <ReportContainer v-if=\"filterItemsList.length\" :group-by=\"groupBy\" />\n  </div>\n</template>\n","import mod from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WootReports.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WootReports.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./WootReports.vue?vue&type=template&id=5f1d9367&\"\nimport script from \"./WootReports.vue?vue&type=script&lang=js&\"\nexport * from \"./WootReports.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"date-picker\"},[_c('DatePicker',{attrs:{\"range\":\"\",\"confirm\":\"\",\"clearable\":false,\"editable\":false,\"confirm-text\":_vm.confirmText,\"placeholder\":_vm.placeholder,\"value\":_vm.value},on:{\"change\":_vm.handleChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateRangePicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateRangePicker.vue?vue&type=script&lang=js&\"","<script>\nimport DatePicker from 'vue2-datepicker';\nexport default {\n  components: { DatePicker },\n  props: {\n    confirmText: {\n      type: String,\n      default: '',\n    },\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    value: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  methods: {\n    handleChange(value) {\n      this.$emit('change', value);\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"date-picker\">\n    <DatePicker\n      range\n      confirm\n      :clearable=\"false\"\n      :editable=\"false\"\n      :confirm-text=\"confirmText\"\n      :placeholder=\"placeholder\"\n      :value=\"value\"\n      @change=\"handleChange\"\n    />\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./DateRangePicker.vue?vue&type=template&id=cad84076&\"\nimport script from \"./DateRangePicker.vue?vue&type=script&lang=js&\"\nexport * from \"./DateRangePicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}