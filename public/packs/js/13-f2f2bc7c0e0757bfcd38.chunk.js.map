{"version":3,"sources":["webpack:///./app/javascript/dashboard/helper/labelColor.js","webpack:///./app/javascript/shared/components/ui/MultiselectDropdownItems.vue?7281","webpack:///./app/javascript/shared/components/ui/MultiselectDropdownItems.vue?f6f4","webpack:///app/javascript/shared/components/ui/MultiselectDropdownItems.vue","webpack:///./app/javascript/shared/components/ui/MultiselectDropdownItems.vue","webpack:///./app/javascript/dashboard/components/widgets/InboxName.vue?d4fb","webpack:///./app/javascript/dashboard/components/widgets/InboxName.vue?bb5f","webpack:///app/javascript/dashboard/components/widgets/InboxName.vue","webpack:///./app/javascript/dashboard/components/widgets/InboxName.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/labels/validations.js","webpack:///./app/javascript/dashboard/routes/dashboard/settings/labels/AddLabel.vue?a506","webpack:///./app/javascript/dashboard/helper/agentHelper.js","webpack:///./app/javascript/shared/components/ui/MultiselectDropdownItems.vue?98bd","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/InstagramStory.vue?cb20","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Image.vue?8ecd","webpack:///app/javascript/dashboard/components/widgets/conversation/bubble/Image.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Image.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Image.vue?6e94","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Video.vue?d22c","webpack:///app/javascript/dashboard/components/widgets/conversation/bubble/Video.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/InstagramStoryErrorPlaceHolder.vue?a443","webpack:///app/javascript/dashboard/components/widgets/conversation/bubble/InstagramStoryErrorPlaceHolder.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/InstagramStory.vue?6a73","webpack:///app/javascript/dashboard/components/widgets/conversation/bubble/InstagramStory.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Video.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Video.vue?2e76","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/InstagramStoryErrorPlaceHolder.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/InstagramStoryErrorPlaceHolder.vue?606b","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/InstagramStory.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/labels/AddLabel.vue?4fdd","webpack:///app/javascript/dashboard/routes/dashboard/settings/labels/AddLabel.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/labels/AddLabel.vue?72c9","webpack:///./app/javascript/dashboard/routes/dashboard/settings/labels/AddLabel.vue","webpack:///./app/javascript/shared/components/ui/MultiselectDropdown.vue?a4fd","webpack:///./app/javascript/shared/components/ui/MultiselectDropdown.vue?004a","webpack:///app/javascript/shared/components/ui/MultiselectDropdown.vue","webpack:///./app/javascript/shared/components/ui/MultiselectDropdown.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessagePreview.vue?0043","webpack:///app/javascript/dashboard/components/widgets/conversation/MessagePreview.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessagePreview.vue?0310","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessagePreview.vue","webpack:///./node_modules/@scmmishra/pico-search/dist/index.mjs","webpack:///./app/javascript/dashboard/components/widgets/conversation/conversationCardComponents/CardLabels.vue?2ecb","webpack:///./app/javascript/dashboard/helper/conversationHelper.js","webpack:///./app/javascript/shared/components/ui/MultiselectDropdown.vue?dc6a","webpack:///./app/javascript/dashboard/mixins/fileUploadMixin.js","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/customAttributes/CustomAttributes.vue?7db8","webpack:///./app/javascript/dashboard/components/ui/HelperTextPopup.vue?c5dc","webpack:///./app/javascript/dashboard/components/ui/HelperTextPopup.vue","webpack:///./app/javascript/dashboard/components/ui/HelperTextPopup.vue?cbf7","webpack:///./app/javascript/dashboard/components/CustomAttribute.vue?2100","webpack:///app/javascript/dashboard/components/CustomAttribute.vue","webpack:///./app/javascript/dashboard/components/CustomAttribute.vue","webpack:///./app/javascript/dashboard/components/CustomAttribute.vue?aee2","webpack:///CustomAttributes.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/customAttributes/CustomAttributes.vue?9db7","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/customAttributes/CustomAttributes.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAPopoverCard.vue?36f7","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAEventItem.vue?8d6d","webpack:///SLAEventItem.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAEventItem.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAEventItem.vue?3861","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAPopoverCard.vue?d746","webpack:///SLAPopoverCard.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLAPopoverCard.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/ReplyEmailHead.vue?a3c5","webpack:///./app/javascript/dashboard/components/widgets/conversation/helpers/emailHeadHelper.js","webpack:///./app/javascript/dashboard/components/widgets/conversation/ReplyEmailHead.vue?82ea","webpack:///app/javascript/dashboard/components/widgets/conversation/ReplyEmailHead.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/ReplyEmailHead.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLACardLabel.vue?11df","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLACardLabel.vue?3c8c","webpack:///app/javascript/dashboard/components/widgets/conversation/components/SLACardLabel.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/SLACardLabel.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/conversationCardComponents/CardLabels.vue?894f","webpack:///./app/javascript/dashboard/components/widgets/conversation/conversationCardComponents/CardLabels.vue?85b3","webpack:///app/javascript/dashboard/components/widgets/conversation/conversationCardComponents/CardLabels.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/conversationCardComponents/CardLabels.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/ImageAudioVideo.vue?e048","webpack:///app/javascript/dashboard/components/widgets/conversation/bubble/ImageAudioVideo.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/ImageAudioVideo.vue?4799","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/ImageAudioVideo.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Location.vue?120a","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Location.vue?a9e5","webpack:///Location.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Location.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Contact.vue?6986","webpack:///app/javascript/dashboard/components/widgets/conversation/bubble/Contact.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Contact.vue?9f5a","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Contact.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/File.vue?3d03","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/File.vue?f3a4","webpack:///app/javascript/dashboard/components/widgets/conversation/bubble/File.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/File.vue","webpack:///./app/javascript/dashboard/components/ui/TimeAgo.vue?cfe7","webpack:///app/javascript/dashboard/components/ui/TimeAgo.vue","webpack:///./app/javascript/dashboard/components/ui/TimeAgo.vue?6e64","webpack:///./app/javascript/dashboard/components/ui/TimeAgo.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessageSignatureMissingAlert.vue?9800","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessageSignatureMissingAlert.vue?1333","webpack:///app/javascript/dashboard/components/widgets/conversation/MessageSignatureMissingAlert.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/MessageSignatureMissingAlert.vue","webpack:///./app/javascript/dashboard/components/widgets/AttachmentsPreview.vue?d21f","webpack:///./app/javascript/dashboard/components/widgets/AttachmentsPreview.vue?5433","webpack:///AttachmentsPreview.vue","webpack:///./app/javascript/dashboard/components/widgets/AttachmentsPreview.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/GalleryView.vue?093e","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/GalleryView.vue?9570","webpack:///GalleryView.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/components/GalleryView.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItem.vue?c85b","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItem.vue?5a24","webpack:///app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItem.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItem.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue?6cde","webpack:///app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue?be06","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue?1165","webpack:///app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue?2218","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue","webpack:///./app/javascript/dashboard/helper/flag.js","webpack:///./app/javascript/dashboard/components/widgets/conversation/ConversationCard.vue?8e53","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItemWithSubmenu.vue?1d11","webpack:///app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItemWithSubmenu.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItemWithSubmenu.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItemWithSubmenu.vue?8783","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/agentLoadingPlaceholder.vue?b1e6","webpack:///app/javascript/dashboard/components/widgets/conversation/contextMenu/agentLoadingPlaceholder.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/agentLoadingPlaceholder.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/agentLoadingPlaceholder.vue?8a52","webpack:///app/javascript/dashboard/components/widgets/conversation/contextMenu/Index.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/Index.vue?43ce","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/Index.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/Index.vue?4d65","webpack:///app/javascript/dashboard/components/widgets/conversation/PriorityMark.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/PriorityMark.vue?941c","webpack:///./app/javascript/dashboard/components/widgets/conversation/PriorityMark.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/PriorityMark.vue?0a54","webpack:///app/javascript/dashboard/components/widgets/conversation/ConversationCard.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/ConversationCard.vue?bb62","webpack:///./app/javascript/dashboard/components/widgets/conversation/ConversationCard.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactForm.vue?1ff7","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/ContactForm.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactForm.vue?fcc8","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactForm.vue","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/Contact.vue?6d5e","webpack:///./app/javascript/dashboard/components/widgets/conversation/bubble/File.vue?94b4","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItem.vue?8c55","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/menuItemWithSubmenu.vue?3e0e","webpack:///./app/javascript/dashboard/components/widgets/conversation/contextMenu/agentLoadingPlaceholder.vue?7606","webpack:///./app/javascript/dashboard/components/widgets/conversation/ConversationCard.vue?d1a8","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/ContactConversations.vue?64d7","webpack:///./app/javascript/shared/components/ui/label/LabelDropdownItem.vue?508b","webpack:///./app/javascript/shared/components/ui/label/LabelDropdown.vue?5384","webpack:///./app/javascript/shared/components/ui/dropdown/AddLabel.vue?7dd4","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactForm.vue?9427","webpack:///./app/javascript/dashboard/components/widgets/conversation/ReplyEmailHead.vue?199f","webpack:///./app/javascript/dashboard/components/widgets/InboxDropdownItem.vue?7d08","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue?ca29","webpack:///./app/javascript/dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue?32d2","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ConversationForm.vue?a1d7","webpack:///./app/javascript/dashboard/modules/contact/components/ContactDropdownItem.vue?38b2","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContact.vue?022f","webpack:///./app/javascript/dashboard/components/CustomAttribute.vue?a7cf","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfo.vue?0bbb","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfoRow.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfoRow.vue?6699","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfoRow.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfoRow.vue?9156","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/SocialIcons.vue?43c2","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/SocialIcons.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/SocialIcons.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/SocialIcons.vue?0a33","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/EditContact.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/EditContact.vue?8b22","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/EditContact.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/EditContact.vue?e207","webpack:///./app/javascript/dashboard/components/widgets/InboxDropdownItem.vue?97df","webpack:///app/javascript/dashboard/components/widgets/InboxDropdownItem.vue","webpack:///./app/javascript/dashboard/components/widgets/InboxDropdownItem.vue","webpack:///./app/javascript/dashboard/components/widgets/InboxDropdownItem.vue?bacf","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/WhatsappTemplates.vue?8a41","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/WhatsappTemplates.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/WhatsappTemplates.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/WhatsappTemplates.vue?f40e","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/ConversationForm.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ConversationForm.vue?4301","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ConversationForm.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ConversationForm.vue?f397","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/NewConversation.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/NewConversation.vue?f0d2","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/NewConversation.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/NewConversation.vue?40a9","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContactSummary.vue?43cd","webpack:///app/javascript/dashboard/modules/contact/components/MergeContactSummary.vue","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContactSummary.vue","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContactSummary.vue?9d4f","webpack:///./app/javascript/dashboard/modules/contact/components/ContactDropdownItem.vue?987a","webpack:///app/javascript/dashboard/modules/contact/components/ContactDropdownItem.vue","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContact.vue?e0a6","webpack:///app/javascript/dashboard/modules/contact/components/MergeContact.vue","webpack:///./app/javascript/dashboard/modules/contact/components/ContactDropdownItem.vue","webpack:///./app/javascript/dashboard/modules/contact/components/ContactDropdownItem.vue?da29","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContact.vue","webpack:///./app/javascript/dashboard/modules/contact/components/MergeContact.vue?d197","webpack:///app/javascript/dashboard/modules/contact/ContactMergeModal.vue","webpack:///./app/javascript/dashboard/modules/contact/ContactMergeModal.vue?88df","webpack:///./app/javascript/dashboard/modules/contact/ContactMergeModal.vue","webpack:///./app/javascript/dashboard/modules/contact/ContactMergeModal.vue?b09f","webpack:///app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfo.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfo.vue?38cc","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/contact/ContactInfo.vue","webpack:///./app/javascript/shared/components/ui/label/LabelDropdown.vue?4ede","webpack:///./app/javascript/shared/components/ui/label/LabelDropdownItem.vue?2907","webpack:///app/javascript/shared/components/ui/label/LabelDropdownItem.vue","webpack:///./app/javascript/shared/components/ui/label/LabelDropdownItem.vue","webpack:///./app/javascript/shared/components/ui/label/LabelDropdownItem.vue?e838","webpack:///./app/javascript/shared/helpers/sanitizeData.js","webpack:///app/javascript/shared/components/ui/label/LabelDropdown.vue","webpack:///./app/javascript/shared/components/ui/label/LabelDropdown.vue?3edf","webpack:///./app/javascript/shared/components/ui/label/LabelDropdown.vue","webpack:///./app/javascript/dashboard/components/Accordion/AccordionItem.vue?586b","webpack:///./app/javascript/dashboard/components/Accordion/AccordionItem.vue?7638","webpack:///app/javascript/dashboard/components/Accordion/AccordionItem.vue","webpack:///./app/javascript/dashboard/components/Accordion/AccordionItem.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/ContactConversations.vue?a3a9","webpack:///app/javascript/dashboard/routes/dashboard/conversation/ContactConversations.vue","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/ContactConversations.vue?7e39","webpack:///./app/javascript/dashboard/routes/dashboard/conversation/ContactConversations.vue","webpack:///./app/javascript/shared/components/ui/dropdown/AddLabel.vue?1177","webpack:///./app/javascript/shared/components/ui/dropdown/AddLabel.vue?e382","webpack:///app/javascript/shared/components/ui/dropdown/AddLabel.vue","webpack:///./app/javascript/shared/components/ui/dropdown/AddLabel.vue","webpack:///./node_modules/core-js/modules/es.string.from-code-point.js","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactInfoPanel.vue?6ddc","webpack:///./app/javascript/dashboard/components/widgets/LabelSelector.vue?6424","webpack:///LabelSelector.vue","webpack:///app/javascript/dashboard/routes/dashboard/contacts/components/ContactLabels.vue","webpack:///./app/javascript/dashboard/components/widgets/LabelSelector.vue","webpack:///./app/javascript/dashboard/components/widgets/LabelSelector.vue?875c","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactLabels.vue?e40a","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactLabels.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactLabels.vue?bc33","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactInfoPanel.vue?b3aa","webpack:///app/javascript/dashboard/routes/dashboard/contacts/components/ContactInfoPanel.vue","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactInfoPanel.vue","webpack:///./node_modules/date-fns/esm/parseISO/index.js","webpack:///./app/javascript/widget/helpers/constants.js","webpack:///./app/javascript/dashboard/routes/dashboard/contacts/components/ContactInfoPanel.vue?1d10","webpack:///./app/javascript/shared/helpers/markdownIt/link.js","webpack:///./app/javascript/shared/helpers/MessageFormatter.js","webpack:///./app/javascript/shared/composables/useMessageFormatter.js"],"names":["getRandomColor","color","i","Math","floor","random","component","_vm","this","_c","_self","staticClass","directives","name","rawName","value","expression","ref","attrs","inputPlaceholder","domProps","on","$event","target","composing","search","_v","_l","option","key","id","class","active","isActive","onclick","thumbnail","availability_status","_e","_s","noSearchResult","computedInboxClass","inbox","getLabelTitleErrorMessage","validation","errorMessage","title","$error","required","minLength","validLabelCharacters","str","includes","description","showOnSidebar","createNoneAgent","confirmed","role","account_id","email","getAgentsByAvailability","agents","availability","filter","agent","sort","a","b","localeCompare","getSortedAgentsByAvailability","onlineAgents","busyAgents","offlineAgents","getAgentsByUpdatedPresence","currentUser","currentAccountId","map","item","accounts","find","account","getCombinedAgents","filteredAgentsByAvailability","includeNoneAgent","isAgentSelected","url","onClick","$emit","show","onClose","$t","hasImgStoryError","hasVideoStoryError","storyUrl","onVideoLoadError","onImageLoadError","preventDefault","addLabel","apply","arguments","error","v$","labelTitleErrorMessage","$touch","model","callback","$$v","trim","Array","isArray","_i","$$a","$$el","$$c","checked","$$i","concat","slice","$invalid","uiFlags","isCreating","type","indexOf","_k","keyCode","onCloseDropdown","toggleDropdown","hasValue","hasThumbnail","selectedItem","multiselectorPlaceholder","showSearchDropdown","multiselectorTitle","options","onClickSelectItem","message","content","isMessageSticker","parsedLastMessage","attachmentIcon","showMessageType","attachmentMessageContent","attachment","thumb_url","onMediaLoadError","isAttachmentImageVideoAudio","file_type","coordinates_lat","coordinates_long","fallback_title","defaultEmptyMessage","_toConsumableArray","arr","_arrayLikeToArray","_arrayWithoutHoles","iter","Symbol","iterator","from","_iterableToArray","_unsupportedIterableToArray","TypeError","_nonIterableSpread","o","minLen","n","Object","prototype","toString","call","constructor","test","len","length","arr2","y","e","t","Error","reduce","s","m","T","split","O","threshold","toLowerCase","forEach","r","_step","c","l","_iterator","allowArrayLike","it","F","done","f","err","normalCompletion","didErr","step","next","_e2","return","_createForOfIteratorHelper","push","weight","hasOwnProperty","h","A","g","object","similarity","max","fill","_n","u","d","_n2","_u","min","_n3","p","W","undefined","S","filterDuplicateSourceMessages","messages","messagesWithoutDuplicates","m1","source_id","findIndex","m2","getLastMessage","messageInStore","messageFromAPI","lastMessageIncludingActivity","nonActivityMessages","message_type","lastNonActivityMessageInStore","lastNonActivityMessageFromAPI","last_non_activity_message","created_at","getReadMessages","agentLastSeenAt","getUnreadMessages","computed","mapGetters","accountId","methods","onFileUpload","file","globalConfig","directUploadsEnabled","onDirectFileUpload","onIndirectFileUpload","MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE","isATwilioSMSChannel","MAXIMUM_FILE_UPLOAD_SIZE_TWILIO_SMS_CHANNEL","MAXIMUM_FILE_UPLOAD_SIZE","checkFileSizeLimit","DirectUpload","currentChat","directUploadWillCreateBlobWithXHR","xhr","setRequestHeader","access_token","create","blob","useAlert","attachFile","_setupProxy","editedValue","onUpdate","label","showActions","modifiers","onDelete","_q","inputType","isEditing","hrefURL","urlValue","displayValue","onCopy","onEdit","listOptions","onUpdateListValue","store","getters","route","useI18n","useUISettings","uiSettings","updateUISettings","showAllAttributes","toggleShowAllAttributes","getSelectedChat","attributes","props","attributeType","contactIdentifier","meta","sender","params","contactId","contact","customAttributes","custom_attributes","conversationId","toggleButtonText","filteredAttributes","attribute","attribute_key","defaultValue","attribute_display_type","displayedAttributes","showMoreUISettingsKey","attributeFrom","initializeSettings","updatedAttributes","dispatch","response","attributeValue","evenClass","oddClass","wrapperClass","startAt","_setup","CustomAttribute","attribute_values","attribute_display_name","attribute_description","regex_pattern","regex_cue","emptyStateMessage","onClickToggle","timestamp","format","fromUnixTime","formatDate","_t","SLA_MISS_TYPES","shouldShowAllNrts","frtMisses","slaMissedEvents","slaEvent","event_type","FRT","nrtMisses","missedEvents","NRT","rtMisses","RT","shouldShowMoreNRTButton","SLAEventItem","scopedSlots","fn","toggleShowAllNRT","count","proxy","validEmailsByComma","replace","every","emailValidator","$validator","toEmailsVal","onBlur","$set","ccEmailsVal","showBcc","handleAddBcc","bccEmailsVal","showExtendedInfo","openSlaPopover","slaTextStyles","slaStatus","icon","isSlaMissed","slaStatusText","slaEvents","activeLabels","$slots","before","showAllLabels","index","hidden","labelPosition","onShowLabels","attachmentTypeClasses","isImage","isImageError","dataUrl","imageWidth","imageHeight","onImgErrorDelay","isImageErrorDelay","Date","now","onImgError","timeStampURL","filteredCurrentChatAttachments","mapUrl","latitude","longitude","phoneNumber","addContact","decodeURI","fileName","tooltipText","delay","hide","hideOnClick","createdAtTime","lastActivityTime","openProfileSettings","nonRecordedAudioAttachments","attachments","isRecordedAudio","recordedAudioAttachments","itemIndex","emit","_","size","byte_size","content_type","filename","isTypeImage","resource","thumb","formatFileSize","onRemoveAttachment","ALLOWED_FILE_TYPES","IMAGE","VIDEO","IG_REEL","AUDIO","zoomScale","activeAttachment","activeFileType","activeImageIndex","allAttachments","message_id","activeImageRotation","getCurrentUser","hasMoreThanOneAttachment","readableTime","createdAt","isVideo","isAudio","senderDetails","availableName","available_name","avatar_url","avatar","fileNameFromDataUrl","data_url","pop","decodeURIComponent","imageRotationStyle","transform","cursor","setImageAndVideoSrc","values","onClickChangeAttachment","onZoom","scale","newZoomScale","keyboardEvents","Escape","action","ArrowLeft","ArrowRight","useKeyboardEvents","link","document","createElement","href","download","click","rotation","abs","deltaY","stopPropagation","Thumbnail","onRotate","onClickDownload","style","onClickZoomImage","onWheelImageZoom","variant","backgroundColor","status","query","template","language","getTemplatebody","category","filteredTemplateMessages","processedString","variable","marginBottom","processedParams","$dirty","resetTemplate","sendMessage","getCountryFlag","countryCode","codePoints","toUpperCase","char","charCodeAt","String","fromCodePoint","subMenuAvailable","hasUnreadMessages","unreadOption","toggleStatus","snoozeOption","snoozeConversation","priorityConfig","assignPriority","labelMenuConfig","labels","generateMenuLabelConfig","agentMenuConfig","assignableAgents","assignableAgentsUiFlags","teamMenuConfig","teams","team","isUrgent","priority","isActiveChat","hasUnread","showInboxName","selected","onCardHover","onCardLeave","onCardClick","openContextMenu","hovered","onSelectConversation","currentContact","inboxBadge","showAssignee","assignee","chat","callInfo","chat_id","callStatusMessage","lastMessageInChat","unreadCount","contextMenu","x","closeContextMenu","onUpdateConversation","onAssignAgent","onAssignLabel","onAssignTeam","markAsUnread","handleSubmit","avatarUrl","handleImageUpload","handleAvatarDelete","$forceUpdate","isPhoneNumberNotValid","onPhoneNumberInputChange","setPhoneCode","phoneNumberError","companyName","countryNameWithCode","countries","country","city","socialProfile","socialProfileUserNames","inProgress","onCancel","emoji","availableProfiles","profile","socialProfiles","isUpdating","onSubmit","onSuccess","computedInboxIcon","inboxIdentifier","computedInboxType","selectedWaTemplate","onResetTemplate","onSendMessage","inboxId","pickTemplate","onFormSubmit","targetInbox","inboxes","computedInboxSource","channel_type","subject","showCannedResponseMenu","hasSlashCommand","cannedResponseSearchKey","replaceTextWithCannedResponse","ccEmails","bccEmails","editor_warning","signatureToApply","toggleCannedMenu","isSignatureEnabledForInbox","messageSignature","signatureToggleTooltip","toggleMessageSignature","selectedInbox","toggleWaTemplate","onSendWhatsAppReply","allowedFileTypes","direct_upload_url","direct_upload","attachedFiles","removeAttachment","hasWhatsappTemplates","conversationsUiFlags","$refs","uploadAttachment","dropActive","primaryContactName","parentContactName","identifier","parentContact","searchResults","isSearching","searchChange","phone_number","slot","primaryContact","isMerging","onContactSearch","onMergeContacts","closeIconName","onPanelToggle","dynamicTime","contactProfileLink","additionalAttributes","company_name","location","toggleConversationModal","toggleEditModal","openMergeModal","isDeleting","toggleDeleteModal","showEditModal","showConversationModal","showMergeModal","toggleMergeModal","showDeleteModal","closeDelete","confirmDeletion","confirmDeleteMessage","labelSanitizePattern","spacesPattern","selectedLabels","onAddRemove","allowCreation","shouldShowCreate","hasExactMatchInResults","showCreateModal","createLabelPlaceholder","parsedSearch","createModalVisible","hideCreateModal","compact","isFetching","previousConversations","conversation","$","toAbsoluteIndex","fromCharCode","$fromCodePoint","stat","forced","code","elements","RangeError","join","isAdmin","useAdmin","showSearchDropdownLabel","savedLabels","toggleLabels","closeDropdownLabel","KeyL","allowOnFocusedInput","AddLabel","removeItem","LabelDropdown","allLabels","addItem","showAvatar","showCloseButton","contactSidebarItems","dragEnabled","dragging","onDragEnd","element","isContactSidebarItemOpen","toggleSidebarUIState","MILLISECONDS_IN_HOUR","patterns","dateTimeDelimiter","timeZoneDelimiter","timezone","dateRegex","timeRegex","timezoneRegex","parseISO","argument","dirtyOptions","additionalDigits","NaN","date","dateStrings","splitDateString","parseYearResult","parseYear","parseDate","restDateString","year","isNaN","offset","getTime","time","parseTime","dirtyDate","result","setFullYear","getUTCFullYear","getUTCMonth","getUTCDate","setHours","getUTCHours","getUTCMinutes","getUTCSeconds","getUTCMilliseconds","parseTimezone","dateString","timeString","array","substr","token","exec","regex","RegExp","captures","match","parseInt","century","isWeekDate","dayOfYear","parseDateUnit","month","day","week","dayOfWeek","_year","validateWeekDate","isoWeekYear","setUTCFullYear","fourthOfJanuaryDay","getUTCDay","diff","setUTCDate","dayOfISOWeekYear","daysInMonths","isLeapYearIndex","validateDate","validateDayOfYearDate","hours","parseTimeUnit","minutes","seconds","validateTime","parseFloat","timezoneString","sign","_hours","validateTimezone","APP_BASE_URL","MESSAGE_TYPE","INCOMING","OUTGOING","ACTIVITY","TEMPLATE","WOOT_PREFIX","USER_MENTIONS_REGEX","processInlineToken","blockToken","children","inlineToken","imgSrc","attrGet","height","URL","searchParams","get","attrSet","setImageHeight","md","require","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","maxNesting","use","renderer","rules","mention","tokens","idx","inline","ruler","state","silent","labelEnd","labelStart","pos","res","posMax","src","helpers","parseLinkLabel","parseLinkDestination","ok","normalizeLink","validateLink","core","after","mila","rel","TWITTER_USERNAME_REGEX","TWITTER_HASH_REGEX","MessageFormatter","isATweet","isAPrivateNote","updatedMessage","render","formatMessage","DOMParser","parseFromString","formattedMessage","body","textContent","useMessageFormatter","getPlainText","plainText","truncateMessage","highlightContent","searchTerm","highlightClass","plainTextContent","escapedSearchTerm"],"mappings":"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qB,CAACF,EAAG,WAAWF,EAAImB,GAAG,KAAKjB,EAAG,IAAI,CAACF,EAAImB,GAAGnB,EAAI+B,GAAG/B,EAAIkF,GAAG,sDAAsD,KAEtM,IDUpB,EACA,KACA,WACA,M,wjDELF,OACA,YACA,aACA,sBACA,2BAEA,OACA,QACA,YACA,cAEA,QACA,YACA,YAEA,mBACA,aACA,YAEA,SACA,YACA,cAEA,UACA,YACA,eAGA,KA5BA,WA4BA,WACA,OACA,4BACA,cACA,+DACA,aAEA,kBACA,CACA,6BACA,yDACA,kBAEA,CACA,4BACA,wDACA,mBAEA,CACA,yBACA,uDACA,oBAGA,cACA,4BACA,6DACA,eAEA,gBACA,eACA,6CACA,eACA,SACA,CACA,oDACA,UAEA,CACA,sDACA,cAEA,CACA,oDACA,YAEA,CACA,sDACA,cAEA,CACA,mDACA,YAEA,kDAEA,iBACA,YACA,WACA,8DAEA,iBACA,YACA,kBACA,8DAEA,gBACA,WACA,uBACA,+DAIA,gBACA,sBACA,0BACA,uBACA,2DACA,6BACA,0CANA,IAQA,4BARA,WASA,0BACA,6CACA,cACA,cACA,EACA,iBACA,uBAKA,OAHA,YACA,IAIA,iBAtBA,WAuBA,OACA,CACA,aACA,YACA,QACA,aACA,aACA,eAPA,SASA,oCAGA,WAnCA,WAqCA,6CAGA,QA7IA,WA8IA,oEAEA,SACA,aADA,SACA,KACA,sCAEA,mBAJA,WAIA,I,EAAA,c,EAAA,sIACC,EAAD,iDADA,OAEA,qCACA,qCAHA,0C,kLAKA,eATA,SASA,GACA,gCAEA,KAZA,SAYA,GAGA,wBAEA,wBAjBA,SAiBA,uEACA,wBACA,UACA,2BACA,8BACA,sCACA,6CACA,6BACA,8BACA,6BACA,+BCrL6N,ICkB9M,EAXC,YACd,GCRW,WAAkB,IAAIlF,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,uDAAuD,CAAGJ,EAAI4f,kBAAuJ5f,EAAI8B,KAAxI5B,EAAG,WAAW,CAACS,MAAM,CAAC,OAASX,EAAI6f,aAAa,QAAU,QAAQ/e,GAAG,CA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","file":"js/13-f2f2bc7c0e0757bfcd38.chunk.js","sourcesContent":["export const getRandomColor = () => {\n  const letters = '0123456789ABCDEF';\n  let color = '#';\n  for (let i = 0; i < 6; i += 1) {\n    color += letters[Math.floor(Math.random() * 16)];\n  }\n  return color;\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dropdown-wrap\"},[_c('div',{staticClass:\"mb-2 flex-shrink-0 flex-grow-0 flex-auto max-h-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],ref:\"searchbar\",staticClass:\"search-input\",attrs:{\"type\":\"text\",\"autofocus\":\"true\",\"placeholder\":_vm.inputPlaceholder},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-start items-start flex-auto overflow-auto\"},[_c('div',{staticClass:\"w-full max-h-[10rem]\"},[_c('WootDropdownMenu',_vm._l((_vm.filteredOptions),function(option){return _c('WootDropdownItem',{key:option.id},[_c('woot-button',{staticClass:\"multiselect-dropdown--item\",class:{\n              active: _vm.isActive(option),\n            },attrs:{\"variant\":_vm.isActive(option) ? 'hollow' : 'clear',\"color-scheme\":\"secondary\"},on:{\"click\":() => _vm.onclick(option)}},[_c('div',{staticClass:\"flex items-center gap-1.5\"},[(_vm.hasThumbnail)?_c('Thumbnail',{attrs:{\"src\":option.thumbnail,\"size\":\"24px\",\"username\":option.name,\"status\":option.availability_status,\"has-border\":\"\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center justify-between w-full min-w-0 gap-2\"},[_c('span',{staticClass:\"leading-4 my-0 overflow-hidden whitespace-nowrap text-ellipsis text-sm\",attrs:{\"title\":option.name}},[_vm._v(\"\\n                  \"+_vm._s(option.name)+\"\\n                \")]),_vm._v(\" \"),(_vm.isActive(option))?_c('fluent-icon',{attrs:{\"icon\":\"checkmark\"}}):_vm._e()],1)],1)])],1)}),1),_vm._v(\" \"),(_vm.noResult)?_c('h4',{staticClass:\"w-full justify-center items-center flex text-slate-500 dark:text-slate-300 py-2 px-2.5 overflow-hidden whitespace-nowrap text-ellipsis text-sm\"},[_vm._v(\"\\n        \"+_vm._s(_vm.noSearchResult)+\"\\n      \")]):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdownItems.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdownItems.vue?vue&type=script&lang=js&\"","<script>\nimport WootDropdownItem from 'shared/components/ui/dropdown/DropdownItem.vue';\nimport WootDropdownMenu from 'shared/components/ui/dropdown/DropdownMenu.vue';\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\n\nexport default {\n  components: {\n    WootDropdownItem,\n    WootDropdownMenu,\n    Thumbnail,\n  },\n\n  props: {\n    options: {\n      type: Array,\n      default: () => [],\n    },\n    selectedItems: {\n      type: Array,\n      default: () => [],\n    },\n    hasThumbnail: {\n      type: Boolean,\n      default: true,\n    },\n    inputPlaceholder: {\n      type: String,\n      default: 'Search',\n    },\n    noSearchResult: {\n      type: String,\n      default: 'No results found',\n    },\n  },\n\n  data() {\n    return {\n      search: '',\n    };\n  },\n\n  computed: {\n    filteredOptions() {\n      return this.options.filter(option => {\n        return option.name.toLowerCase().includes(this.search.toLowerCase());\n      });\n    },\n    noResult() {\n      return this.filteredOptions.length === 0 && this.search !== '';\n    },\n  },\n\n  mounted() {\n    this.focusInput();\n  },\n\n  methods: {\n    onclick(option) {\n      this.$emit('click', option);\n    },\n    focusInput() {\n      this.$refs.searchbar.focus();\n    },\n    isActive(option) {\n      return this.selectedItems.some(item => item && option.id === item.id);\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"dropdown-wrap\">\n    <div class=\"mb-2 flex-shrink-0 flex-grow-0 flex-auto max-h-8\">\n      <input\n        ref=\"searchbar\"\n        v-model=\"search\"\n        type=\"text\"\n        class=\"search-input\"\n        autofocus=\"true\"\n        :placeholder=\"inputPlaceholder\"\n      />\n    </div>\n    <div class=\"flex justify-start items-start flex-auto overflow-auto\">\n      <div class=\"w-full max-h-[10rem]\">\n        <WootDropdownMenu>\n          <WootDropdownItem v-for=\"option in filteredOptions\" :key=\"option.id\">\n            <woot-button\n              class=\"multiselect-dropdown--item\"\n              :variant=\"isActive(option) ? 'hollow' : 'clear'\"\n              color-scheme=\"secondary\"\n              :class=\"{\n                active: isActive(option),\n              }\"\n              @click=\"() => onclick(option)\"\n            >\n              <div class=\"flex items-center gap-1.5\">\n                <Thumbnail\n                  v-if=\"hasThumbnail\"\n                  :src=\"option.thumbnail\"\n                  size=\"24px\"\n                  :username=\"option.name\"\n                  :status=\"option.availability_status\"\n                  has-border\n                />\n                <div\n                  class=\"flex items-center justify-between w-full min-w-0 gap-2\"\n                >\n                  <span\n                    class=\"leading-4 my-0 overflow-hidden whitespace-nowrap text-ellipsis text-sm\"\n                    :title=\"option.name\"\n                  >\n                    {{ option.name }}\n                  </span>\n                  <fluent-icon v-if=\"isActive(option)\" icon=\"checkmark\" />\n                </div>\n              </div>\n            </woot-button>\n          </WootDropdownItem>\n        </WootDropdownMenu>\n        <h4\n          v-if=\"noResult\"\n          class=\"w-full justify-center items-center flex text-slate-500 dark:text-slate-300 py-2 px-2.5 overflow-hidden whitespace-nowrap text-ellipsis text-sm\"\n        >\n          {{ noSearchResult }}\n        </h4>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.dropdown-wrap {\n  @apply w-full flex flex-col max-h-[12.5rem];\n}\n\n.search-input {\n  @apply m-0 w-full border border-solid border-transparent h-8 text-sm text-slate-700 dark:text-slate-100 rounded-md focus:border-woot-500 bg-slate-50 dark:bg-slate-900;\n}\n\n.multiselect-dropdown--item {\n  @apply justify-between w-full;\n\n  &.active {\n    @apply bg-slate-25 dark:bg-slate-700 border-slate-50 dark:border-slate-900 font-medium;\n  }\n\n  &:focus {\n    @apply bg-slate-25 dark:bg-slate-700;\n  }\n\n  &:hover {\n    @apply bg-slate-50 dark:bg-slate-800 text-slate-800 dark:text-slate-100;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./MultiselectDropdownItems.vue?vue&type=template&id=b1626936&scoped=true&\"\nimport script from \"./MultiselectDropdownItems.vue?vue&type=script&lang=js&\"\nexport * from \"./MultiselectDropdownItems.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MultiselectDropdownItems.vue?vue&type=style&index=0&id=b1626936&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b1626936\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"inbox--name inline-flex items-center py-0.5 px-0 leading-3 whitespace-nowrap font-medium bg-none text-slate-600 dark:text-slate-500 text-xs my-0 mx-2.5\"},[_c('fluent-icon',{staticClass:\"mr-0.5 rtl:ml-0.5 rtl:mr-0\",attrs:{\"icon\":_vm.computedInboxClass,\"size\":\"12\"}}),_vm._v(\"\\n  \"+_vm._s(_vm.inbox.name)+\"\\n\")],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxName.vue?vue&type=script&lang=js&\"","<script>\nimport { getInboxClassByType } from 'dashboard/helper/inbox';\n\nexport default {\n  props: {\n    inbox: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  computed: {\n    computedInboxClass() {\n      const { phone_number: phoneNumber, channel_type: type } = this.inbox;\n      const classByType = getInboxClassByType(type, phoneNumber);\n      return classByType;\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"inbox--name inline-flex items-center py-0.5 px-0 leading-3 whitespace-nowrap font-medium bg-none text-slate-600 dark:text-slate-500 text-xs my-0 mx-2.5\"\n  >\n    <fluent-icon\n      class=\"mr-0.5 rtl:ml-0.5 rtl:mr-0\"\n      :icon=\"computedInboxClass\"\n      size=\"12\"\n    />\n    {{ inbox.name }}\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./InboxName.vue?vue&type=template&id=83dbb14a&\"\nimport script from \"./InboxName.vue?vue&type=script&lang=js&\"\nexport * from \"./InboxName.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { required, minLength } from '@vuelidate/validators';\n\nexport const validLabelCharacters = (str = '') => !!str && !str.includes(' ');\n\nexport const getLabelTitleErrorMessage = validation => {\n  let errorMessage = '';\n  if (!validation.title.$error) {\n    errorMessage = '';\n  } else if (!validation.title.required) {\n    errorMessage = 'LABEL_MGMT.FORM.NAME.REQUIRED_ERROR';\n  } else if (!validation.title.minLength) {\n    errorMessage = 'LABEL_MGMT.FORM.NAME.MINIMUM_LENGTH_ERROR';\n  } else if (!validation.title.validLabelCharacters) {\n    errorMessage = 'LABEL_MGMT.FORM.NAME.VALID_ERROR';\n  }\n  return errorMessage;\n};\n\nexport default {\n  title: {\n    required,\n    minLength: minLength(2),\n    validLabelCharacters,\n  },\n  description: {},\n  color: {\n    required,\n  },\n  showOnSidebar: {},\n};\n","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=style&index=0&id=2a0c888a&prod&lang=scss&scoped=true&\"","/**\n * Default agent object representing 'None'\n * @type {Object}\n */\nexport const createNoneAgent = {\n  confirmed: true,\n  name: 'None',\n  id: 0,\n  role: 'agent',\n  account_id: 0,\n  email: 'None',\n};\n\n/**\n * Filters and sorts agents by availability status\n * @param {Array} agents - List of agents\n * @param {string} availability - Availability status to filter by\n * @returns {Array} Filtered and sorted list of agents\n */\nexport const getAgentsByAvailability = (agents, availability) => {\n  return agents\n    .filter(agent => agent.availability_status === availability)\n    .sort((a, b) => a.name.localeCompare(b.name));\n};\n\n/**\n * Sorts agents by availability status: online, busy, then offline\n * @param {Array} agents - List of agents\n * @returns {Array} Sorted list of agents\n */\nexport const getSortedAgentsByAvailability = agents => {\n  const onlineAgents = getAgentsByAvailability(agents, 'online');\n  const busyAgents = getAgentsByAvailability(agents, 'busy');\n  const offlineAgents = getAgentsByAvailability(agents, 'offline');\n  const filteredAgents = [...onlineAgents, ...busyAgents, ...offlineAgents];\n  return filteredAgents;\n};\n\n/**\n * Updates the availability status of the current user based on the current account\n * @param {Array} agents - List of agents\n * @param {Object} currentUser - Current user object\n * @param {number} currentAccountId - ID of the current account\n * @returns {Array} Updated list of agents with dynamic presence\n */\n// Here we are updating the availability status of the current user dynamically\n// based on the current account availability status\nexport const getAgentsByUpdatedPresence = (\n  agents,\n  currentUser,\n  currentAccountId\n) => {\n  const agentsWithDynamicPresenceUpdate = agents.map(item =>\n    item.id === currentUser.id\n      ? {\n          ...item,\n          availability_status: currentUser.accounts.find(\n            account => account.id === currentAccountId\n          ).availability_status,\n        }\n      : item\n  );\n  return agentsWithDynamicPresenceUpdate;\n};\n\n/**\n * Combines the filtered agents with the 'None' agent option if applicable.\n *\n * @param {Array} filteredAgentsByAvailability - The list of agents sorted by availability.\n * @param {boolean} includeNoneAgent - Whether to include the 'None' agent option.\n * @param {boolean} isAgentSelected - Whether an agent is currently selected.\n * @returns {Array} The combined list of agents, potentially including the 'None' agent.\n */\nexport const getCombinedAgents = (\n  filteredAgentsByAvailability,\n  includeNoneAgent,\n  isAgentSelected\n) => {\n  return [\n    ...(includeNoneAgent && isAgentSelected ? [createNoneAgent] : []),\n    ...filteredAgentsByAvailability,\n  ];\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdownItems.vue?vue&type=style&index=0&id=b1626936&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return (!_vm.hasImgStoryError)?_c('BubbleImage',{attrs:{\"url\":_vm.storyUrl},on:{\"error\":_vm.onImageLoadError}}):(!_vm.hasVideoStoryError)?_c('BubbleVideo',{attrs:{\"url\":_vm.storyUrl},on:{\"error\":_vm.onVideoLoadError}}):_c('InstagramStoryErrorPlaceHolder')\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Image.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Image.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  components: {},\n  props: {\n    url: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      show: false,\n    };\n  },\n  methods: {\n    onClose() {\n      this.show = false;\n    },\n    onClick() {\n      this.show = true;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"image message-text__wrap\">\n    <img :src=\"url\" @click=\"onClick\" @error=\"$emit('error')\" />\n    <woot-modal full-width :show.sync=\"show\" :on-close=\"onClose\">\n      <img :src=\"url\" class=\"modal-image skip-context-menu\" />\n    </woot-modal>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./Image.vue?vue&type=template&id=75e458d2&\"\nimport script from \"./Image.vue?vue&type=script&lang=js&\"\nexport * from \"./Image.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"image message-text__wrap\"},[_c('img',{attrs:{\"src\":_vm.url},on:{\"click\":_vm.onClick,\"error\":function($event){return _vm.$emit('error')}}}),_vm._v(\" \"),_c('woot-modal',{attrs:{\"full-width\":\"\",\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('img',{staticClass:\"modal-image skip-context-menu\",attrs:{\"src\":_vm.url}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Video.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  props: {\n    url: {\n      type: String,\n      required: true,\n    },\n  },\n  data() {\n    return {\n      show: false,\n    };\n  },\n  mounted() {\n    this.$refs.videoElement.onerror = () => {\n      this.$emit('error');\n    };\n  },\n  methods: {\n    onClose() {\n      this.show = false;\n    },\n    onClick() {\n      this.show = true;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"video message-text__wrap\">\n    <video ref=\"videoElement\" :src=\"url\" muted playsInline @click=\"onClick\" />\n    <woot-modal :show.sync=\"show\" :on-close=\"onClose\">\n      <video\n        :src=\"url\"\n        controls\n        playsInline\n        class=\"modal-video skip-context-menu mx-auto\"\n      />\n    </woot-modal>\n  </div>\n</template>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstagramStoryErrorPlaceHolder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstagramStoryErrorPlaceHolder.vue?vue&type=script&lang=js&\"","<script>\nexport default {};\n</script>\n\n<template>\n  <div\n    class=\"flex items-center justify-center px-8 h-28 w-full bg-slate-100 text-slate-700 dark:bg-slate-500 dark:text-slate-75\"\n  >\n    <fluent-icon icon=\"document-error\" size=\"32\" />\n    <p class=\"mb-0 text-slate-700 dark:text-slate-75\">\n      {{ $t('COMPONENTS.FILE_BUBBLE.INSTAGRAM_STORY_UNAVAILABLE') }}\n    </p>\n  </div>\n</template>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstagramStory.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InstagramStory.vue?vue&type=script&lang=js&\"","<script>\nimport BubbleImage from './Image.vue';\nimport BubbleVideo from './Video.vue';\nimport InstagramStoryErrorPlaceHolder from './InstagramStoryErrorPlaceHolder.vue';\n\nexport default {\n  components: {\n    BubbleImage,\n    BubbleVideo,\n    InstagramStoryErrorPlaceHolder,\n  },\n  props: {\n    storyUrl: {\n      type: String,\n      default: '',\n    },\n  },\n  data() {\n    return {\n      hasImgStoryError: false,\n      hasVideoStoryError: false,\n    };\n  },\n  methods: {\n    onImageLoadError() {\n      this.hasImgStoryError = true;\n      this.emitError();\n    },\n    onVideoLoadError() {\n      this.hasVideoStoryError = true;\n      this.emitError();\n    },\n    emitError() {\n      this.$emit('error');\n    },\n  },\n};\n</script>\n\n<template>\n  <BubbleImage\n    v-if=\"!hasImgStoryError\"\n    :url=\"storyUrl\"\n    @error=\"onImageLoadError\"\n  />\n  <BubbleVideo\n    v-else-if=\"!hasVideoStoryError\"\n    :url=\"storyUrl\"\n    @error=\"onVideoLoadError\"\n  />\n  <InstagramStoryErrorPlaceHolder v-else />\n</template>\n","import { render, staticRenderFns } from \"./Video.vue?vue&type=template&id=74fe38ea&\"\nimport script from \"./Video.vue?vue&type=script&lang=js&\"\nexport * from \"./Video.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"video message-text__wrap\"},[_c('video',{ref:\"videoElement\",attrs:{\"src\":_vm.url,\"muted\":\"\",\"playsInline\":\"\"},domProps:{\"muted\":true},on:{\"click\":_vm.onClick}}),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('video',{staticClass:\"modal-video skip-context-menu mx-auto\",attrs:{\"src\":_vm.url,\"controls\":\"\",\"playsInline\":\"\"}})])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./InstagramStoryErrorPlaceHolder.vue?vue&type=template&id=1f317578&\"\nimport script from \"./InstagramStoryErrorPlaceHolder.vue?vue&type=script&lang=js&\"\nexport * from \"./InstagramStoryErrorPlaceHolder.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex items-center justify-center px-8 h-28 w-full bg-slate-100 text-slate-700 dark:bg-slate-500 dark:text-slate-75\"},[_c('fluent-icon',{attrs:{\"icon\":\"document-error\",\"size\":\"32\"}}),_vm._v(\" \"),_c('p',{staticClass:\"mb-0 text-slate-700 dark:text-slate-75\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('COMPONENTS.FILE_BUBBLE.INSTAGRAM_STORY_UNAVAILABLE'))+\"\\n  \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./InstagramStory.vue?vue&type=template&id=5455afad&\"\nimport script from \"./InstagramStory.vue?vue&type=script&lang=js&\"\nexport * from \"./InstagramStory.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col h-auto overflow-auto\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('LABEL_MGMT.ADD.TITLE'),\"header-content\":_vm.$t('LABEL_MGMT.ADD.DESC')}}),_vm._v(\" \"),_c('form',{staticClass:\"flex flex-wrap mx-0\",on:{\"submit\":function($event){$event.preventDefault();return _vm.addLabel.apply(null, arguments)}}},[_c('woot-input',{staticClass:\"w-full label-name--input\",class:{ error: _vm.v$.title.$error },attrs:{\"label\":_vm.$t('LABEL_MGMT.FORM.NAME.LABEL'),\"placeholder\":_vm.$t('LABEL_MGMT.FORM.NAME.PLACEHOLDER'),\"error\":_vm.labelTitleErrorMessage,\"data-testid\":\"label-title\"},on:{\"input\":_vm.v$.title.$touch},model:{value:(_vm.title),callback:function ($$v) {_vm.title=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"title\"}}),_vm._v(\" \"),_c('woot-input',{staticClass:\"w-full\",class:{ error: _vm.v$.description.$error },attrs:{\"label\":_vm.$t('LABEL_MGMT.FORM.DESCRIPTION.LABEL'),\"placeholder\":_vm.$t('LABEL_MGMT.FORM.DESCRIPTION.PLACEHOLDER'),\"data-testid\":\"label-description\"},on:{\"input\":_vm.v$.description.$touch},model:{value:(_vm.description),callback:function ($$v) {_vm.description=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"description\"}}),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('LABEL_MGMT.FORM.COLOR.LABEL'))+\"\\n        \"),_c('woot-color-picker',{model:{value:(_vm.color),callback:function ($$v) {_vm.color=$$v},expression:\"color\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center w-full gap-2\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.showOnSidebar),expression:\"showOnSidebar\"}],attrs:{\"type\":\"checkbox\"},domProps:{\"value\":true,\"checked\":Array.isArray(_vm.showOnSidebar)?_vm._i(_vm.showOnSidebar,true)>-1:(_vm.showOnSidebar)},on:{\"change\":function($event){var $$a=_vm.showOnSidebar,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=true,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.showOnSidebar=$$a.concat([$$v]))}else{$$i>-1&&(_vm.showOnSidebar=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.showOnSidebar=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"conversation_creation\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('LABEL_MGMT.FORM.SHOW_ON_SIDEBAR.LABEL'))+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center justify-end w-full gap-2 px-0 py-2\"},[_c('woot-button',{attrs:{\"is-disabled\":_vm.v$.title.$invalid || _vm.uiFlags.isCreating,\"is-loading\":_vm.uiFlags.isCreating,\"data-testid\":\"label-submit\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('LABEL_MGMT.FORM.CREATE'))+\"\\n      \")]),_vm._v(\" \"),_c('woot-button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('LABEL_MGMT.FORM.CANCEL'))+\"\\n      \")])],1)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\nimport validations, { getLabelTitleErrorMessage } from './validations';\nimport { getRandomColor } from 'dashboard/helper/labelColor';\nimport { useVuelidate } from '@vuelidate/core';\n\nexport default {\n  props: {\n    prefillTitle: {\n      type: String,\n      default: '',\n    },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      color: '#000',\n      description: '',\n      title: '',\n      showOnSidebar: true,\n    };\n  },\n  validations,\n  computed: {\n    ...mapGetters({\n      uiFlags: 'labels/getUIFlags',\n    }),\n    labelTitleErrorMessage() {\n      const errorMessage = getLabelTitleErrorMessage(this.v$);\n      return this.$t(errorMessage);\n    },\n  },\n  mounted() {\n    this.color = getRandomColor();\n    this.title = this.prefillTitle.toLowerCase();\n  },\n  methods: {\n    onClose() {\n      this.$emit('close');\n    },\n    async addLabel() {\n      try {\n        await this.$store.dispatch('labels/create', {\n          color: this.color,\n          description: this.description,\n          title: this.title.toLowerCase(),\n          show_on_sidebar: this.showOnSidebar,\n        });\n        useAlert(this.$t('LABEL_MGMT.ADD.API.SUCCESS_MESSAGE'));\n        this.onClose();\n      } catch (error) {\n        const errorMessage =\n          error.message || this.$t('LABEL_MGMT.ADD.API.ERROR_MESSAGE');\n        useAlert(errorMessage);\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col h-auto overflow-auto\">\n    <woot-modal-header\n      :header-title=\"$t('LABEL_MGMT.ADD.TITLE')\"\n      :header-content=\"$t('LABEL_MGMT.ADD.DESC')\"\n    />\n    <form class=\"flex flex-wrap mx-0\" @submit.prevent=\"addLabel\">\n      <woot-input\n        v-model.trim=\"title\"\n        :class=\"{ error: v$.title.$error }\"\n        class=\"w-full label-name--input\"\n        :label=\"$t('LABEL_MGMT.FORM.NAME.LABEL')\"\n        :placeholder=\"$t('LABEL_MGMT.FORM.NAME.PLACEHOLDER')\"\n        :error=\"labelTitleErrorMessage\"\n        data-testid=\"label-title\"\n        @input=\"v$.title.$touch\"\n      />\n\n      <woot-input\n        v-model.trim=\"description\"\n        :class=\"{ error: v$.description.$error }\"\n        class=\"w-full\"\n        :label=\"$t('LABEL_MGMT.FORM.DESCRIPTION.LABEL')\"\n        :placeholder=\"$t('LABEL_MGMT.FORM.DESCRIPTION.PLACEHOLDER')\"\n        data-testid=\"label-description\"\n        @input=\"v$.description.$touch\"\n      />\n\n      <div class=\"w-full\">\n        <label>\n          {{ $t('LABEL_MGMT.FORM.COLOR.LABEL') }}\n          <woot-color-picker v-model=\"color\" />\n        </label>\n      </div>\n      <div class=\"flex items-center w-full gap-2\">\n        <input v-model=\"showOnSidebar\" type=\"checkbox\" :value=\"true\" />\n        <label for=\"conversation_creation\">\n          {{ $t('LABEL_MGMT.FORM.SHOW_ON_SIDEBAR.LABEL') }}\n        </label>\n      </div>\n      <div class=\"flex items-center justify-end w-full gap-2 px-0 py-2\">\n        <woot-button\n          :is-disabled=\"v$.title.$invalid || uiFlags.isCreating\"\n          :is-loading=\"uiFlags.isCreating\"\n          data-testid=\"label-submit\"\n        >\n          {{ $t('LABEL_MGMT.FORM.CREATE') }}\n        </woot-button>\n        <woot-button class=\"button clear\" @click.prevent=\"onClose\">\n          {{ $t('LABEL_MGMT.FORM.CANCEL') }}\n        </woot-button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n// Label API supports only lowercase letters\n.label-name--input {\n  ::v-deep {\n    input {\n      @apply lowercase;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddLabel.vue?vue&type=template&id=2a0c888a&scoped=true&\"\nimport script from \"./AddLabel.vue?vue&type=script&lang=js&\"\nexport * from \"./AddLabel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddLabel.vue?vue&type=style&index=0&id=2a0c888a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2a0c888a\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_vm.onCloseDropdown),expression:\"onCloseDropdown\"}],staticClass:\"relative w-full mb-2\",on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"]))return null;return _vm.onCloseDropdown.apply(null, arguments)}}},[_c('woot-button',{staticClass:\"w-full border border-solid border-slate-100 dark:border-slate-700 px-2 hover:border-slate-75 dark:hover:border-slate-600\",attrs:{\"variant\":\"hollow\",\"color-scheme\":\"secondary\"},on:{\"click\":_vm.toggleDropdown}},[_c('div',{staticClass:\"flex gap-1\"},[(_vm.hasValue && _vm.hasThumbnail)?_c('Thumbnail',{attrs:{\"src\":_vm.selectedItem.thumbnail,\"size\":\"24px\",\"status\":_vm.selectedItem.availability_status,\"username\":_vm.selectedItem.name}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-between w-full min-w-0 items-center\"},[(!_vm.hasValue)?_c('h4',{staticClass:\"text-ellipsis text-sm text-slate-800 dark:text-slate-100\"},[_vm._v(\"\\n          \"+_vm._s(_vm.multiselectorPlaceholder)+\"\\n        \")]):_c('h4',{staticClass:\"items-center leading-tight overflow-hidden whitespace-nowrap text-ellipsis text-sm text-slate-800 dark:text-slate-100\",attrs:{\"title\":_vm.selectedItem.name}},[_vm._v(\"\\n          \"+_vm._s(_vm.selectedItem.name)+\"\\n        \")]),_vm._v(\" \"),(_vm.showSearchDropdown)?_c('i',{staticClass:\"icon ion-chevron-up text-slate-600 mr-1\"}):_c('i',{staticClass:\"icon ion-chevron-down text-slate-600 mr-1\"})])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"dropdown-pane\",class:{ 'dropdown-pane--open': _vm.showSearchDropdown }},[_c('div',{staticClass:\"flex justify-between items-center mb-1\"},[_c('h4',{staticClass:\"text-sm text-slate-800 dark:text-slate-100 m-0 overflow-hidden whitespace-nowrap text-ellipsis\"},[_vm._v(\"\\n        \"+_vm._s(_vm.multiselectorTitle)+\"\\n      \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"icon\":\"dismiss\",\"size\":\"tiny\",\"color-scheme\":\"secondary\",\"variant\":\"clear\"},on:{\"click\":_vm.onCloseDropdown}})],1),_vm._v(\" \"),(_vm.showSearchDropdown)?_c('MultiselectDropdownItems',{attrs:{\"options\":_vm.options,\"selected-items\":[_vm.selectedItem],\"has-thumbnail\":_vm.hasThumbnail,\"input-placeholder\":_vm.inputPlaceholder,\"no-search-result\":_vm.noSearchResult},on:{\"click\":_vm.onClickSelectItem}}):_vm._e()],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdown.vue?vue&type=script&lang=js&\"","<script>\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport MultiselectDropdownItems from 'shared/components/ui/MultiselectDropdownItems.vue';\nexport default {\n  components: {\n    Thumbnail,\n    MultiselectDropdownItems,\n  },\n  props: {\n    options: {\n      type: Array,\n      default: () => [],\n    },\n    selectedItem: {\n      type: Object,\n      default: () => ({}),\n    },\n    hasThumbnail: {\n      type: Boolean,\n      default: true,\n    },\n    multiselectorTitle: {\n      type: String,\n      default: '',\n    },\n    multiselectorPlaceholder: {\n      type: String,\n      default: 'None',\n    },\n    noSearchResult: {\n      type: String,\n      default: 'No results found',\n    },\n    inputPlaceholder: {\n      type: String,\n      default: 'Search',\n    },\n  },\n  data() {\n    return {\n      showSearchDropdown: false,\n    };\n  },\n  computed: {\n    hasValue() {\n      if (this.selectedItem && this.selectedItem.id) {\n        return true;\n      }\n      return false;\n    },\n  },\n  methods: {\n    toggleDropdown() {\n      this.showSearchDropdown = !this.showSearchDropdown;\n    },\n\n    onCloseDropdown() {\n      this.showSearchDropdown = false;\n    },\n\n    onClickSelectItem(value) {\n      this.$emit('click', value);\n      this.onCloseDropdown();\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    v-on-clickaway=\"onCloseDropdown\"\n    class=\"relative w-full mb-2\"\n    @keyup.esc=\"onCloseDropdown\"\n  >\n    <woot-button\n      variant=\"hollow\"\n      color-scheme=\"secondary\"\n      class=\"w-full border border-solid border-slate-100 dark:border-slate-700 px-2 hover:border-slate-75 dark:hover:border-slate-600\"\n      @click=\"toggleDropdown\"\n    >\n      <div class=\"flex gap-1\">\n        <Thumbnail\n          v-if=\"hasValue && hasThumbnail\"\n          :src=\"selectedItem.thumbnail\"\n          size=\"24px\"\n          :status=\"selectedItem.availability_status\"\n          :username=\"selectedItem.name\"\n        />\n        <div class=\"flex justify-between w-full min-w-0 items-center\">\n          <h4\n            v-if=\"!hasValue\"\n            class=\"text-ellipsis text-sm text-slate-800 dark:text-slate-100\"\n          >\n            {{ multiselectorPlaceholder }}\n          </h4>\n          <h4\n            v-else\n            class=\"items-center leading-tight overflow-hidden whitespace-nowrap text-ellipsis text-sm text-slate-800 dark:text-slate-100\"\n            :title=\"selectedItem.name\"\n          >\n            {{ selectedItem.name }}\n          </h4>\n          <i\n            v-if=\"showSearchDropdown\"\n            class=\"icon ion-chevron-up text-slate-600 mr-1\"\n          />\n          <i v-else class=\"icon ion-chevron-down text-slate-600 mr-1\" />\n        </div>\n      </div>\n    </woot-button>\n    <div\n      :class=\"{ 'dropdown-pane--open': showSearchDropdown }\"\n      class=\"dropdown-pane\"\n    >\n      <div class=\"flex justify-between items-center mb-1\">\n        <h4\n          class=\"text-sm text-slate-800 dark:text-slate-100 m-0 overflow-hidden whitespace-nowrap text-ellipsis\"\n        >\n          {{ multiselectorTitle }}\n        </h4>\n        <woot-button\n          icon=\"dismiss\"\n          size=\"tiny\"\n          color-scheme=\"secondary\"\n          variant=\"clear\"\n          @click=\"onCloseDropdown\"\n        />\n      </div>\n      <MultiselectDropdownItems\n        v-if=\"showSearchDropdown\"\n        :options=\"options\"\n        :selected-items=\"[selectedItem]\"\n        :has-thumbnail=\"hasThumbnail\"\n        :input-placeholder=\"inputPlaceholder\"\n        :no-search-result=\"noSearchResult\"\n        @click=\"onClickSelectItem\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.dropdown-pane {\n  @apply box-border top-[2.625rem] w-full;\n}\n</style>\n","import { render, staticRenderFns } from \"./MultiselectDropdown.vue?vue&type=template&id=1a2cccac&scoped=true&\"\nimport script from \"./MultiselectDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./MultiselectDropdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MultiselectDropdown.vue?vue&type=style&index=0&id=1a2cccac&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1a2cccac\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"overflow-hidden text-ellipsis whitespace-nowrap\"},[(_vm.showMessageType)?[(_vm.isMessagePrivate)?_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\",attrs:{\"size\":\"16\",\"icon\":\"lock-closed\"}}):(_vm.messageByAgent)?_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\",attrs:{\"size\":\"16\",\"icon\":\"arrow-reply\"}}):(_vm.isMessageAnActivity)?_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\",attrs:{\"size\":\"16\",\"icon\":\"info\"}}):_vm._e()]:_vm._e(),_vm._v(\" \"),(_vm.message.content && _vm.isMessageSticker)?_c('span',[_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\",attrs:{\"size\":\"16\",\"icon\":\"image\"}}),_vm._v(\"\\n    \"+_vm._s(_vm.$t('CHAT_LIST.ATTACHMENTS.image.CONTENT'))+\"\\n  \")],1):(_vm.message.content)?_c('span',[_vm._v(\"\\n    \"+_vm._s(_vm.parsedLastMessage)+\"\\n  \")]):(_vm.message.attachments)?_c('span',[(_vm.short)?_c('div',[(_vm.attachmentIcon && _vm.showMessageType)?_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\",attrs:{\"size\":\"16\",\"icon\":_vm.attachmentIcon}}):_vm._e(),_vm._v(\"\\n      \"+_vm._s(_vm.$t(`${_vm.attachmentMessageContent}`))+\"\\n    \")],1):_c('div',_vm._l((_vm.attachments),function(attachment){return _c('div',{key:attachment.id},[(_vm.isAnInstagramStory)?_c('InstagramStory',{attrs:{\"story-url\":attachment.thumb_url},on:{\"error\":_vm.onMediaLoadError}}):(_vm.isAttachmentImageVideoAudio(attachment.file_type))?_c('BubbleImageAudioVideo',{attrs:{\"attachment\":attachment,\"url_type\":\"thumb_url\"},on:{\"error\":_vm.onMediaLoadError}}):(attachment.file_type === 'location')?_c('BubbleLocation',{attrs:{\"latitude\":attachment.coordinates_lat,\"longitude\":attachment.coordinates_long,\"name\":attachment.fallback_title}}):(attachment.file_type === 'contact')?_c('BubbleContact',{attrs:{\"name\":_vm.message.content,\"phone-number\":attachment.fallback_title}}):_c('BubbleFile',{attrs:{\"url\":attachment.thumb_url}})],1)}),0)]):_c('span',[_vm._v(\"\\n    \"+_vm._s(_vm.defaultEmptyMessage || _vm.$t('CHAT_LIST.NO_CONTENT'))+\"\\n  \")])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { MESSAGE_TYPE } from 'widget/helpers/constants';\nimport { useMessageFormatter } from 'shared/composables/useMessageFormatter';\nimport { ATTACHMENT_ICONS } from 'shared/constants/messages';\nimport BubbleImageAudioVideo from './bubble/ImageAudioVideo.vue';\nimport InstagramStory from './bubble/InstagramStory.vue';\nimport BubbleLocation from './bubble/Location.vue';\nimport BubbleContact from './bubble/Contact.vue';\nimport BubbleFile from './bubble/File.vue';\n\nexport default {\n  name: 'MessagePreview',\n  components: {\n    BubbleImageAudioVideo,\n    InstagramStory,\n    BubbleLocation,\n    BubbleContact,\n    BubbleFile,\n  },\n  props: {\n    message: {\n      type: Object,\n      required: true,\n    },\n    showMessageType: {\n      type: Boolean,\n      default: true,\n    },\n    defaultEmptyMessage: {\n      type: String,\n      default: '',\n    },\n    short: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  setup() {\n    const { getPlainText } = useMessageFormatter();\n    return {\n      getPlainText,\n    };\n  },\n  data: () => {\n    return {\n      previewMessage: null,\n    };\n  },\n  computed: {\n    contentAttributes() {\n      return this.message.content_attributes || {};\n    },\n    isAnInstagramStory() {\n      return this.contentAttributes.image_type === 'story_mention';\n    },\n    attachments() {\n      return this.message?.attachments || [];\n    },\n    messageByAgent() {\n      const { message_type: messageType } = this.message;\n      return messageType === MESSAGE_TYPE.OUTGOING;\n    },\n    isMessageAnActivity() {\n      const { message_type: messageType } = this.message;\n      return messageType === MESSAGE_TYPE.ACTIVITY;\n    },\n    isMessagePrivate() {\n      const { private: isPrivate } = this.message;\n      return isPrivate;\n    },\n    parsedLastMessage() {\n      return this.getPlainText(this.subject + this.message.content);\n    },\n    subject() {\n      const { content_attributes: contentAttributes } = this.message;\n      const { email: { subject } = {} } = contentAttributes || {};\n      //return this.getPlainText(subject || this.message.content);\n      return subject ? subject + ' - ' : '';\n    },\n    lastMessageFileType() {\n      const [{ file_type: fileType } = {}] = this.message.attachments;\n      return fileType;\n    },\n    attachmentIcon() {\n      return ATTACHMENT_ICONS[this.lastMessageFileType];\n    },\n    attachmentMessageContent() {\n      return `CHAT_LIST.ATTACHMENTS.${this.lastMessageFileType}.CONTENT`;\n    },\n    isMessageSticker() {\n      return this.message && this.message.content_type === 'sticker';\n    },\n  },\n  watch: {\n    data() {\n      this.hasMediaLoadError = false;\n    },\n  },\n  mounted() {\n    this.hasMediaLoadError = false;\n  },\n  methods: {\n    isAttachmentImageVideoAudio(fileType) {\n      return ['image', 'audio', 'video', 'story_mention', 'ig_reel'].includes(\n        fileType\n      );\n    },\n    onMediaLoadError() {\n      this.hasMediaLoadError = true;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"overflow-hidden text-ellipsis whitespace-nowrap\">\n    <template v-if=\"showMessageType\">\n      <fluent-icon\n        v-if=\"isMessagePrivate\"\n        size=\"16\"\n        class=\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\"\n        icon=\"lock-closed\"\n      />\n      <fluent-icon\n        v-else-if=\"messageByAgent\"\n        size=\"16\"\n        class=\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\"\n        icon=\"arrow-reply\"\n      />\n      <fluent-icon\n        v-else-if=\"isMessageAnActivity\"\n        size=\"16\"\n        class=\"-mt-0.5 align-middle text-slate-600 dark:text-slate-300 inline-block\"\n        icon=\"info\"\n      />\n    </template>\n    <span v-if=\"message.content && isMessageSticker\">\n      <fluent-icon\n        size=\"16\"\n        class=\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\"\n        icon=\"image\"\n      />\n      {{ $t('CHAT_LIST.ATTACHMENTS.image.CONTENT') }}\n    </span>\n    <span v-else-if=\"message.content\">\n      {{ parsedLastMessage }}\n    </span>\n    <span v-else-if=\"message.attachments\">\n      <div v-if=\"short\">\n        <fluent-icon\n          v-if=\"attachmentIcon && showMessageType\"\n          size=\"16\"\n          class=\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\"\n          :icon=\"attachmentIcon\"\n        />\n        {{ $t(`${attachmentMessageContent}`) }}\n      </div>\n      <div v-else>\n        <div v-for=\"attachment in attachments\" :key=\"attachment.id\">\n          <InstagramStory\n            v-if=\"isAnInstagramStory\"\n            :story-url=\"attachment.thumb_url\"\n            @error=\"onMediaLoadError\"\n          />\n          <BubbleImageAudioVideo\n            v-else-if=\"isAttachmentImageVideoAudio(attachment.file_type)\"\n            :attachment=\"attachment\"\n            url_type=\"thumb_url\"\n            @error=\"onMediaLoadError\"\n          />\n          <BubbleLocation\n            v-else-if=\"attachment.file_type === 'location'\"\n            :latitude=\"attachment.coordinates_lat\"\n            :longitude=\"attachment.coordinates_long\"\n            :name=\"attachment.fallback_title\"\n          />\n          <BubbleContact\n            v-else-if=\"attachment.file_type === 'contact'\"\n            :name=\"message.content\"\n            :phone-number=\"attachment.fallback_title\"\n          />\n          <BubbleFile v-else :url=\"attachment.thumb_url\" />\n        </div>\n      </div>\n    </span>\n    <span v-else>\n      {{ defaultEmptyMessage || $t('CHAT_LIST.NO_CONTENT') }}\n    </span>\n  </div>\n</template>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePreview.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessagePreview.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessagePreview.vue?vue&type=template&id=5a99cafb&\"\nimport script from \"./MessagePreview.vue?vue&type=script&lang=js&\"\nexport * from \"./MessagePreview.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n// Pico Search v0.5.1  The MIT License  Copyright  2023 Shivam Mishra.\nfunction p(e, t) {\n  if (e.length < t.length) {\n    var n = e;\n    e = t, t = n;\n  }\n\n  var i = e.length,\n      o = t.length;\n  if (!o) return 0;\n  var s = Math.max(1, i / 2) - 1,\n      a = Array(o).fill(!1),\n      m = Array(i).fill(\"\"),\n      r = 0;\n\n  for (var _n = 0; _n < i; _n++) {\n    var u = e[_n];\n\n    for (var h = 0; h < o; h++) {\n      var d = t[h];\n\n      if (h <= _n + s && h + s >= 1 && u === d && !a[h]) {\n        a[h] = !0, m[r++] = u;\n        break;\n      }\n    }\n  }\n\n  if (!r) return 0;\n  var c = 0;\n\n  for (var _n2 = 0, _u = 0; _u < o; _u++) {\n    a[_u] && (t[_u] !== m[_n2] && c++, _n2++);\n  }\n\n  var l = r,\n      g = (l / i + l / o + (l - c / 2) / l) / 3,\n      f = 0;\n  o = Math.min(4, o);\n\n  for (var _n3 = 0; _n3 < o; _n3++) {\n    e[_n3] === t[_n3] && f++;\n  }\n\n  return g + f * .1 * (1 - g);\n}\n\nfunction y(e, t) {\n  if (t && e.length !== t.length) throw new Error(\"The number of values must be equal to the number of weights\");\n  var i = e.reduce(function (s, a, m) {\n    var r = t ? t[m] : 1;\n    return s + a * r;\n  }, 0),\n      o = t ? t.reduce(function (s, a) {\n    return s + a;\n  }, 0) : e.length;\n  return i / o;\n}\n\nfunction S(e) {\n  var t = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var i = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  return Math.max(t, Math.min(i, e));\n}\n\nfunction T(e) {\n  return e.split(/\\s+/).filter(function (t, i, o) {\n    return t && o.indexOf(t) === i;\n  });\n}\n\nvar b = {\n  CONTAINS_MATCH: 1.2,\n  FIRST_SIMILARITY: 1.1,\n  STARTS_WITH: 1.05\n};\n\nfunction O(e, t, i, o) {\n  var s = [],\n      a = o && o.threshold || .8,\n      m = t.trim().toLowerCase();\n  return t ? (e.forEach(function (r) {\n    var c = [],\n        l = [];\n\n    var _iterator = _createForOfIteratorHelper(i),\n        _step;\n\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var f = _step.value;\n        var n = typeof f == \"string\" ? f : f.name;\n\n        if (typeof f != \"string\" ? l.push(f.weight) : l.push(1), Object.prototype.hasOwnProperty.call(r, n) && typeof r[n] == \"string\") {\n          var u = r[n].trim().toLowerCase(),\n              h = A(u, m);\n          c.push(h);\n        } else c.push(0);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n\n    var g = y(c, l);\n    g >= a && s.push({\n      object: r,\n      similarity: g\n    });\n  }), s.sort(function (r, c) {\n    return c.similarity - r.similarity;\n  }), s.map(function (r) {\n    return r.object;\n  })) : e;\n}\n\nfunction A(e, t) {\n  var i = T(e),\n      s = T(t).map(function (a) {\n    var m = i.map(function (l) {\n      return W(l, a);\n    }),\n        r = Math.max.apply(Math, _toConsumableArray(m)),\n        c = m[0];\n    return r === c ? r * b.FIRST_SIMILARITY : S(r);\n  });\n  return y(s);\n}\n\nfunction W(e, t) {\n  var i = p(e, t);\n  return e.includes(t) ? i * b.CONTAINS_MATCH : i;\n}\n\nexport { O as picoSearch };","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardLabels.vue?vue&type=style&index=0&id=1b1fe6b6&prod&lang=scss&scoped=true&\"","/**\n * Determines the last non-activity message between store and API messages.\n * @param {Object} messageInStore - The last non-activity message from the store.\n * @param {Object} messageFromAPI - The last non-activity message from the API.\n * @returns {Object} The latest non-activity message.\n */\nconst getLastNonActivityMessage = (messageInStore, messageFromAPI) => {\n  // If both API value and store value for last non activity message\n  // are available, then return the latest one.\n  if (messageInStore && messageFromAPI) {\n    return messageInStore.created_at >= messageFromAPI.created_at\n      ? messageInStore\n      : messageFromAPI;\n  }\n  // Otherwise, return whichever is available\n  return messageInStore || messageFromAPI;\n};\n\n/**\n * Filters out duplicate source messages from an array of messages.\n * @param {Array} messages - The array of messages to filter.\n * @returns {Array} An array of messages without duplicates.\n */\nexport const filterDuplicateSourceMessages = (messages = []) => {\n  const messagesWithoutDuplicates = [];\n  // We cannot use Map or any short hand method as it returns the last message with the duplicate ID\n  // We should return the message with smaller id when there is a duplicate\n  messages.forEach(m1 => {\n    if (m1.source_id) {\n      const index = messagesWithoutDuplicates.findIndex(\n        m2 => m1.source_id === m2.source_id\n      );\n\n      if (index < 0) {\n        messagesWithoutDuplicates.push(m1);\n      }\n    } else {\n      messagesWithoutDuplicates.push(m1);\n    }\n  });\n  return messagesWithoutDuplicates;\n};\n\n/**\n * Retrieves the last message from a conversation, prioritizing non-activity messages.\n * @param {Object} m - The conversation object containing messages.\n * @returns {Object} The last message of the conversation.\n */\nexport const getLastMessage = m => {\n  const lastMessageIncludingActivity = m.messages[m.messages.length - 1];\n\n  const nonActivityMessages = m.messages.filter(\n    message => message.message_type !== 2\n  );\n  const lastNonActivityMessageInStore =\n    nonActivityMessages[nonActivityMessages.length - 1];\n\n  const lastNonActivityMessageFromAPI = m.last_non_activity_message;\n\n  // If API value and store value for last non activity message\n  // is empty, then return the last activity message\n  if (!lastNonActivityMessageInStore && !lastNonActivityMessageFromAPI) {\n    return lastMessageIncludingActivity;\n  }\n\n  return getLastNonActivityMessage(\n    lastNonActivityMessageInStore,\n    lastNonActivityMessageFromAPI\n  );\n};\n\n/**\n * Filters messages that have been read by the agent.\n * @param {Array} messages - The array of messages to filter.\n * @param {number} agentLastSeenAt - The timestamp of when the agent last saw the messages.\n * @returns {Array} An array of read messages.\n */\nexport const getReadMessages = (messages, agentLastSeenAt) => {\n  return messages.filter(\n    message => message.created_at * 1000 <= agentLastSeenAt * 1000\n  );\n};\n\n/**\n * Filters messages that have not been read by the agent.\n * @param {Array} messages - The array of messages to filter.\n * @param {number} agentLastSeenAt - The timestamp of when the agent last saw the messages.\n * @returns {Array} An array of unread messages.\n */\nexport const getUnreadMessages = (messages, agentLastSeenAt) => {\n  return messages.filter(\n    message => message.created_at * 1000 > agentLastSeenAt * 1000\n  );\n};\n","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MultiselectDropdown.vue?vue&type=style&index=0&id=1a2cccac&prod&lang=scss&scoped=true&\"","import { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\nimport {\n  MAXIMUM_FILE_UPLOAD_SIZE,\n  MAXIMUM_FILE_UPLOAD_SIZE_TWILIO_SMS_CHANNEL,\n} from 'shared/constants/messages';\nimport { checkFileSizeLimit } from 'shared/helpers/FileHelper';\nimport { DirectUpload } from 'activestorage';\n\nexport default {\n  computed: {\n    ...mapGetters({\n      accountId: 'getCurrentAccountId',\n    }),\n  },\n  methods: {\n    onFileUpload(file) {\n      if (this.globalConfig.directUploadsEnabled) {\n        this.onDirectFileUpload(file);\n      } else {\n        this.onIndirectFileUpload(file);\n      }\n    },\n    onDirectFileUpload(file) {\n      const MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE = this.isATwilioSMSChannel\n        ? MAXIMUM_FILE_UPLOAD_SIZE_TWILIO_SMS_CHANNEL\n        : MAXIMUM_FILE_UPLOAD_SIZE;\n\n      if (!file) {\n        return;\n      }\n      if (checkFileSizeLimit(file, MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE)) {\n        const upload = new DirectUpload(\n          file.file,\n          `/api/v1/accounts/${this.accountId}/conversations/${this.currentChat.id}/direct_uploads`,\n          {\n            directUploadWillCreateBlobWithXHR: xhr => {\n              xhr.setRequestHeader(\n                'api_access_token',\n                this.currentUser.access_token\n              );\n            },\n          }\n        );\n\n        upload.create((error, blob) => {\n          if (error) {\n            useAlert(error);\n          } else {\n            this.attachFile({ file, blob });\n          }\n        });\n      } else {\n        useAlert(\n          this.$t('CONVERSATION.FILE_SIZE_LIMIT', {\n            MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE,\n          })\n        );\n      }\n    },\n    onIndirectFileUpload(file) {\n      const MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE = this.isATwilioSMSChannel\n        ? MAXIMUM_FILE_UPLOAD_SIZE_TWILIO_SMS_CHANNEL\n        : MAXIMUM_FILE_UPLOAD_SIZE;\n      if (!file) {\n        return;\n      }\n      if (checkFileSizeLimit(file, MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE)) {\n        this.attachFile({ file });\n      } else {\n        useAlert(\n          this.$t('CONVERSATION.FILE_SIZE_LIMIT', {\n            MAXIMUM_SUPPORTED_FILE_UPLOAD_SIZE,\n          })\n        );\n      }\n    },\n  },\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{class:_setup.wrapperClass},[_vm._l((_setup.displayedAttributes),function(attribute){return _c(_setup.CustomAttribute,{key:attribute.id,staticClass:\"border-b border-solid border-slate-50 dark:border-slate-700/50\",attrs:{\"attribute-key\":attribute.attribute_key,\"attribute-type\":attribute.attribute_display_type,\"values\":attribute.attribute_values,\"label\":attribute.attribute_display_name,\"description\":attribute.attribute_description,\"value\":attribute.value,\"show-actions\":\"\",\"attribute-regex\":attribute.regex_pattern,\"regex-cue\":attribute.regex_cue,\"contact-id\":_vm.contactId},on:{\"update\":_setup.onUpdate,\"delete\":_setup.onDelete,\"copy\":_setup.onCopy}})}),_vm._v(\" \"),(!_setup.displayedAttributes.length && _vm.emptyStateMessage)?_c('p',{staticClass:\"p-3 text-center\"},[_vm._v(\"\\n    \"+_vm._s(_vm.emptyStateMessage)+\"\\n  \")]):_vm._e(),_vm._v(\" \"),(_setup.filteredAttributes.length > 5)?_c('div',{staticClass:\"flex px-2 py-2\"},[_c('woot-button',{staticClass:\"!px-2 hover:!bg-transparent dark:hover:!bg-transparent\",attrs:{\"size\":\"small\",\"icon\":_setup.showAllAttributes ? 'chevron-up' : 'chevron-down',\"variant\":\"clear\",\"color-scheme\":\"primary\"},on:{\"click\":_setup.onClickToggle}},[_vm._v(\"\\n      \"+_vm._s(_setup.toggleButtonText)+\"\\n    \")])],1):_vm._e()],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelperTextPopup.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HelperTextPopup.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./HelperTextPopup.vue?vue&type=template&id=4f84527b&\"\nimport script from \"./HelperTextPopup.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./HelperTextPopup.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"relative group w-[inherit] whitespace-normal z-20\"},[_c('fluent-icon',{staticClass:\"mt-0.5 text-slate-600 absolute dark:text-slate-400\",attrs:{\"icon\":\"info\",\"size\":\"14\"}}),_vm._v(\" \"),_c('div',{staticClass:\"bg-white dark:bg-slate-900 w-fit ltr:left-4 rtl:right-4 top-0 border p-2.5 group-hover:flex items-center hidden absolute border-slate-75 dark:border-slate-800 rounded-lg shadow-md\"},[_c('p',{staticClass:\"text-slate-800 dark:text-slate-75 mb-0 text-xs\"},[_vm._v(\"\\n      \"+_vm._s(_vm.message)+\"\\n    \")])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomAttribute.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomAttribute.vue?vue&type=script&lang=js&\"","<script>\nimport { format, parseISO } from 'date-fns';\nimport { required, url } from '@vuelidate/validators';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport MultiselectDropdown from 'shared/components/ui/MultiselectDropdown.vue';\nimport HelperTextPopup from 'dashboard/components/ui/HelperTextPopup.vue';\nimport { isValidURL } from '../helper/URLHelper';\nimport { getRegexp } from 'shared/helpers/Validators';\nimport { useVuelidate } from '@vuelidate/core';\n\nconst DATE_FORMAT = 'yyyy-MM-dd';\n\nexport default {\n  components: {\n    MultiselectDropdown,\n    HelperTextPopup,\n  },\n  props: {\n    label: { type: String, required: true },\n    description: { type: String, default: '' },\n    values: { type: Array, default: () => [] },\n    value: { type: [String, Number, Boolean], default: '' },\n    showActions: { type: Boolean, default: false },\n    attributeType: { type: String, default: 'text' },\n    attributeRegex: {\n      type: String,\n      default: null,\n    },\n    regexCue: { type: String, default: null },\n    attributeKey: { type: String, required: true },\n    contactId: { type: Number, default: null },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      isEditing: false,\n      editedValue: null,\n    };\n  },\n  computed: {\n    displayValue() {\n      if (this.isAttributeTypeDate) {\n        return this.value\n          ? new Date(this.value || new Date()).toLocaleDateString()\n          : '';\n      }\n      if (this.isAttributeTypeCheckbox) {\n        return this.value === 'false' ? false : this.value;\n      }\n      return this.value;\n    },\n    formattedValue() {\n      return this.isAttributeTypeDate\n        ? format(this.value ? new Date(this.value) : new Date(), DATE_FORMAT)\n        : this.value;\n    },\n    listOptions() {\n      return this.values.map((value, index) => ({\n        id: index + 1,\n        name: value,\n      }));\n    },\n    selectedItem() {\n      const id = this.values.indexOf(this.editedValue) + 1;\n      return { id, name: this.editedValue };\n    },\n    isAttributeTypeCheckbox() {\n      return this.attributeType === 'checkbox';\n    },\n    isAttributeTypeList() {\n      return this.attributeType === 'list';\n    },\n    isAttributeTypeLink() {\n      return this.attributeType === 'link';\n    },\n    isAttributeTypeDate() {\n      return this.attributeType === 'date';\n    },\n    urlValue() {\n      return isValidURL(this.value) ? this.value : '---';\n    },\n    hrefURL() {\n      return isValidURL(this.value) ? this.value : '';\n    },\n    notAttributeTypeCheckboxAndList() {\n      return !this.isAttributeTypeCheckbox && !this.isAttributeTypeList;\n    },\n    inputType() {\n      return this.isAttributeTypeLink ? 'url' : this.attributeType;\n    },\n    shouldShowErrorMessage() {\n      return this.v$.editedValue.$error;\n    },\n    errorMessage() {\n      if (this.v$.editedValue.url) {\n        return this.$t('CUSTOM_ATTRIBUTES.VALIDATIONS.INVALID_URL');\n      }\n      if (!this.v$.editedValue.regexValidation) {\n        return this.regexCue\n          ? this.regexCue\n          : this.$t('CUSTOM_ATTRIBUTES.VALIDATIONS.INVALID_INPUT');\n      }\n      return this.$t('CUSTOM_ATTRIBUTES.VALIDATIONS.REQUIRED');\n    },\n  },\n  watch: {\n    value() {\n      this.isEditing = false;\n      this.editedValue = this.formattedValue;\n    },\n    contactId() {\n      // Fix to solve validation not resetting when contactId changes in contact page\n      this.v$.$reset();\n    },\n  },\n\n  validations() {\n    if (this.isAttributeTypeLink) {\n      return {\n        editedValue: { required, url },\n      };\n    }\n    return {\n      editedValue: {\n        required,\n        regexValidation: value => {\n          return !(\n            this.attributeRegex && !getRegexp(this.attributeRegex).test(value)\n          );\n        },\n      },\n    };\n  },\n  mounted() {\n    this.editedValue = this.formattedValue;\n    this.$emitter.on(BUS_EVENTS.FOCUS_CUSTOM_ATTRIBUTE, this.onFocusAttribute);\n  },\n  destroyed() {\n    this.$emitter.off(BUS_EVENTS.FOCUS_CUSTOM_ATTRIBUTE, this.onFocusAttribute);\n  },\n  methods: {\n    onFocusAttribute(focusAttributeKey) {\n      if (this.attributeKey === focusAttributeKey) {\n        this.onEdit();\n      }\n    },\n    focusInput() {\n      if (this.$refs.inputfield) {\n        this.$refs.inputfield.focus();\n      }\n    },\n    onClickAway() {\n      this.v$.$reset();\n      this.isEditing = false;\n    },\n    onEdit() {\n      this.isEditing = true;\n      this.$nextTick(() => {\n        this.focusInput();\n      });\n    },\n    onUpdateListValue(value) {\n      if (value) {\n        this.editedValue = value.name;\n        this.onUpdate();\n      }\n    },\n    onUpdate() {\n      const updatedValue =\n        this.attributeType === 'date'\n          ? parseISO(this.editedValue)\n          : this.editedValue;\n      this.v$.$touch();\n      if (this.v$.$invalid) {\n        return;\n      }\n      this.isEditing = false;\n      this.$emit('update', this.attributeKey, updatedValue);\n    },\n    onDelete() {\n      this.isEditing = false;\n      this.v$.$reset();\n      this.$emit('delete', this.attributeKey);\n    },\n    onCopy() {\n      this.$emit('copy', this.value);\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"px-4 py-3\">\n    <div class=\"flex items-center mb-1\">\n      <h4 class=\"flex items-center w-full m-0 text-sm error\">\n        <div v-if=\"isAttributeTypeCheckbox\" class=\"flex items-center\">\n          <input\n            v-model=\"editedValue\"\n            class=\"!my-0 mr-2 ml-0\"\n            type=\"checkbox\"\n            @change=\"onUpdate\"\n          />\n        </div>\n        <div class=\"flex items-center justify-between w-full\">\n          <span\n            class=\"w-full inline-flex gap-1.5 items-start font-medium whitespace-nowrap text-sm mb-0\"\n            :class=\"\n              v$.editedValue.$error\n                ? 'text-red-400 dark:text-red-500'\n                : 'text-slate-800 dark:text-slate-100'\n            \"\n          >\n            {{ label }}\n            <HelperTextPopup\n              v-if=\"description\"\n              :message=\"description\"\n              class=\"mt-0.5\"\n            />\n          </span>\n          <woot-button\n            v-if=\"showActions && value\"\n            v-tooltip.left=\"$t('CUSTOM_ATTRIBUTES.ACTIONS.DELETE')\"\n            variant=\"link\"\n            size=\"medium\"\n            color-scheme=\"secondary\"\n            icon=\"delete\"\n            class-names=\"flex justify-end w-4\"\n            @click=\"onDelete\"\n          />\n        </div>\n      </h4>\n    </div>\n    <div v-if=\"notAttributeTypeCheckboxAndList\">\n      <div v-if=\"isEditing\" v-on-clickaway=\"onClickAway\">\n        <div class=\"flex items-center w-full mb-2\">\n          <input\n            ref=\"inputfield\"\n            v-model=\"editedValue\"\n            :type=\"inputType\"\n            class=\"!h-8 ltr:!rounded-r-none rtl:!rounded-l-none !mb-0 !text-sm\"\n            autofocus=\"true\"\n            :class=\"{ error: v$.editedValue.$error }\"\n            @blur=\"v$.editedValue.$touch\"\n            @keyup.enter=\"onUpdate\"\n          />\n          <div>\n            <woot-button\n              size=\"small\"\n              icon=\"checkmark\"\n              class=\"rounded-l-none rtl:rounded-r-none\"\n              @click=\"onUpdate\"\n            />\n          </div>\n        </div>\n        <span\n          v-if=\"shouldShowErrorMessage\"\n          class=\"block w-full -mt-px text-sm font-normal text-red-400 dark:text-red-500\"\n        >\n          {{ errorMessage }}\n        </span>\n      </div>\n      <div\n        v-show=\"!isEditing\"\n        class=\"flex group\"\n        :class=\"{ 'is-editable': showActions }\"\n      >\n        <a\n          v-if=\"isAttributeTypeLink\"\n          :href=\"hrefURL\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n          class=\"group-hover:bg-slate-50 group-hover:dark:bg-slate-700 inline-block rounded-sm mb-0 break-all py-0.5 px-1\"\n        >\n          {{ urlValue }}\n        </a>\n        <p\n          v-else\n          class=\"group-hover:bg-slate-50 group-hover:dark:bg-slate-700 inline-block rounded-sm mb-0 break-all py-0.5 px-1\"\n        >\n          {{ displayValue || '---' }}\n        </p>\n        <div class=\"flex max-w-[2rem] gap-1 ml-1 rtl:mr-1 rtl:ml-0\">\n          <woot-button\n            v-if=\"showActions && value\"\n            v-tooltip=\"$t('CUSTOM_ATTRIBUTES.ACTIONS.COPY')\"\n            variant=\"link\"\n            size=\"small\"\n            color-scheme=\"secondary\"\n            icon=\"clipboard\"\n            class-names=\"hidden group-hover:flex !w-6 flex-shrink-0\"\n            @click=\"onCopy\"\n          />\n          <woot-button\n            v-if=\"showActions\"\n            v-tooltip.right=\"$t('CUSTOM_ATTRIBUTES.ACTIONS.EDIT')\"\n            variant=\"link\"\n            size=\"small\"\n            color-scheme=\"secondary\"\n            icon=\"edit\"\n            class-names=\"hidden group-hover:flex !w-6 flex-shrink-0\"\n            @click=\"onEdit\"\n          />\n        </div>\n      </div>\n    </div>\n    <div v-if=\"isAttributeTypeList\">\n      <MultiselectDropdown\n        :options=\"listOptions\"\n        :selected-item=\"selectedItem\"\n        :has-thumbnail=\"false\"\n        :multiselector-placeholder=\"\n          $t('CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.PLACEHOLDER')\n        \"\n        :no-search-result=\"\n          $t('CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.NO_RESULT')\n        \"\n        :input-placeholder=\"\n          $t(\n            'CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.SEARCH_INPUT_PLACEHOLDER'\n          )\n        \"\n        @click=\"onUpdateListValue\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n::v-deep {\n  .selector-wrap {\n    @apply m-0 top-1;\n\n    .selector-name {\n      @apply ml-0;\n    }\n  }\n\n  .name {\n    @apply ml-0;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./CustomAttribute.vue?vue&type=template&id=5db16fe0&scoped=true&\"\nimport script from \"./CustomAttribute.vue?vue&type=script&lang=js&\"\nexport * from \"./CustomAttribute.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CustomAttribute.vue?vue&type=style&index=0&id=5db16fe0&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5db16fe0\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"px-4 py-3\"},[_c('div',{staticClass:\"flex items-center mb-1\"},[_c('h4',{staticClass:\"flex items-center w-full m-0 text-sm error\"},[(_vm.isAttributeTypeCheckbox)?_c('div',{staticClass:\"flex items-center\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editedValue),expression:\"editedValue\"}],staticClass:\"!my-0 mr-2 ml-0\",attrs:{\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.editedValue)?_vm._i(_vm.editedValue,null)>-1:(_vm.editedValue)},on:{\"change\":[function($event){var $$a=_vm.editedValue,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.editedValue=$$a.concat([$$v]))}else{$$i>-1&&(_vm.editedValue=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.editedValue=$$c}},_vm.onUpdate]}})]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center justify-between w-full\"},[_c('span',{staticClass:\"w-full inline-flex gap-1.5 items-start font-medium whitespace-nowrap text-sm mb-0\",class:_vm.v$.editedValue.$error\n              ? 'text-red-400 dark:text-red-500'\n              : 'text-slate-800 dark:text-slate-100'},[_vm._v(\"\\n          \"+_vm._s(_vm.label)+\"\\n          \"),(_vm.description)?_c('HelperTextPopup',{staticClass:\"mt-0.5\",attrs:{\"message\":_vm.description}}):_vm._e()],1),_vm._v(\" \"),(_vm.showActions && _vm.value)?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(_vm.$t('CUSTOM_ATTRIBUTES.ACTIONS.DELETE')),expression:\"$t('CUSTOM_ATTRIBUTES.ACTIONS.DELETE')\",modifiers:{\"left\":true}}],attrs:{\"variant\":\"link\",\"size\":\"medium\",\"color-scheme\":\"secondary\",\"icon\":\"delete\",\"class-names\":\"flex justify-end w-4\"},on:{\"click\":_vm.onDelete}}):_vm._e()],1)])]),_vm._v(\" \"),(_vm.notAttributeTypeCheckboxAndList)?_c('div',[(_vm.isEditing)?_c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_vm.onClickAway),expression:\"onClickAway\"}]},[_c('div',{staticClass:\"flex items-center w-full mb-2\"},[((_vm.inputType)==='checkbox')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editedValue),expression:\"editedValue\"}],ref:\"inputfield\",staticClass:\"!h-8 ltr:!rounded-r-none rtl:!rounded-l-none !mb-0 !text-sm\",class:{ error: _vm.v$.editedValue.$error },attrs:{\"autofocus\":\"true\",\"type\":\"checkbox\"},domProps:{\"checked\":Array.isArray(_vm.editedValue)?_vm._i(_vm.editedValue,null)>-1:(_vm.editedValue)},on:{\"blur\":_vm.v$.editedValue.$touch,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onUpdate.apply(null, arguments)},\"change\":function($event){var $$a=_vm.editedValue,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=null,$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.editedValue=$$a.concat([$$v]))}else{$$i>-1&&(_vm.editedValue=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.editedValue=$$c}}}}):((_vm.inputType)==='radio')?_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editedValue),expression:\"editedValue\"}],ref:\"inputfield\",staticClass:\"!h-8 ltr:!rounded-r-none rtl:!rounded-l-none !mb-0 !text-sm\",class:{ error: _vm.v$.editedValue.$error },attrs:{\"autofocus\":\"true\",\"type\":\"radio\"},domProps:{\"checked\":_vm._q(_vm.editedValue,null)},on:{\"blur\":_vm.v$.editedValue.$touch,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onUpdate.apply(null, arguments)},\"change\":function($event){_vm.editedValue=null}}}):_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.editedValue),expression:\"editedValue\"}],ref:\"inputfield\",staticClass:\"!h-8 ltr:!rounded-r-none rtl:!rounded-l-none !mb-0 !text-sm\",class:{ error: _vm.v$.editedValue.$error },attrs:{\"autofocus\":\"true\",\"type\":_vm.inputType},domProps:{\"value\":(_vm.editedValue)},on:{\"blur\":_vm.v$.editedValue.$touch,\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\"))return null;return _vm.onUpdate.apply(null, arguments)},\"input\":function($event){if($event.target.composing)return;_vm.editedValue=$event.target.value}}}),_vm._v(\" \"),_c('div',[_c('woot-button',{staticClass:\"rounded-l-none rtl:rounded-r-none\",attrs:{\"size\":\"small\",\"icon\":\"checkmark\"},on:{\"click\":_vm.onUpdate}})],1)]),_vm._v(\" \"),(_vm.shouldShowErrorMessage)?_c('span',{staticClass:\"block w-full -mt-px text-sm font-normal text-red-400 dark:text-red-500\"},[_vm._v(\"\\n        \"+_vm._s(_vm.errorMessage)+\"\\n      \")]):_vm._e()]):_vm._e(),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.isEditing),expression:\"!isEditing\"}],staticClass:\"flex group\",class:{ 'is-editable': _vm.showActions }},[(_vm.isAttributeTypeLink)?_c('a',{staticClass:\"group-hover:bg-slate-50 group-hover:dark:bg-slate-700 inline-block rounded-sm mb-0 break-all py-0.5 px-1\",attrs:{\"href\":_vm.hrefURL,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.urlValue)+\"\\n      \")]):_c('p',{staticClass:\"group-hover:bg-slate-50 group-hover:dark:bg-slate-700 inline-block rounded-sm mb-0 break-all py-0.5 px-1\"},[_vm._v(\"\\n        \"+_vm._s(_vm.displayValue || '---')+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex max-w-[2rem] gap-1 ml-1 rtl:mr-1 rtl:ml-0\"},[(_vm.showActions && _vm.value)?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('CUSTOM_ATTRIBUTES.ACTIONS.COPY')),expression:\"$t('CUSTOM_ATTRIBUTES.ACTIONS.COPY')\"}],attrs:{\"variant\":\"link\",\"size\":\"small\",\"color-scheme\":\"secondary\",\"icon\":\"clipboard\",\"class-names\":\"hidden group-hover:flex !w-6 flex-shrink-0\"},on:{\"click\":_vm.onCopy}}):_vm._e(),_vm._v(\" \"),(_vm.showActions)?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.right\",value:(_vm.$t('CUSTOM_ATTRIBUTES.ACTIONS.EDIT')),expression:\"$t('CUSTOM_ATTRIBUTES.ACTIONS.EDIT')\",modifiers:{\"right\":true}}],attrs:{\"variant\":\"link\",\"size\":\"small\",\"color-scheme\":\"secondary\",\"icon\":\"edit\",\"class-names\":\"hidden group-hover:flex !w-6 flex-shrink-0\"},on:{\"click\":_vm.onEdit}}):_vm._e()],1)])]):_vm._e(),_vm._v(\" \"),(_vm.isAttributeTypeList)?_c('div',[_c('MultiselectDropdown',{attrs:{\"options\":_vm.listOptions,\"selected-item\":_vm.selectedItem,\"has-thumbnail\":false,\"multiselector-placeholder\":_vm.$t('CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.PLACEHOLDER'),\"no-search-result\":_vm.$t('CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.NO_RESULT'),\"input-placeholder\":_vm.$t(\n          'CUSTOM_ATTRIBUTES.FORM.ATTRIBUTE_TYPE.LIST.SEARCH_INPUT_PLACEHOLDER'\n        )},on:{\"click\":_vm.onUpdateListValue}})],1):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script setup>\nimport { computed, onMounted } from 'vue';\nimport { useToggle } from '@vueuse/core';\nimport { useRoute } from 'dashboard/composables/route';\nimport { useStore, useStoreGetters } from 'dashboard/composables/store';\nimport { useAlert } from 'dashboard/composables';\nimport { useI18n } from 'dashboard/composables/useI18n';\nimport { useUISettings } from 'dashboard/composables/useUISettings';\nimport { copyTextToClipboard } from 'shared/helpers/clipboard';\nimport CustomAttribute from 'dashboard/components/CustomAttribute.vue';\n\nconst props = defineProps({\n  attributeType: {\n    type: String,\n    default: 'conversation_attribute',\n  },\n  contactId: { type: Number, default: null },\n  attributeFrom: {\n    type: String,\n    required: true,\n  },\n  emptyStateMessage: {\n    type: String,\n    default: '',\n  },\n  startAt: {\n    type: String,\n    default: 'even',\n    validator: value => value === 'even' || value === 'odd',\n  },\n});\n\nconst store = useStore();\nconst getters = useStoreGetters();\nconst route = useRoute();\nconst { t } = useI18n();\nconst { uiSettings, updateUISettings } = useUISettings();\n\nconst [showAllAttributes, toggleShowAllAttributes] = useToggle(false);\n\nconst currentChat = computed(() => getters.getSelectedChat.value);\nconst attributes = computed(() =>\n  getters['attributes/getAttributesByModel'].value(props.attributeType)\n);\n\nconst contactIdentifier = computed(\n  () =>\n    currentChat.value.meta?.sender?.id ||\n    route.params.contactId ||\n    props.contactId\n);\n\nconst contact = computed(() =>\n  getters['contacts/getContact'].value(contactIdentifier.value)\n);\n\nconst customAttributes = computed(() => {\n  if (props.attributeType === 'conversation_attribute')\n    return currentChat.value.custom_attributes || {};\n  return contact.value.custom_attributes || {};\n});\n\nconst conversationId = computed(() => currentChat.value.id);\n\nconst toggleButtonText = computed(() =>\n  !showAllAttributes.value\n    ? t('CUSTOM_ATTRIBUTES.SHOW_MORE')\n    : t('CUSTOM_ATTRIBUTES.SHOW_LESS')\n);\n\nconst filteredAttributes = computed(() =>\n  attributes.value.map(attribute => {\n    // Check if the attribute key exists in customAttributes\n    const hasValue = Object.hasOwnProperty.call(\n      customAttributes.value,\n      attribute.attribute_key\n    );\n    const isCheckbox = attribute.attribute_display_type === 'checkbox';\n    const defaultValue = isCheckbox ? false : '';\n\n    return {\n      ...attribute,\n      // Set value from customAttributes if it exists, otherwise use default value\n      value: hasValue\n        ? customAttributes.value[attribute.attribute_key]\n        : defaultValue,\n    };\n  })\n);\n\nconst displayedAttributes = computed(() => {\n  // Show only the first 5 attributes or all depending on showAllAttributes\n  if (showAllAttributes.value || filteredAttributes.value.length <= 5) {\n    return filteredAttributes.value;\n  }\n  return filteredAttributes.value.slice(0, 5);\n});\n\nconst showMoreUISettingsKey = computed(\n  () => `show_all_attributes_${props.attributeFrom}`\n);\n\nconst initializeSettings = () => {\n  showAllAttributes.value =\n    uiSettings.value[showMoreUISettingsKey.value] || false;\n};\n\nconst onClickToggle = () => {\n  toggleShowAllAttributes();\n  updateUISettings({\n    [showMoreUISettingsKey.value]: showAllAttributes.value,\n  });\n};\n\nconst onUpdate = async (key, value) => {\n  const updatedAttributes = { ...customAttributes.value, [key]: value };\n  try {\n    if (props.attributeType === 'conversation_attribute') {\n      await store.dispatch('updateCustomAttributes', {\n        conversationId: conversationId.value,\n        customAttributes: updatedAttributes,\n      });\n    } else {\n      store.dispatch('contacts/update', {\n        id: props.contactId,\n        custom_attributes: updatedAttributes,\n      });\n    }\n    useAlert(t('CUSTOM_ATTRIBUTES.FORM.UPDATE.SUCCESS'));\n  } catch (error) {\n    const errorMessage =\n      error?.response?.message || t('CUSTOM_ATTRIBUTES.FORM.UPDATE.ERROR');\n    useAlert(errorMessage);\n  }\n};\n\nconst onDelete = async key => {\n  try {\n    const { [key]: remove, ...updatedAttributes } = customAttributes.value;\n    if (props.attributeType === 'conversation_attribute') {\n      await store.dispatch('updateCustomAttributes', {\n        conversationId: conversationId.value,\n        customAttributes: updatedAttributes,\n      });\n    } else {\n      store.dispatch('contacts/deleteCustomAttributes', {\n        id: props.contactId,\n        customAttributes: [key],\n      });\n    }\n    useAlert(t('CUSTOM_ATTRIBUTES.FORM.DELETE.SUCCESS'));\n  } catch (error) {\n    const errorMessage =\n      error?.response?.message || t('CUSTOM_ATTRIBUTES.FORM.DELETE.ERROR');\n    useAlert(errorMessage);\n  }\n};\n\nconst onCopy = async attributeValue => {\n  await copyTextToClipboard(attributeValue);\n  useAlert(t('CUSTOM_ATTRIBUTES.COPY_SUCCESSFUL'));\n};\n\nonMounted(() => {\n  initializeSettings();\n});\n\nconst evenClass = [\n  '[&>*:nth-child(odd)]:!bg-white [&>*:nth-child(even)]:!bg-slate-25',\n  'dark:[&>*:nth-child(odd)]:!bg-slate-900 dark:[&>*:nth-child(even)]:!bg-slate-800/50',\n];\nconst oddClass = [\n  '[&>*:nth-child(odd)]:!bg-slate-25 [&>*:nth-child(even)]:!bg-white',\n  'dark:[&>*:nth-child(odd)]:!bg-slate-800/50 dark:[&>*:nth-child(even)]:!bg-slate-900',\n];\n\nconst wrapperClass = computed(() => {\n  return props.startAt === 'even' ? evenClass : oddClass;\n});\n</script>\n\n<!-- TODO: After migration to Vue 3, remove the top level div -->\n<template>\n  <div :class=\"wrapperClass\">\n    <CustomAttribute\n      v-for=\"attribute in displayedAttributes\"\n      :key=\"attribute.id\"\n      :attribute-key=\"attribute.attribute_key\"\n      :attribute-type=\"attribute.attribute_display_type\"\n      :values=\"attribute.attribute_values\"\n      :label=\"attribute.attribute_display_name\"\n      :description=\"attribute.attribute_description\"\n      :value=\"attribute.value\"\n      show-actions\n      :attribute-regex=\"attribute.regex_pattern\"\n      :regex-cue=\"attribute.regex_cue\"\n      :contact-id=\"contactId\"\n      class=\"border-b border-solid border-slate-50 dark:border-slate-700/50\"\n      @update=\"onUpdate\"\n      @delete=\"onDelete\"\n      @copy=\"onCopy\"\n    />\n    <p\n      v-if=\"!displayedAttributes.length && emptyStateMessage\"\n      class=\"p-3 text-center\"\n    >\n      {{ emptyStateMessage }}\n    </p>\n    <!-- Show more and show less buttons show it if the filteredAttributes length is greater than 5 -->\n    <div v-if=\"filteredAttributes.length > 5\" class=\"flex px-2 py-2\">\n      <woot-button\n        size=\"small\"\n        :icon=\"showAllAttributes ? 'chevron-up' : 'chevron-down'\"\n        variant=\"clear\"\n        color-scheme=\"primary\"\n        class=\"!px-2 hover:!bg-transparent dark:hover:!bg-transparent\"\n        @click=\"onClickToggle\"\n      >\n        {{ toggleButtonText }}\n      </woot-button>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomAttributes.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomAttributes.vue?vue&type=script&setup=true&lang=js&\"","import { render, staticRenderFns } from \"./CustomAttributes.vue?vue&type=template&id=084cdf08&\"\nimport script from \"./CustomAttributes.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./CustomAttributes.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"absolute flex flex-col items-start bg-white dark:bg-slate-800 z-50 p-4 border border-solid border-slate-75 dark:border-slate-700 w-[384px] rounded-xl gap-4 max-h-96 overflow-auto\"},[_c('span',{staticClass:\"text-sm font-medium text-slate-900 dark:text-slate-25\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('SLA.EVENTS.TITLE'))+\"\\n  \")]),_vm._v(\" \"),(_setup.frtMisses.length)?_c(_setup.SLAEventItem,{attrs:{\"label\":_vm.$t('SLA.EVENTS.FRT'),\"items\":_setup.frtMisses}}):_vm._e(),_vm._v(\" \"),(_setup.nrtMisses.length)?_c(_setup.SLAEventItem,{attrs:{\"label\":_vm.$t('SLA.EVENTS.NRT'),\"items\":_setup.nrtMisses},scopedSlots:_vm._u([{key:\"showMore\",fn:function(){return [(_setup.shouldShowMoreNRTButton)?_c('div',{staticClass:\"flex flex-col items-end w-full\"},[_c('woot-button',{staticClass:\"hover:!no-underline !gap-1 hover:!bg-transparent dark:hover:!bg-transparent\",attrs:{\"size\":\"small\",\"icon\":!_setup.shouldShowAllNrts ? 'plus-sign' : '',\"variant\":\"link\",\"color-scheme\":\"secondary\"},on:{\"click\":_setup.toggleShowAllNRT}},[_vm._v(\"\\n          \"+_vm._s(_setup.shouldShowAllNrts\n              ? _vm.$t('SLA.EVENTS.HIDE', { count: _setup.nrtMisses.length })\n              : _vm.$t('SLA.EVENTS.SHOW_MORE', { count: _setup.nrtMisses.length }))+\"\\n        \")])],1):_vm._e()]},proxy:true}],null,false,4238293960)}):_vm._e(),_vm._v(\" \"),(_setup.rtMisses.length)?_c(_setup.SLAEventItem,{attrs:{\"label\":_vm.$t('SLA.EVENTS.RT'),\"items\":_setup.rtMisses}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLAEventItem.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLAEventItem.vue?vue&type=script&setup=true&lang=js&\"","<script setup>\r\nimport { format, fromUnixTime } from 'date-fns';\r\n\r\ndefineProps({\r\n  label: {\r\n    type: String,\r\n    required: true,\r\n  },\r\n  items: {\r\n    type: Array,\r\n    required: true,\r\n  },\r\n});\r\nconst formatDate = timestamp =>\r\n  format(fromUnixTime(timestamp), 'MMM dd, yyyy, hh:mm a');\r\n</script>\r\n\r\n<template>\r\n  <div class=\"flex justify-between w-full\">\r\n    <span\r\n      class=\"text-sm sticky top-0 h-fit font-normal tracking-[-0.6%] min-w-[140px] truncate text-slate-600 dark:text-slate-200\"\r\n    >\r\n      {{ label }}\r\n    </span>\r\n    <div class=\"flex flex-col w-full gap-2\">\r\n      <span\r\n        v-for=\"item in items\"\r\n        :key=\"item.id\"\r\n        class=\"text-sm font-normal text-slate-900 dark:text-slate-25 text-right tabular-nums\"\r\n      >\r\n        {{ formatDate(item.created_at) }}\r\n      </span>\r\n      <slot name=\"showMore\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n","import { render, staticRenderFns } from \"./SLAEventItem.vue?vue&type=template&id=616d271c&\"\nimport script from \"./SLAEventItem.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SLAEventItem.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"flex justify-between w-full\"},[_c('span',{staticClass:\"text-sm sticky top-0 h-fit font-normal tracking-[-0.6%] min-w-[140px] truncate text-slate-600 dark:text-slate-200\"},[_vm._v(\"\\n    \"+_vm._s(_vm.label)+\"\\n  \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col w-full gap-2\"},[_vm._l((_vm.items),function(item){return _c('span',{key:item.id,staticClass:\"text-sm font-normal text-slate-900 dark:text-slate-25 text-right tabular-nums\"},[_vm._v(\"\\n      \"+_vm._s(_setup.formatDate(item.created_at))+\"\\n    \")])}),_vm._v(\" \"),_vm._t(\"showMore\")],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLAPopoverCard.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLAPopoverCard.vue?vue&type=script&setup=true&lang=js&\"","<script setup>\nimport { ref, computed } from 'vue';\n\nimport wootConstants from 'dashboard/constants/globals';\nimport SLAEventItem from './SLAEventItem.vue';\n\nconst props = defineProps({\n  slaMissedEvents: {\n    type: Array,\n    required: true,\n  },\n});\n\nconst { SLA_MISS_TYPES } = wootConstants;\n\nconst shouldShowAllNrts = ref(false);\n\nconst frtMisses = computed(() =>\n  props.slaMissedEvents.filter(\n    slaEvent => slaEvent.event_type === SLA_MISS_TYPES.FRT\n  )\n);\nconst nrtMisses = computed(() => {\n  const missedEvents = props.slaMissedEvents.filter(\n    slaEvent => slaEvent.event_type === SLA_MISS_TYPES.NRT\n  );\n  return shouldShowAllNrts.value ? missedEvents : missedEvents.slice(0, 6);\n});\nconst rtMisses = computed(() =>\n  props.slaMissedEvents.filter(\n    slaEvent => slaEvent.event_type === SLA_MISS_TYPES.RT\n  )\n);\n\nconst shouldShowMoreNRTButton = computed(() => nrtMisses.value.length > 6);\nconst toggleShowAllNRT = () => {\n  shouldShowAllNrts.value = !shouldShowAllNrts.value;\n};\n</script>\n\n<template>\n  <div\n    class=\"absolute flex flex-col items-start bg-white dark:bg-slate-800 z-50 p-4 border border-solid border-slate-75 dark:border-slate-700 w-[384px] rounded-xl gap-4 max-h-96 overflow-auto\"\n  >\n    <span class=\"text-sm font-medium text-slate-900 dark:text-slate-25\">\n      {{ $t('SLA.EVENTS.TITLE') }}\n    </span>\n    <SLAEventItem\n      v-if=\"frtMisses.length\"\n      :label=\"$t('SLA.EVENTS.FRT')\"\n      :items=\"frtMisses\"\n    />\n    <SLAEventItem\n      v-if=\"nrtMisses.length\"\n      :label=\"$t('SLA.EVENTS.NRT')\"\n      :items=\"nrtMisses\"\n    >\n      <template #showMore>\n        <div\n          v-if=\"shouldShowMoreNRTButton\"\n          class=\"flex flex-col items-end w-full\"\n        >\n          <woot-button\n            size=\"small\"\n            :icon=\"!shouldShowAllNrts ? 'plus-sign' : ''\"\n            variant=\"link\"\n            color-scheme=\"secondary\"\n            class=\"hover:!no-underline !gap-1 hover:!bg-transparent dark:hover:!bg-transparent\"\n            @click=\"toggleShowAllNRT\"\n          >\n            {{\n              shouldShowAllNrts\n                ? $t('SLA.EVENTS.HIDE', { count: nrtMisses.length })\n                : $t('SLA.EVENTS.SHOW_MORE', { count: nrtMisses.length })\n            }}\n          </woot-button>\n        </div>\n      </template>\n    </SLAEventItem>\n    <SLAEventItem\n      v-if=\"rtMisses.length\"\n      :label=\"$t('SLA.EVENTS.RT')\"\n      :items=\"rtMisses\"\n    />\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./SLAPopoverCard.vue?vue&type=template&id=4138b160&\"\nimport script from \"./SLAPopoverCard.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./SLAPopoverCard.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[(_vm.toEmails)?_c('div',[_c('div',{staticClass:\"input-group small\",class:{ error: _vm.v$.toEmailsVal.$error }},[_c('label',{staticClass:\"input-group-label\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.TO'))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\"},[_c('woot-input',{staticClass:\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\",class:{ error: _vm.v$.toEmailsVal.$error },attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.PLACEHOLDER')},on:{\"blur\":_vm.onBlur},model:{value:(_vm.v$.toEmailsVal.$model),callback:function ($$v) {_vm.$set(_vm.v$.toEmailsVal, \"$model\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"v$.toEmailsVal.$model\"}})],1)])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"input-group-wrap\"},[_c('div',{staticClass:\"input-group small\",class:{ error: _vm.v$.ccEmailsVal.$error }},[_c('label',{staticClass:\"input-group-label\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\"},[_c('woot-input',{staticClass:\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\",class:{ error: _vm.v$.ccEmailsVal.$error },attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.PLACEHOLDER')},on:{\"blur\":_vm.onBlur},model:{value:(_vm.v$.ccEmailsVal.$model),callback:function ($$v) {_vm.$set(_vm.v$.ccEmailsVal, \"$model\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"v$.ccEmailsVal.$model\"}})],1),_vm._v(\" \"),(!_vm.showBcc)?_c('woot-button',{attrs:{\"variant\":\"clear\",\"size\":\"small\"},on:{\"click\":_vm.handleAddBcc}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.ADD_BCC'))+\"\\n      \")]):_vm._e()],1),_vm._v(\" \"),(_vm.v$.ccEmailsVal.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.ERROR'))+\"\\n    \")]):_vm._e()]),_vm._v(\" \"),(_vm.showBcc)?_c('div',{staticClass:\"input-group-wrap\"},[_c('div',{staticClass:\"input-group small\",class:{ error: _vm.v$.bccEmailsVal.$error }},[_c('label',{staticClass:\"input-group-label\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\"},[_c('woot-input',{staticClass:\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\",class:{ error: _vm.v$.bccEmailsVal.$error },attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.PLACEHOLDER')},on:{\"blur\":_vm.onBlur},model:{value:(_vm.v$.bccEmailsVal.$model),callback:function ($$v) {_vm.$set(_vm.v$.bccEmailsVal, \"$model\", (typeof $$v === 'string'? $$v.trim(): $$v))},expression:\"v$.bccEmailsVal.$model\"}})],1)]),_vm._v(\" \"),(_vm.v$.bccEmailsVal.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.ERROR'))+\"\\n    \")]):_vm._e()]):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { email as emailValidator } from '@vuelidate/validators';\n\nexport const validEmailsByComma = value => {\n  if (!value.length) return true;\n  const emails = value.replace(/\\s+/g, '').split(',');\n  return emails.every(email => emailValidator.$validator(email));\n};\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyEmailHead.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyEmailHead.vue?vue&type=script&lang=js&\"","<script>\nimport { validEmailsByComma } from './helpers/emailHeadHelper';\nimport { useVuelidate } from '@vuelidate/core';\n\nexport default {\n  props: {\n    ccEmails: {\n      type: String,\n      default: '',\n    },\n    bccEmails: {\n      type: String,\n      default: '',\n    },\n    toEmails: {\n      type: String,\n      default: '',\n    },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      showBcc: false,\n      ccEmailsVal: '',\n      bccEmailsVal: '',\n      toEmailsVal: '',\n    };\n  },\n  watch: {\n    bccEmails(newVal) {\n      if (newVal !== this.bccEmailsVal) {\n        this.bccEmailsVal = newVal;\n      }\n    },\n    ccEmails(newVal) {\n      if (newVal !== this.ccEmailsVal) {\n        this.ccEmailsVal = newVal;\n      }\n    },\n    toEmails(newVal) {\n      if (newVal !== this.toEmailsVal) {\n        this.toEmailsVal = newVal;\n      }\n    },\n  },\n  mounted() {\n    this.ccEmailsVal = this.ccEmails;\n    this.bccEmailsVal = this.bccEmails;\n    this.toEmailsVal = this.toEmails;\n  },\n  validations: {\n    ccEmailsVal: {\n      hasValidEmails(value) {\n        return validEmailsByComma(value);\n      },\n    },\n    bccEmailsVal: {\n      hasValidEmails(value) {\n        return validEmailsByComma(value);\n      },\n    },\n    toEmailsVal: {\n      hasValidEmails(value) {\n        return validEmailsByComma(value);\n      },\n    },\n  },\n  methods: {\n    handleAddBcc() {\n      this.showBcc = true;\n    },\n    onBlur() {\n      this.v$.$touch();\n      this.$emit('update:bccEmails', this.bccEmailsVal);\n      this.$emit('update:ccEmails', this.ccEmailsVal);\n      this.$emit('update:toEmails', this.toEmailsVal);\n    },\n  },\n};\n</script>\n\n<template>\n  <div>\n    <div v-if=\"toEmails\">\n      <div class=\"input-group small\" :class=\"{ error: v$.toEmailsVal.$error }\">\n        <label class=\"input-group-label\">\n          {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.TO') }}\n        </label>\n        <div class=\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\">\n          <woot-input\n            v-model.trim=\"v$.toEmailsVal.$model\"\n            type=\"text\"\n            class=\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\"\n            :class=\"{ error: v$.toEmailsVal.$error }\"\n            :placeholder=\"$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.PLACEHOLDER')\"\n            @blur=\"onBlur\"\n          />\n        </div>\n      </div>\n    </div>\n    <div class=\"input-group-wrap\">\n      <div class=\"input-group small\" :class=\"{ error: v$.ccEmailsVal.$error }\">\n        <label class=\"input-group-label\">\n          {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.LABEL') }}\n        </label>\n        <div class=\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\">\n          <woot-input\n            v-model.trim=\"v$.ccEmailsVal.$model\"\n            class=\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\"\n            type=\"text\"\n            :class=\"{ error: v$.ccEmailsVal.$error }\"\n            :placeholder=\"$t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.PLACEHOLDER')\"\n            @blur=\"onBlur\"\n          />\n        </div>\n        <woot-button\n          v-if=\"!showBcc\"\n          variant=\"clear\"\n          size=\"small\"\n          @click=\"handleAddBcc\"\n        >\n          {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.ADD_BCC') }}\n        </woot-button>\n      </div>\n      <span v-if=\"v$.ccEmailsVal.$error\" class=\"message\">\n        {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.CC.ERROR') }}\n      </span>\n    </div>\n    <div v-if=\"showBcc\" class=\"input-group-wrap\">\n      <div class=\"input-group small\" :class=\"{ error: v$.bccEmailsVal.$error }\">\n        <label class=\"input-group-label\">\n          {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.LABEL') }}\n        </label>\n        <div class=\"rounded-none flex-1 min-w-0 m-0 whitespace-nowrap\">\n          <woot-input\n            v-model.trim=\"v$.bccEmailsVal.$model\"\n            type=\"text\"\n            class=\"[&>input]:!mb-0 [&>input]:border-transparent [&>input]:h-8 [&>input]:text-sm [&>input]:!border-0 [&>input]:border-none\"\n            :class=\"{ error: v$.bccEmailsVal.$error }\"\n            :placeholder=\"\n              $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.PLACEHOLDER')\n            \"\n            @blur=\"onBlur\"\n          />\n        </div>\n      </div>\n      <span v-if=\"v$.bccEmailsVal.$error\" class=\"message\">\n        {{ $t('CONVERSATION.REPLYBOX.EMAIL_HEAD.BCC.ERROR') }}\n      </span>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.input-group-wrap .message {\n  @apply text-sm text-red-500 dark:text-red-500;\n}\n.input-group {\n  @apply border-b border-solid border-slate-75 dark:border-slate-700 my-1 flex items-center gap-2;\n\n  .input-group-label {\n    @apply border-transparent bg-transparent text-xs font-semibold pl-0;\n  }\n}\n\n.input-group.error {\n  @apply border-b-red-500 dark:border-b-red-500;\n  .input-group-label {\n    @apply text-red-500 dark:text-red-500;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./ReplyEmailHead.vue?vue&type=template&id=b2f3249c&scoped=true&\"\nimport script from \"./ReplyEmailHead.vue?vue&type=script&lang=js&\"\nexport * from \"./ReplyEmailHead.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReplyEmailHead.vue?vue&type=style&index=0&id=b2f3249c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"b2f3249c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.hasSlaThreshold)?_c('div',{staticClass:\"relative flex items-center border cursor-pointer min-w-fit border-slate-100 dark:border-slate-700\",class:_vm.showExtendedInfo ? 'h-[26px] rounded-lg' : 'rounded h-5'},[_c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_vm.closeSlaPopover),expression:\"closeSlaPopover\"}],staticClass:\"flex items-center w-full truncate\",class:_vm.showExtendedInfo ? 'px-1.5' : 'px-2 gap-1',on:{\"mouseover\":function($event){return _vm.openSlaPopover()}}},[_c('div',{staticClass:\"flex items-center gap-1\",class:_vm.showExtendedInfo &&\n        'ltr:pr-1.5 rtl:pl-1.5 ltr:border-r rtl:border-l border-solid border-slate-100 dark:border-slate-700'},[_c('fluent-icon',{staticClass:\"flex-shrink-0\",class:_vm.slaTextStyles,attrs:{\"size\":\"14\",\"icon\":_vm.slaStatus.icon,\"type\":\"outline\",\"icon-lib\":_vm.isSlaMissed ? 'lucide' : 'fluent'}}),_vm._v(\" \"),(_vm.showExtendedInfo)?_c('span',{staticClass:\"text-xs font-medium\",class:_vm.slaTextStyles},[_vm._v(\"\\n        \"+_vm._s(_vm.slaStatusText)+\"\\n      \")]):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"text-xs font-medium\",class:[_vm.slaTextStyles, _vm.showExtendedInfo && 'ltr:pl-1.5 rtl:pr-1.5']},[_vm._v(\"\\n      \"+_vm._s(_vm.slaStatus.threshold)+\"\\n    \")])]),_vm._v(\" \"),(_vm.showSlaPopoverCard)?_c('SLAPopoverCard',{staticClass:\"right-0 top-7\",attrs:{\"sla-missed-events\":_vm.slaEvents}}):_vm._e()],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLACardLabel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SLACardLabel.vue?vue&type=script&lang=js&\"","<script>\nimport { evaluateSLAStatus } from '@chatwoot/utils';\nimport SLAPopoverCard from './SLAPopoverCard.vue';\n\nconst REFRESH_INTERVAL = 60000;\n\nexport default {\n  components: {\n    SLAPopoverCard,\n  },\n  props: {\n    chat: {\n      type: Object,\n      default: () => ({}),\n    },\n    showExtendedInfo: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      timer: null,\n      showSlaPopover: false,\n      slaStatus: {\n        threshold: null,\n        isSlaMissed: false,\n        type: null,\n        icon: null,\n      },\n    };\n  },\n  computed: {\n    slaPolicyId() {\n      return this.chat?.sla_policy_id;\n    },\n    appliedSLA() {\n      return this.chat?.applied_sla;\n    },\n    slaEvents() {\n      return this.chat?.sla_events;\n    },\n    hasSlaThreshold() {\n      return this.slaStatus?.threshold;\n    },\n    isSlaMissed() {\n      return this.slaStatus?.isSlaMissed;\n    },\n    slaTextStyles() {\n      return this.isSlaMissed\n        ? 'text-red-400 dark:text-red-300'\n        : 'text-yellow-600 dark:text-yellow-500';\n    },\n    slaStatusText() {\n      const upperCaseType = this.slaStatus?.type?.toUpperCase(); // FRT, NRT, or RT\n      const statusKey = this.isSlaMissed ? 'MISSED' : 'DUE';\n\n      return this.$t(`CONVERSATION.HEADER.SLA_STATUS.${upperCaseType}`, {\n        status: this.$t(`CONVERSATION.HEADER.SLA_STATUS.${statusKey}`),\n      });\n    },\n    showSlaPopoverCard() {\n      return (\n        this.showExtendedInfo && this.showSlaPopover && this.slaEvents.length\n      );\n    },\n  },\n  watch: {\n    chat() {\n      this.updateSlaStatus();\n    },\n  },\n  mounted() {\n    this.updateSlaStatus();\n    this.createTimer();\n  },\n  beforeDestroy() {\n    if (this.timer) {\n      clearTimeout(this.timer);\n    }\n  },\n  methods: {\n    createTimer() {\n      this.timer = setTimeout(() => {\n        this.updateSlaStatus();\n        this.createTimer();\n      }, REFRESH_INTERVAL);\n    },\n    updateSlaStatus() {\n      this.slaStatus = evaluateSLAStatus({\n        appliedSla: this.appliedSLA,\n        chat: this.chat,\n      });\n    },\n    openSlaPopover() {\n      if (!this.showExtendedInfo) return;\n      this.showSlaPopover = true;\n    },\n    closeSlaPopover() {\n      this.showSlaPopover = false;\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"hasSlaThreshold\"\n    class=\"relative flex items-center border cursor-pointer min-w-fit border-slate-100 dark:border-slate-700\"\n    :class=\"showExtendedInfo ? 'h-[26px] rounded-lg' : 'rounded h-5'\"\n  >\n    <div\n      v-on-clickaway=\"closeSlaPopover\"\n      class=\"flex items-center w-full truncate\"\n      :class=\"showExtendedInfo ? 'px-1.5' : 'px-2 gap-1'\"\n      @mouseover=\"openSlaPopover()\"\n    >\n      <div\n        class=\"flex items-center gap-1\"\n        :class=\"\n          showExtendedInfo &&\n          'ltr:pr-1.5 rtl:pl-1.5 ltr:border-r rtl:border-l border-solid border-slate-100 dark:border-slate-700'\n        \"\n      >\n        <fluent-icon\n          size=\"14\"\n          :icon=\"slaStatus.icon\"\n          type=\"outline\"\n          :icon-lib=\"isSlaMissed ? 'lucide' : 'fluent'\"\n          class=\"flex-shrink-0\"\n          :class=\"slaTextStyles\"\n        />\n        <span\n          v-if=\"showExtendedInfo\"\n          class=\"text-xs font-medium\"\n          :class=\"slaTextStyles\"\n        >\n          {{ slaStatusText }}\n        </span>\n      </div>\n      <span\n        class=\"text-xs font-medium\"\n        :class=\"[slaTextStyles, showExtendedInfo && 'ltr:pl-1.5 rtl:pr-1.5']\"\n      >\n        {{ slaStatus.threshold }}\n      </span>\n    </div>\n    <SLAPopoverCard\n      v-if=\"showSlaPopoverCard\"\n      :sla-missed-events=\"slaEvents\"\n      class=\"right-0 top-7\"\n    />\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./SLACardLabel.vue?vue&type=template&id=742bbad4&\"\nimport script from \"./SLACardLabel.vue?vue&type=script&lang=js&\"\nexport * from \"./SLACardLabel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.activeLabels.length || _vm.$slots.before)?_c('div',{directives:[{name:\"resize\",rawName:\"v-resize\",value:(_vm.computeVisibleLabelPosition),expression:\"computeVisibleLabelPosition\"}],ref:\"labelContainer\"},[_c('div',{staticClass:\"flex items-end flex-shrink min-w-0 gap-y-1\",class:{ 'h-auto overflow-visible flex-row flex-wrap': _vm.showAllLabels }},[_vm._t(\"before\"),_vm._v(\" \"),_vm._l((_vm.activeLabels),function(label,index){return _c('woot-label',{key:label ? label.id : index,staticClass:\"!mb-0 max-w-[calc(100%-0.5rem)]\",class:{ hidden: !_vm.showAllLabels && index > _vm.labelPosition },attrs:{\"title\":label.title,\"description\":label.description,\"color\":label.color,\"variant\":\"smooth\",\"small\":\"\"}})}),_vm._v(\" \"),(_vm.showExpandLabelButton)?_c('woot-button',{staticClass:\"sticky right-0 flex-shrink-0 mr-6 show-more--button rtl:rotate-180\",attrs:{\"title\":_vm.showAllLabels\n          ? _vm.$t('CONVERSATION.CARD.HIDE_LABELS')\n          : _vm.$t('CONVERSATION.CARD.SHOW_LABELS'),\"color-scheme\":\"secondary\",\"variant\":\"hollow\",\"icon\":_vm.showAllLabels ? 'chevron-left' : 'chevron-right',\"size\":\"tiny\"},on:{\"click\":_vm.onShowLabels}}):_vm._e()],2)]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardLabels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CardLabels.vue?vue&type=script&lang=js&\"","<script>\nimport { computed } from 'vue';\nimport { useMapGetter } from 'dashboard/composables/store';\n\nexport default {\n  props: {\n    conversationLabels: {\n      type: Array,\n      required: true,\n    },\n  },\n  setup(props) {\n    const accountLabels = useMapGetter('labels/getLabels');\n\n    const activeLabels = computed(() => {\n      return accountLabels.value.filter(({ title }) =>\n        props.conversationLabels.includes(title)\n      );\n    });\n\n    return {\n      activeLabels,\n    };\n  },\n  data() {\n    return {\n      showAllLabels: false,\n      showExpandLabelButton: false,\n      labelPosition: -1,\n    };\n  },\n  watch: {\n    activeLabels() {\n      this.$nextTick(() => this.computeVisibleLabelPosition());\n    },\n  },\n  mounted() {\n    // the problem here is that there is a certain amount of delay between the conversation\n    // card being mounted and the resize event eventually being triggered\n    // This means we need to run the function immediately after the component is mounted\n    // Happens especially when used in a virtual list.\n    // We can make the first trigger, a standard part of the directive, in case\n    // we face this issue again\n    this.computeVisibleLabelPosition();\n  },\n  methods: {\n    onShowLabels(e) {\n      e.stopPropagation();\n      this.showAllLabels = !this.showAllLabels;\n      this.$nextTick(() => this.computeVisibleLabelPosition());\n    },\n    computeVisibleLabelPosition() {\n      const beforeSlot = this.$slots.before ? 100 : 0;\n      const labelContainer = this.$refs.labelContainer;\n      if (!labelContainer) return;\n\n      const labels = Array.from(labelContainer.querySelectorAll('.label'));\n      let labelOffset = 0;\n      this.showExpandLabelButton = false;\n      labels.forEach((label, index) => {\n        labelOffset += label.offsetWidth + 8;\n        if (labelOffset < labelContainer.clientWidth - 16 - beforeSlot) {\n          this.labelPosition = index;\n        } else {\n          this.showExpandLabelButton = labels.length > 1;\n        }\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"activeLabels.length || $slots.before\"\n    ref=\"labelContainer\"\n    v-resize=\"computeVisibleLabelPosition\"\n  >\n    <div\n      class=\"flex items-end flex-shrink min-w-0 gap-y-1\"\n      :class=\"{ 'h-auto overflow-visible flex-row flex-wrap': showAllLabels }\"\n    >\n      <slot name=\"before\" />\n      <woot-label\n        v-for=\"(label, index) in activeLabels\"\n        :key=\"label ? label.id : index\"\n        :title=\"label.title\"\n        :description=\"label.description\"\n        :color=\"label.color\"\n        variant=\"smooth\"\n        class=\"!mb-0 max-w-[calc(100%-0.5rem)]\"\n        small\n        :class=\"{ hidden: !showAllLabels && index > labelPosition }\"\n      />\n      <woot-button\n        v-if=\"showExpandLabelButton\"\n        :title=\"\n          showAllLabels\n            ? $t('CONVERSATION.CARD.HIDE_LABELS')\n            : $t('CONVERSATION.CARD.SHOW_LABELS')\n        \"\n        class=\"sticky right-0 flex-shrink-0 mr-6 show-more--button rtl:rotate-180\"\n        color-scheme=\"secondary\"\n        variant=\"hollow\"\n        :icon=\"showAllLabels ? 'chevron-left' : 'chevron-right'\"\n        size=\"tiny\"\n        @click=\"onShowLabels\"\n      />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.show-more--button {\n  @apply h-5;\n  &.secondary:focus {\n    @apply text-slate-700 dark:text-slate-200 border-slate-300 dark:border-slate-700;\n  }\n}\n\n.labels-wrap {\n  .secondary {\n    @apply border border-solid border-slate-100 dark:border-slate-700;\n  }\n}\n\n.hidden {\n  @apply invisible absolute;\n}\n</style>\n","import { render, staticRenderFns } from \"./CardLabels.vue?vue&type=template&id=1b1fe6b6&scoped=true&\"\nimport script from \"./CardLabels.vue?vue&type=script&lang=js&\"\nexport * from \"./CardLabels.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CardLabels.vue?vue&type=style&index=0&id=1b1fe6b6&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1b1fe6b6\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"message-text__wrap\",class:_vm.attachmentTypeClasses},[(_vm.isImage && !_vm.isImageError)?_c('img',{staticClass:\"bg-woot-200 dark:bg-woot-900\",attrs:{\"src\":_vm.dataUrl,\"width\":_vm.imageWidth,\"height\":_vm.imageHeight},on:{\"click\":_vm.onClick,\"error\":_vm.onImgErrorDelay}}):(_vm.isImageErrorDelay && !_vm.isImageError)?_c('img',{staticClass:\"bg-woot-200 dark:bg-woot-900\",attrs:{\"src\":`${_vm.dataUrl}?t=${Date.now()}`,\"width\":_vm.imageWidth,\"height\":_vm.imageHeight},on:{\"click\":_vm.onClick,\"error\":_vm.onImgError}}):_vm._e(),_vm._v(\" \"),(_vm.isVideo)?_c('video',{attrs:{\"src\":_vm.dataUrl,\"muted\":\"\",\"playsInline\":\"\"},domProps:{\"muted\":true},on:{\"error\":_vm.onImgError,\"click\":_vm.onClick}}):(_vm.isAudio)?_c('audio',{staticClass:\"skip-context-menu mb-0.5\",attrs:{\"controls\":\"\"}},[_c('source',{attrs:{\"src\":_vm.timeStampURL}})]):_vm._e(),_vm._v(\" \"),(_vm.show)?_c('GalleryView',{attrs:{\"show\":_vm.show,\"attachment\":_vm.attachment,\"all-attachments\":_vm.filteredCurrentChatAttachments},on:{\"update:show\":function($event){_vm.show=$event},\"error\":_vm.onImgError,\"close\":_vm.onClose}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { hasPressedCommand } from 'shared/helpers/KeyboardHelpers';\nimport GalleryView from '../components/GalleryView.vue';\nimport { timeStampAppendedURL } from 'dashboard/helper/URLHelper';\n\nconst ALLOWED_FILE_TYPES = {\n  IMAGE: 'image',\n  VIDEO: 'video',\n  AUDIO: 'audio',\n  IG_REEL: 'ig_reel',\n};\n\nexport default {\n  components: {\n    GalleryView,\n  },\n  props: {\n    attachment: {\n      type: Object,\n      required: true,\n    },\n    urlType: {\n      type: String,\n      required: false,\n      default: 'data_url',\n    },\n  },\n  data() {\n    return {\n      show: false,\n      isImageError: false,\n      isImageErrorDelay: false,\n      retryCount: 0,\n      maxRetries: 5,\n      retryDelay: 500,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      currentChatAttachments: 'getSelectedChatAttachments',\n    }),\n    isImage() {\n      return this.attachment.file_type === ALLOWED_FILE_TYPES.IMAGE;\n    },\n    isVideo() {\n      return (\n        this.attachment.file_type === ALLOWED_FILE_TYPES.VIDEO ||\n        this.attachment.file_type === ALLOWED_FILE_TYPES.IG_REEL\n      );\n    },\n    isAudio() {\n      return this.attachment.file_type === ALLOWED_FILE_TYPES.AUDIO;\n    },\n    timeStampURL() {\n      return timeStampAppendedURL(this.dataUrl);\n    },\n    attachmentTypeClasses() {\n      return {\n        image: this.isImage,\n        video: this.isVideo,\n      };\n    },\n    filteredCurrentChatAttachments() {\n      const attachments = this.currentChatAttachments.filter(attachment =>\n        ['image', 'video', 'audio'].includes(attachment.file_type)\n      );\n      return attachments;\n    },\n    dataUrl() {\n      return this.attachment[this.urlType];\n    },\n    imageWidth() {\n      return this.attachment.width ? `${this.attachment.width}px` : 'auto';\n    },\n    imageHeight() {\n      return this.attachment.height ? `${this.attachment.height}px` : 'auto';\n    },\n  },\n  watch: {\n    attachment() {\n      this.isImageError = false;\n    },\n  },\n  methods: {\n    onClose() {\n      this.show = false;\n    },\n    onClick(e) {\n      if (hasPressedCommand(e)) {\n        window.open(this.attachment.data_url, '_blank');\n        return;\n      }\n      this.show = true;\n    },\n    onImgError(e) {\n      if (this.retryCount < this.maxRetries) {\n        setTimeout(() => {\n          e.target.src = this.attachment.data_url;\n          this.retryCount++;\n        }, this.retryDelay);\n      } else {\n        console.error(`Failed to load image after ${this.maxRetries} attempts.`);\n        this.isImageError = true;\n        this.$emit('error');\n      }\n    },\n    onImgErrorDelay() {\n      setTimeout(() => {\n        this.isImageErrorDelay = true;\n        this.$emit('error');\n      }, 1000);\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"message-text__wrap\" :class=\"attachmentTypeClasses\">\n    <img\n      v-if=\"isImage && !isImageError\"\n      class=\"bg-woot-200 dark:bg-woot-900\"\n      :src=\"dataUrl\"\n      :width=\"imageWidth\"\n      :height=\"imageHeight\"\n      @click=\"onClick\"\n      @error=\"onImgErrorDelay\"\n    />\n    <img\n      v-else-if=\"isImageErrorDelay && !isImageError\"\n      class=\"bg-woot-200 dark:bg-woot-900\"\n      :src=\"`${dataUrl}?t=${Date.now()}`\"\n      :width=\"imageWidth\"\n      :height=\"imageHeight\"\n      @click=\"onClick\"\n      @error=\"onImgError\"\n    />\n    <video\n      v-if=\"isVideo\"\n      :src=\"dataUrl\"\n      muted\n      playsInline\n      @error=\"onImgError\"\n      @click=\"onClick\"\n    />\n    <audio v-else-if=\"isAudio\" controls class=\"skip-context-menu mb-0.5\">\n      <source :src=\"timeStampURL\" />\n    </audio>\n    <GalleryView\n      v-if=\"show\"\n      :show.sync=\"show\"\n      :attachment=\"attachment\"\n      :all-attachments=\"filteredCurrentChatAttachments\"\n      @error=\"onImgError\"\n      @close=\"onClose\"\n    />\n  </div>\n</template>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageAudioVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ImageAudioVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ImageAudioVideo.vue?vue&type=template&id=5603f807&\"\nimport script from \"./ImageAudioVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./ImageAudioVideo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"flex flex-row items-center justify-start gap-1 w-full py-1 px-0 cursor-pointer overflow-hidden\"},[_c('fluent-icon',{staticClass:\"text-slate-600 dark:text-slate-200 leading-none my-0 flex items-center flex-shrink-0\",attrs:{\"icon\":\"location\",\"size\":\"32\"}}),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col items-start flex-1 min-w-0\"},[_c('h5',{staticClass:\"text-sm text-slate-800 dark:text-slate-100 truncate m-0 w-full\",attrs:{\"title\":_vm.name}},[_vm._v(\"\\n      \"+_vm._s(_vm.name)+\"\\n    \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center\"},[_c('a',{staticClass:\"text-woot-600 dark:text-woot-600 text-xs underline\",attrs:{\"rel\":\"noreferrer noopener nofollow\",\"target\":\"_blank\",\"href\":_setup.mapUrl}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('COMPONENTS.LOCATION_BUBBLE.SEE_ON_MAP'))+\"\\n      \")])])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Location.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Location.vue?vue&type=script&setup=true&lang=js&\"","<script setup>\nimport { computed } from 'vue';\n\nconst props = defineProps({\n  latitude: {\n    type: Number,\n    default: undefined,\n  },\n  longitude: {\n    type: Number,\n    default: undefined,\n  },\n  name: {\n    type: String,\n    default: '',\n  },\n});\n\nconst mapUrl = computed(\n  () => `https://maps.google.com/?q=${props.latitude},${props.longitude}`\n);\n</script>\n\n<template>\n  <div\n    class=\"flex flex-row items-center justify-start gap-1 w-full py-1 px-0 cursor-pointer overflow-hidden\"\n  >\n    <fluent-icon\n      icon=\"location\"\n      class=\"text-slate-600 dark:text-slate-200 leading-none my-0 flex items-center flex-shrink-0\"\n      size=\"32\"\n    />\n    <div class=\"flex flex-col items-start flex-1 min-w-0\">\n      <h5\n        class=\"text-sm text-slate-800 dark:text-slate-100 truncate m-0 w-full\"\n        :title=\"name\"\n      >\n        {{ name }}\n      </h5>\n      <div class=\"flex items-center\">\n        <a\n          class=\"text-woot-600 dark:text-woot-600 text-xs underline\"\n          rel=\"noreferrer noopener nofollow\"\n          target=\"_blank\"\n          :href=\"mapUrl\"\n        >\n          {{ $t('COMPONENTS.LOCATION_BUBBLE.SEE_ON_MAP') }}\n        </a>\n      </div>\n    </div>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./Location.vue?vue&type=template&id=baede742&\"\nimport script from \"./Location.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./Location.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"contact--group\"},[_c('fluent-icon',{staticClass:\"file--icon\",attrs:{\"icon\":\"call\",\"size\":\"18\"}}),_vm._v(\" \"),_c('div',{staticClass:\"meta\"},[_c('p',{staticClass:\"overflow-hidden whitespace-nowrap text-ellipsis margin-bottom-0\"},[_vm._v(\"\\n      \"+_vm._s(_vm.phoneNumber)+\"\\n    \")])]),_vm._v(\" \"),(_vm.formattedPhoneNumber)?_c('div',{staticClass:\"link-wrap\"},[_c('woot-button',{attrs:{\"variant\":\"clear\",\"size\":\"small\"},on:{\"click\":function($event){$event.preventDefault();return _vm.addContact.apply(null, arguments)}}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONVERSATION.SAVE_CONTACT'))+\"\\n    \")])],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { useAlert } from 'dashboard/composables';\nimport {\n  DuplicateContactException,\n  ExceptionWithMessage,\n} from 'shared/helpers/CustomErrors';\n\nexport default {\n  props: {\n    name: {\n      type: String,\n      default: '',\n    },\n    phoneNumber: {\n      type: String,\n      default: '',\n    },\n  },\n  computed: {\n    formattedPhoneNumber() {\n      return this.phoneNumber.replace(/\\s|-|[A-Za-z]/g, '');\n    },\n    rawPhoneNumber() {\n      return this.phoneNumber.replace(/\\D/g, '');\n    },\n  },\n  methods: {\n    async addContact() {\n      try {\n        let contact = await this.filterContactByNumber(this.rawPhoneNumber);\n        if (!contact) {\n          contact = await this.$store.dispatch(\n            'contacts/create',\n            this.getContactObject()\n          );\n          useAlert(this.$t('CONTACT_FORM.SUCCESS_MESSAGE'));\n        }\n        this.openContactNewTab(contact.id);\n      } catch (error) {\n        if (error instanceof DuplicateContactException) {\n          if (error.data.includes('phone_number')) {\n            useAlert(this.$t('CONTACT_FORM.FORM.PHONE_NUMBER.DUPLICATE'));\n          }\n        } else if (error instanceof ExceptionWithMessage) {\n          useAlert(error.data);\n        } else {\n          useAlert(this.$t('CONTACT_FORM.ERROR_MESSAGE'));\n        }\n      }\n    },\n    getContactObject() {\n      const contactItem = {\n        name: this.name,\n        phone_number: `+${this.rawPhoneNumber}`,\n      };\n      return contactItem;\n    },\n    async filterContactByNumber(phoneNumber) {\n      const query = {\n        attribute_key: 'phone_number',\n        filter_operator: 'equal_to',\n        values: [phoneNumber],\n        attribute_model: 'standard',\n        custom_attribute_type: '',\n      };\n\n      const queryPayload = { payload: [query] };\n      const contacts = await this.$store.dispatch('contacts/filter', {\n        queryPayload,\n        resetState: false,\n      });\n      return contacts.shift();\n    },\n    openContactNewTab(contactId) {\n      const accountId = window.location.pathname.split('/')[3];\n      const url = `/app/accounts/${accountId}/contacts/${contactId}`;\n      window.open(url, '_blank');\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"contact--group\">\n    <fluent-icon icon=\"call\" class=\"file--icon\" size=\"18\" />\n    <div class=\"meta\">\n      <p\n        class=\"overflow-hidden whitespace-nowrap text-ellipsis margin-bottom-0\"\n      >\n        {{ phoneNumber }}\n      </p>\n    </div>\n    <div v-if=\"formattedPhoneNumber\" class=\"link-wrap\">\n      <woot-button variant=\"clear\" size=\"small\" @click.prevent=\"addContact\">\n        {{ $t('CONVERSATION.SAVE_CONTACT') }}\n      </woot-button>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.contact--group {\n  align-items: center;\n  display: flex;\n  margin-top: var(--space-smaller);\n\n  .meta {\n    flex: 1;\n    margin-left: var(--space-small);\n  }\n\n  .link-wrap {\n    margin-left: var(--space-small);\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Contact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Contact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Contact.vue?vue&type=template&id=a6f63298&scoped=true&\"\nimport script from \"./Contact.vue?vue&type=script&lang=js&\"\nexport * from \"./Contact.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Contact.vue?vue&type=style&index=0&id=a6f63298&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a6f63298\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"file message-text__wrap\"},[_c('div',{staticClass:\"icon-wrap\"},[_c('fluent-icon',{staticClass:\"file--icon\",attrs:{\"icon\":\"document\",\"size\":\"32\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"meta\"},[_c('h5',{staticClass:\"attachment-name text-slate-700 dark:text-slate-400\"},[_vm._v(\"\\n      \"+_vm._s(decodeURI(_vm.fileName))+\"\\n    \")]),_vm._v(\" \"),_c('a',{staticClass:\"download clear link button small\",attrs:{\"rel\":\"noreferrer noopener nofollow\",\"target\":\"_blank\",\"href\":_vm.url}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONVERSATION.DOWNLOAD'))+\"\\n    \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./File.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./File.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  props: {\n    url: {\n      type: String,\n      required: true,\n    },\n  },\n  computed: {\n    fileName() {\n      if (this.url) {\n        const filename = this.url.substring(this.url.lastIndexOf('/') + 1);\n        return filename || this.$t('CONVERSATION.UNKNOWN_FILE_TYPE');\n      }\n      return this.$t('CONVERSATION.UNKNOWN_FILE_TYPE');\n    },\n  },\n  methods: {\n    openLink() {\n      const win = window.open(this.url, '_blank', 'noopener');\n      if (win) win.focus();\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"file message-text__wrap\">\n    <div class=\"icon-wrap\">\n      <fluent-icon icon=\"document\" class=\"file--icon\" size=\"32\" />\n    </div>\n    <div class=\"meta\">\n      <h5 class=\"attachment-name text-slate-700 dark:text-slate-400\">\n        {{ decodeURI(fileName) }}\n      </h5>\n      <a\n        class=\"download clear link button small\"\n        rel=\"noreferrer noopener nofollow\"\n        target=\"_blank\"\n        :href=\"url\"\n      >\n        {{ $t('CONVERSATION.DOWNLOAD') }}\n      </a>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n@import '~dashboard/assets/scss/variables';\n\n.file {\n  display: flex;\n  flex-direction: row;\n  padding: $space-smaller 0;\n  cursor: pointer;\n\n  .icon-wrap {\n    font-size: $font-size-giga;\n    color: $color-white;\n    line-height: 1;\n    margin-left: $space-smaller;\n    margin-right: $space-slab;\n  }\n\n  .attachment-name {\n    margin: 0;\n    color: $color-white;\n    font-weight: $font-weight-bold;\n    word-break: break-word;\n  }\n\n  .button {\n    padding: 0;\n    margin: 0;\n    color: $color-primary-light;\n  }\n\n  .meta {\n    padding-right: $space-two;\n  }\n\n  .time {\n    min-width: $space-larger;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./File.vue?vue&type=template&id=09230eea&scoped=true&\"\nimport script from \"./File.vue?vue&type=script&lang=js&\"\nexport * from \"./File.vue?vue&type=script&lang=js&\"\nimport style0 from \"./File.vue?vue&type=style&index=0&id=09230eea&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"09230eea\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top\",value:({\n    content: _vm.tooltipText,\n    delay: { show: 1500, hide: 0 },\n    hideOnClick: true,\n  }),expression:\"{\\n    content: tooltipText,\\n    delay: { show: 1500, hide: 0 },\\n    hideOnClick: true,\\n  }\",modifiers:{\"top\":true}}],staticClass:\"ml-auto leading-4 text-xxs text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-slate-100\"},[_c('span',[_vm._v(_vm._s(`${_vm.createdAtTime}  ${_vm.lastActivityTime}`))])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nconst MINUTE_IN_MILLI_SECONDS = 60000;\nconst HOUR_IN_MILLI_SECONDS = MINUTE_IN_MILLI_SECONDS * 60;\nconst DAY_IN_MILLI_SECONDS = HOUR_IN_MILLI_SECONDS * 24;\n\nimport {\n  dynamicTime,\n  dateFormat,\n  shortTimestamp,\n} from 'shared/helpers/timeHelper';\n\nexport default {\n  name: 'TimeAgo',\n  props: {\n    isAutoRefreshEnabled: {\n      type: Boolean,\n      default: true,\n    },\n    lastActivityTimestamp: {\n      type: [String, Date, Number],\n      default: '',\n    },\n    createdAtTimestamp: {\n      type: [String, Date, Number],\n      default: '',\n    },\n  },\n  data() {\n    return {\n      lastActivityAtTimeAgo: dynamicTime(this.lastActivityTimestamp),\n      createdAtTimeAgo: dynamicTime(this.createdAtTimestamp),\n      timer: null,\n    };\n  },\n  computed: {\n    lastActivityTime() {\n      return shortTimestamp(this.lastActivityAtTimeAgo);\n    },\n    createdAtTime() {\n      return shortTimestamp(this.createdAtTimeAgo);\n    },\n    createdAt() {\n      const createdTimeDiff = Date.now() - this.createdAtTimestamp * 1000;\n      const isBeforeAMonth = createdTimeDiff > DAY_IN_MILLI_SECONDS * 30;\n      return !isBeforeAMonth\n        ? `${this.$t('CHAT_LIST.CHAT_TIME_STAMP.CREATED.LATEST')} ${\n            this.createdAtTimeAgo\n          }`\n        : `${this.$t('CHAT_LIST.CHAT_TIME_STAMP.CREATED.OLDEST')} ${dateFormat(\n            this.createdAtTimestamp\n          )}`;\n    },\n    lastActivity() {\n      const lastActivityTimeDiff =\n        Date.now() - this.lastActivityTimestamp * 1000;\n      const isNotActive = lastActivityTimeDiff > DAY_IN_MILLI_SECONDS * 30;\n      return !isNotActive\n        ? `${this.$t('CHAT_LIST.CHAT_TIME_STAMP.LAST_ACTIVITY.ACTIVE')} ${\n            this.lastActivityAtTimeAgo\n          }`\n        : `${this.$t(\n            'CHAT_LIST.CHAT_TIME_STAMP.LAST_ACTIVITY.NOT_ACTIVE'\n          )} ${dateFormat(this.lastActivityTimestamp)}`;\n    },\n    tooltipText() {\n      return `${this.createdAt}\n              ${this.lastActivity}`;\n    },\n  },\n  watch: {\n    lastActivityTimestamp() {\n      this.lastActivityAtTimeAgo = dynamicTime(this.lastActivityTimestamp);\n    },\n    createdAtTimestamp() {\n      this.createdAtTimeAgo = dynamicTime(this.createdAtTimestamp);\n    },\n  },\n  mounted() {\n    if (this.isAutoRefreshEnabled) {\n      this.createTimer();\n    }\n  },\n  beforeDestroy() {\n    clearTimeout(this.timer);\n  },\n  methods: {\n    createTimer() {\n      this.timer = setTimeout(() => {\n        this.lastActivityAtTimeAgo = dynamicTime(this.lastActivityTimestamp);\n        this.createdAtTimeAgo = dynamicTime(this.createdAtTimestamp);\n        this.createTimer();\n      }, this.refreshTime());\n    },\n    refreshTime() {\n      const timeDiff = Date.now() - this.lastActivityTimestamp * 1000;\n      if (timeDiff > DAY_IN_MILLI_SECONDS) {\n        return DAY_IN_MILLI_SECONDS;\n      }\n      if (timeDiff > HOUR_IN_MILLI_SECONDS) {\n        return HOUR_IN_MILLI_SECONDS;\n      }\n\n      return MINUTE_IN_MILLI_SECONDS;\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    v-tooltip.top=\"{\n      content: tooltipText,\n      delay: { show: 1500, hide: 0 },\n      hideOnClick: true,\n    }\"\n    class=\"ml-auto leading-4 text-xxs text-slate-500 dark:text-slate-500 hover:text-slate-900 dark:hover:text-slate-100\"\n  >\n    <span>{{ `${createdAtTime}  ${lastActivityTime}` }}</span>\n  </div>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeAgo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TimeAgo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TimeAgo.vue?vue&type=template&id=0501348a&\"\nimport script from \"./TimeAgo.vue?vue&type=script&lang=js&\"\nexport * from \"./TimeAgo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"my-0 mx-4 px-1 flex max-h-[8vh] items-baseline justify-between hover:bg-slate-25 dark:hover:bg-slate-800 border border-dashed border-slate-100 dark:border-slate-700 rounded-sm overflow-auto\"},[_c('p',{staticClass:\"w-fit !m-0\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('CONVERSATION.FOOTER.MESSAGE_SIGNATURE_NOT_CONFIGURED'))+\"\\n    \"),_c('woot-button',{attrs:{\"color-scheme\":\"primary\",\"variant\":\"link\"},on:{\"click\":_vm.openProfileSettings}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONVERSATION.FOOTER.CLICK_HERE'))+\"\\n    \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageSignatureMissingAlert.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageSignatureMissingAlert.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  methods: {\n    openProfileSettings() {\n      return this.$router.push({ name: 'profile_settings_index' });\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"my-0 mx-4 px-1 flex max-h-[8vh] items-baseline justify-between hover:bg-slate-25 dark:hover:bg-slate-800 border border-dashed border-slate-100 dark:border-slate-700 rounded-sm overflow-auto\"\n  >\n    <p class=\"w-fit !m-0\">\n      {{ $t('CONVERSATION.FOOTER.MESSAGE_SIGNATURE_NOT_CONFIGURED') }}\n      <woot-button\n        color-scheme=\"primary\"\n        variant=\"link\"\n        @click=\"openProfileSettings\"\n      >\n        {{ $t('CONVERSATION.FOOTER.CLICK_HERE') }}\n      </woot-button>\n    </p>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./MessageSignatureMissingAlert.vue?vue&type=template&id=211d6b70&\"\nimport script from \"./MessageSignatureMissingAlert.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageSignatureMissingAlert.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{staticClass:\"flex overflow-auto max-h-[12.5rem]\"},_vm._l((_setup.nonRecordedAudioAttachments),function(attachment,index){return _c('div',{key:attachment.id,staticClass:\"preview-item flex items-center p-1 bg-slate-50 dark:bg-slate-800 gap-1 rounded-md w-[15rem] mb-1\"},[_c('div',{staticClass:\"max-w-[4rem] flex-shrink-0 w-6 flex items-center\"},[(_setup.isTypeImage(attachment.resource))?_c('img',{staticClass:\"object-cover w-6 h-6 rounded-sm\",attrs:{\"src\":attachment.thumb}}):_c('span',{staticClass:\"relative w-6 h-6 text-lg text-left -top-px\"},[_vm._v(\"\\n        \\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"max-w-3/5 min-w-[50%] overflow-hidden text-ellipsis\"},[_c('span',{staticClass:\"h-4 overflow-hidden text-sm font-medium text-ellipsis whitespace-nowrap\"},[_vm._v(\"\\n        \"+_vm._s(_setup.fileName(attachment.resource))+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"w-[30%] justify-center\"},[_c('span',{staticClass:\"overflow-hidden text-xs text-ellipsis whitespace-nowrap\"},[_vm._v(\"\\n        \"+_vm._s(_setup.formatFileSize(attachment.resource))+\"\\n      \")])]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center justify-center\"},[_c('woot-button',{staticClass:\"!w-6 !h-6 text-sm rounded-md hover:bg-slate-50 dark:hover:bg-slate-800 clear secondary\",attrs:{\"icon\":\"dismiss\"},on:{\"click\":function($event){return _setup.onRemoveAttachment(index)}}})],1)])}),0)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentsPreview.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AttachmentsPreview.vue?vue&type=script&setup=true&lang=js&\"","<script setup>\nimport { computed } from 'vue';\nimport { formatBytes } from 'shared/helpers/FileHelper';\n\nconst props = defineProps({\n  attachments: {\n    type: Array,\n    default: () => [],\n  },\n});\n\nconst emit = defineEmits(['removeAttachment']);\n\nconst nonRecordedAudioAttachments = computed(() => {\n  return props.attachments.filter(attachment => !attachment?.isRecordedAudio);\n});\n\nconst recordedAudioAttachments = computed(() =>\n  props.attachments.filter(attachment => attachment.isRecordedAudio)\n);\n\nconst onRemoveAttachment = itemIndex => {\n  emit(\n    'removeAttachment',\n    nonRecordedAudioAttachments.value\n      .filter((_, index) => index !== itemIndex)\n      .concat(recordedAudioAttachments.value)\n  );\n};\n\nconst formatFileSize = file => {\n  const size = file.byte_size || file.size;\n  return formatBytes(size, 0);\n};\n\nconst isTypeImage = file => {\n  const type = file.content_type || file.type;\n  return type.includes('image');\n};\n\nconst fileName = file => {\n  return file.filename || file.name;\n};\n</script>\n\n<template>\n  <div class=\"flex overflow-auto max-h-[12.5rem]\">\n    <div\n      v-for=\"(attachment, index) in nonRecordedAudioAttachments\"\n      :key=\"attachment.id\"\n      class=\"preview-item flex items-center p-1 bg-slate-50 dark:bg-slate-800 gap-1 rounded-md w-[15rem] mb-1\"\n    >\n      <div class=\"max-w-[4rem] flex-shrink-0 w-6 flex items-center\">\n        <img\n          v-if=\"isTypeImage(attachment.resource)\"\n          class=\"object-cover w-6 h-6 rounded-sm\"\n          :src=\"attachment.thumb\"\n        />\n        <span v-else class=\"relative w-6 h-6 text-lg text-left -top-px\">\n          \n        </span>\n      </div>\n      <div class=\"max-w-3/5 min-w-[50%] overflow-hidden text-ellipsis\">\n        <span\n          class=\"h-4 overflow-hidden text-sm font-medium text-ellipsis whitespace-nowrap\"\n        >\n          {{ fileName(attachment.resource) }}\n        </span>\n      </div>\n      <div class=\"w-[30%] justify-center\">\n        <span class=\"overflow-hidden text-xs text-ellipsis whitespace-nowrap\">\n          {{ formatFileSize(attachment.resource) }}\n        </span>\n      </div>\n      <div class=\"flex items-center justify-center\">\n        <woot-button\n          class=\"!w-6 !h-6 text-sm rounded-md hover:bg-slate-50 dark:hover:bg-slate-800 clear secondary\"\n          icon=\"dismiss\"\n          @click=\"onRemoveAttachment(index)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./AttachmentsPreview.vue?vue&type=template&id=1dd5b157&\"\nimport script from \"./AttachmentsPreview.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./AttachmentsPreview.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('woot-modal',{attrs:{\"full-width\":\"\",\"show\":_vm.show,\"show-close-button\":false,\"on-close\":_setup.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_setup.onClose),expression:\"onClose\"}],staticClass:\"bg-white dark:bg-slate-900 flex flex-col h-[inherit] w-[inherit] overflow-hidden\",on:{\"click\":_setup.onClose}},[_c('div',{staticClass:\"z-10 flex items-center justify-between w-full h-16 px-6 py-2 bg-white dark:bg-slate-900\",on:{\"click\":function($event){$event.stopPropagation();}}},[(_setup.senderDetails)?_c('div',{staticClass:\"items-center flex justify-start min-w-[15rem]\"},[(_setup.senderDetails.avatar)?_c(_setup.Thumbnail,{attrs:{\"username\":_setup.senderDetails.name,\"src\":_setup.senderDetails.avatar}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col items-start justify-center ml-2 rtl:ml-0 rtl:mr-2\"},[_c('h3',{staticClass:\"text-base inline-block leading-[1.4] m-0 p-0 capitalize\"},[_c('span',{staticClass:\"overflow-hidden text-slate-800 dark:text-slate-100 whitespace-nowrap text-ellipsis\"},[_vm._v(\"\\n              \"+_vm._s(_setup.senderDetails.name)+\"\\n            \")])]),_vm._v(\" \"),_c('span',{staticClass:\"p-0 m-0 overflow-hidden text-xs text-slate-400 dark:text-slate-200 whitespace-nowrap text-ellipsis\"},[_vm._v(\"\\n            \"+_vm._s(_setup.readableTime)+\"\\n          \")])])],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center justify-start w-auto min-w-0 p-1 text-sm font-semibold text-slate-700 dark:text-slate-100\"},[_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_setup.fileNameFromDataUrl),expression:\"fileNameFromDataUrl\"}],staticClass:\"overflow-hidden text-slate-700 dark:text-slate-100 whitespace-nowrap text-ellipsis\"})]),_vm._v(\" \"),_c('div',{staticClass:\"items-center flex gap-2 justify-end min-w-[8rem] sm:min-w-[15rem]\"},[(_setup.isImage)?_c('woot-button',{attrs:{\"size\":\"large\",\"color-scheme\":\"secondary\",\"variant\":\"clear\",\"icon\":\"zoom-in\"},on:{\"click\":function($event){return _setup.onZoom(0.1)}}}):_vm._e(),_vm._v(\" \"),(_setup.isImage)?_c('woot-button',{attrs:{\"size\":\"large\",\"color-scheme\":\"secondary\",\"variant\":\"clear\",\"icon\":\"zoom-out\"},on:{\"click\":function($event){return _setup.onZoom(-0.1)}}}):_vm._e(),_vm._v(\" \"),(_setup.isImage)?_c('woot-button',{attrs:{\"size\":\"large\",\"color-scheme\":\"secondary\",\"variant\":\"clear\",\"icon\":\"arrow-rotate-counter-clockwise\"},on:{\"click\":function($event){return _setup.onRotate('counter-clockwise')}}}):_vm._e(),_vm._v(\" \"),(_setup.isImage)?_c('woot-button',{attrs:{\"size\":\"large\",\"color-scheme\":\"secondary\",\"variant\":\"clear\",\"icon\":\"arrow-rotate-clockwise\"},on:{\"click\":function($event){return _setup.onRotate('clockwise')}}}):_vm._e(),_vm._v(\" \"),_c('woot-button',{attrs:{\"size\":\"large\",\"color-scheme\":\"secondary\",\"variant\":\"clear\",\"icon\":\"arrow-download\"},on:{\"click\":_setup.onClickDownload}}),_vm._v(\" \"),_c('woot-button',{attrs:{\"size\":\"large\",\"color-scheme\":\"secondary\",\"variant\":\"clear\",\"icon\":\"dismiss\"},on:{\"click\":_setup.onClose}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center justify-center w-full h-full\"},[_c('div',{staticClass:\"flex justify-center min-w-[6.25rem] w-[6.25rem]\"},[(_setup.hasMoreThanOneAttachment)?_c('woot-button',{staticClass:\"z-10\",attrs:{\"size\":\"large\",\"variant\":\"smooth\",\"color-scheme\":\"primary\",\"icon\":\"chevron-left\",\"disabled\":_setup.activeImageIndex === 0},on:{\"click\":function($event){$event.stopPropagation();return _setup.onClickChangeAttachment(\n              _vm.allAttachments[_setup.activeImageIndex - 1],\n              _setup.activeImageIndex - 1\n            )}}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col items-center justify-center w-full h-full\"},[_c('div',[(_setup.isImage)?_c('img',{key:_setup.activeAttachment.message_id,staticClass:\"mx-auto my-0 duration-150 ease-in-out transform modal-image skip-context-menu\",style:(_setup.imageRotationStyle),attrs:{\"src\":_setup.activeAttachment.data_url},on:{\"click\":function($event){$event.stopPropagation();return _setup.onClickZoomImage.apply(null, arguments)},\"wheel\":function($event){$event.stopPropagation();return _setup.onWheelImageZoom.apply(null, arguments)}}}):_vm._e(),_vm._v(\" \"),(_setup.isVideo)?_c('video',{key:_setup.activeAttachment.message_id,staticClass:\"mx-auto my-0 modal-video skip-context-menu\",attrs:{\"src\":_setup.activeAttachment.data_url,\"controls\":\"\",\"playsInline\":\"\"},on:{\"click\":function($event){$event.stopPropagation();}}}):_vm._e(),_vm._v(\" \"),(_setup.isAudio)?_c('audio',{key:_setup.activeAttachment.message_id,staticClass:\"skip-context-menu\",attrs:{\"controls\":\"\"},on:{\"click\":function($event){$event.stopPropagation();}}},[_c('source',{attrs:{\"src\":`${_setup.activeAttachment.data_url}?t=${Date.now()}`}})]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-center min-w-[6.25rem] w-[6.25rem]\"},[(_setup.hasMoreThanOneAttachment)?_c('woot-button',{staticClass:\"z-10\",attrs:{\"size\":\"large\",\"variant\":\"smooth\",\"color-scheme\":\"primary\",\"disabled\":_setup.activeImageIndex === _vm.allAttachments.length - 1,\"icon\":\"chevron-right\"},on:{\"click\":function($event){$event.stopPropagation();return _setup.onClickChangeAttachment(\n              _vm.allAttachments[_setup.activeImageIndex + 1],\n              _setup.activeImageIndex + 1\n            )}}}):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"z-10 flex items-center justify-center w-full h-16 px-6 py-2\"},[_c('div',{staticClass:\"items-center rounded-sm flex font-semibold justify-center min-w-[5rem] p-1 bg-slate-25 dark:bg-slate-800 text-slate-600 dark:text-slate-200 text-sm\"},[_c('span',{staticClass:\"count\"},[_vm._v(\"\\n          \"+_vm._s(`${_setup.activeImageIndex + 1} / ${_vm.allAttachments.length}`)+\"\\n        \")])])])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GalleryView.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GalleryView.vue?vue&type=script&setup=true&lang=js&\"","<script setup>\nimport { ref, computed, onMounted } from 'vue';\nimport { useStoreGetters } from 'dashboard/composables/store';\nimport { useKeyboardEvents } from 'dashboard/composables/useKeyboardEvents';\nimport { messageTimestamp } from 'shared/helpers/timeHelper';\n\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\n\nconst props = defineProps({\n  show: {\n    type: Boolean,\n    required: true,\n  },\n  attachment: {\n    type: Object,\n    required: true,\n  },\n  allAttachments: {\n    type: Array,\n    required: true,\n  },\n});\n\nconst emit = defineEmits(['close']);\n\nconst getters = useStoreGetters();\n\nconst ALLOWED_FILE_TYPES = {\n  IMAGE: 'image',\n  VIDEO: 'video',\n  IG_REEL: 'ig_reel',\n  AUDIO: 'audio',\n};\n\nconst MAX_ZOOM_LEVEL = 2;\nconst MIN_ZOOM_LEVEL = 1;\n\nconst zoomScale = ref(1);\nconst activeAttachment = ref({});\nconst activeFileType = ref('');\nconst activeImageIndex = ref(\n  props.allAttachments.findIndex(\n    attachment => attachment.message_id === props.attachment.message_id\n  ) || 0\n);\nconst activeImageRotation = ref(0);\n\nconst currentUser = computed(() => getters.getCurrentUser.value);\n\nconst hasMoreThanOneAttachment = computed(\n  () => props.allAttachments.length > 1\n);\n\nconst readableTime = computed(() => {\n  const { created_at: createdAt } = activeAttachment.value;\n  if (!createdAt) return '';\n  return messageTimestamp(createdAt, 'LLL d yyyy, h:mm a') || '';\n});\n\nconst isImage = computed(\n  () => activeFileType.value === ALLOWED_FILE_TYPES.IMAGE\n);\nconst isVideo = computed(\n  () =>\n    activeFileType.value === ALLOWED_FILE_TYPES.VIDEO ||\n    activeFileType.value === ALLOWED_FILE_TYPES.IG_REEL\n);\nconst isAudio = computed(\n  () => activeFileType.value === ALLOWED_FILE_TYPES.AUDIO\n);\n\nconst senderDetails = computed(() => {\n  const {\n    name,\n    available_name: availableName,\n    avatar_url,\n    thumbnail,\n    id,\n  } = activeAttachment.value?.sender || props.attachment?.sender || {};\n  const currentUserID = currentUser.value?.id;\n  return {\n    name: currentUserID === id ? 'You' : name || availableName || '',\n    avatar: thumbnail || avatar_url || '',\n  };\n});\n\nconst fileNameFromDataUrl = computed(() => {\n  const { data_url: dataUrl } = activeAttachment.value;\n  if (!dataUrl) return '';\n  const fileName = dataUrl?.split('/').pop();\n  return decodeURIComponent(fileName || '');\n});\n\nconst imageRotationStyle = computed(() => ({\n  transform: `rotate(${activeImageRotation.value}deg) scale(${zoomScale.value})`,\n  cursor: zoomScale.value < MAX_ZOOM_LEVEL ? 'zoom-in' : 'zoom-out',\n}));\n\nconst onClose = () => {\n  emit('close');\n};\n\nconst setImageAndVideoSrc = attachment => {\n  const { file_type: type } = attachment;\n  if (!Object.values(ALLOWED_FILE_TYPES).includes(type)) {\n    return;\n  }\n  activeAttachment.value = attachment;\n  activeFileType.value = type;\n};\n\nconst onClickChangeAttachment = (attachment, index) => {\n  if (!attachment) {\n    return;\n  }\n  activeImageIndex.value = index;\n  setImageAndVideoSrc(attachment);\n  activeImageRotation.value = 0;\n  zoomScale.value = 1;\n};\n\nconst onClickDownload = () => {\n  const { file_type: type, data_url: url } = activeAttachment.value;\n  if (!Object.values(ALLOWED_FILE_TYPES).includes(type)) {\n    return;\n  }\n  const link = document.createElement('a');\n  link.href = url;\n  link.download = `attachment.${type}`;\n  link.click();\n};\n\nconst onRotate = type => {\n  if (!isImage.value) {\n    return;\n  }\n\n  const rotation = type === 'clockwise' ? 90 : -90;\n\n  // Reset rotation if it is 360\n  if (Math.abs(activeImageRotation.value) === 360) {\n    activeImageRotation.value = rotation;\n  } else {\n    activeImageRotation.value += rotation;\n  }\n};\n\nconst onZoom = scale => {\n  if (!isImage.value) {\n    return;\n  }\n\n  const newZoomScale = zoomScale.value + scale;\n  // Check if the new zoom scale is within the allowed range\n  if (newZoomScale > MAX_ZOOM_LEVEL) {\n    // Set zoom to max but do not reset to default\n    zoomScale.value = MAX_ZOOM_LEVEL;\n    return;\n  }\n  if (newZoomScale < MIN_ZOOM_LEVEL) {\n    // Set zoom to min but do not reset to default\n    zoomScale.value = MIN_ZOOM_LEVEL;\n    return;\n  }\n  // If within bounds, update the zoom scale\n  zoomScale.value = newZoomScale;\n};\n\nconst onClickZoomImage = () => {\n  onZoom(0.1);\n};\n\nconst onWheelImageZoom = e => {\n  if (!isImage.value) {\n    return;\n  }\n  const scale = e.deltaY > 0 ? -0.1 : 0.1;\n  onZoom(scale);\n};\n\nconst keyboardEvents = {\n  Escape: {\n    action: () => {\n      onClose();\n    },\n  },\n  ArrowLeft: {\n    action: () => {\n      onClickChangeAttachment(\n        props.allAttachments[activeImageIndex.value - 1],\n        activeImageIndex.value - 1\n      );\n    },\n  },\n  ArrowRight: {\n    action: () => {\n      onClickChangeAttachment(\n        props.allAttachments[activeImageIndex.value + 1],\n        activeImageIndex.value + 1\n      );\n    },\n  },\n};\nuseKeyboardEvents(keyboardEvents);\n\nonMounted(() => {\n  setImageAndVideoSrc(props.attachment);\n});\n</script>\n\n<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <woot-modal\n    full-width\n    :show.sync=\"show\"\n    :show-close-button=\"false\"\n    :on-close=\"onClose\"\n  >\n    <div\n      v-on-clickaway=\"onClose\"\n      class=\"bg-white dark:bg-slate-900 flex flex-col h-[inherit] w-[inherit] overflow-hidden\"\n      @click=\"onClose\"\n    >\n      <div\n        class=\"z-10 flex items-center justify-between w-full h-16 px-6 py-2 bg-white dark:bg-slate-900\"\n        @click.stop\n      >\n        <div\n          v-if=\"senderDetails\"\n          class=\"items-center flex justify-start min-w-[15rem]\"\n        >\n          <Thumbnail\n            v-if=\"senderDetails.avatar\"\n            :username=\"senderDetails.name\"\n            :src=\"senderDetails.avatar\"\n          />\n          <div\n            class=\"flex flex-col items-start justify-center ml-2 rtl:ml-0 rtl:mr-2\"\n          >\n            <h3 class=\"text-base inline-block leading-[1.4] m-0 p-0 capitalize\">\n              <span\n                class=\"overflow-hidden text-slate-800 dark:text-slate-100 whitespace-nowrap text-ellipsis\"\n              >\n                {{ senderDetails.name }}\n              </span>\n            </h3>\n            <span\n              class=\"p-0 m-0 overflow-hidden text-xs text-slate-400 dark:text-slate-200 whitespace-nowrap text-ellipsis\"\n            >\n              {{ readableTime }}\n            </span>\n          </div>\n        </div>\n        <div\n          class=\"flex items-center justify-start w-auto min-w-0 p-1 text-sm font-semibold text-slate-700 dark:text-slate-100\"\n        >\n          <span\n            v-dompurify-html=\"fileNameFromDataUrl\"\n            class=\"overflow-hidden text-slate-700 dark:text-slate-100 whitespace-nowrap text-ellipsis\"\n          />\n        </div>\n        <div\n          class=\"items-center flex gap-2 justify-end min-w-[8rem] sm:min-w-[15rem]\"\n        >\n          <woot-button\n            v-if=\"isImage\"\n            size=\"large\"\n            color-scheme=\"secondary\"\n            variant=\"clear\"\n            icon=\"zoom-in\"\n            @click=\"onZoom(0.1)\"\n          />\n          <woot-button\n            v-if=\"isImage\"\n            size=\"large\"\n            color-scheme=\"secondary\"\n            variant=\"clear\"\n            icon=\"zoom-out\"\n            @click=\"onZoom(-0.1)\"\n          />\n          <woot-button\n            v-if=\"isImage\"\n            size=\"large\"\n            color-scheme=\"secondary\"\n            variant=\"clear\"\n            icon=\"arrow-rotate-counter-clockwise\"\n            @click=\"onRotate('counter-clockwise')\"\n          />\n          <woot-button\n            v-if=\"isImage\"\n            size=\"large\"\n            color-scheme=\"secondary\"\n            variant=\"clear\"\n            icon=\"arrow-rotate-clockwise\"\n            @click=\"onRotate('clockwise')\"\n          />\n          <woot-button\n            size=\"large\"\n            color-scheme=\"secondary\"\n            variant=\"clear\"\n            icon=\"arrow-download\"\n            @click=\"onClickDownload\"\n          />\n          <woot-button\n            size=\"large\"\n            color-scheme=\"secondary\"\n            variant=\"clear\"\n            icon=\"dismiss\"\n            @click=\"onClose\"\n          />\n        </div>\n      </div>\n      <div class=\"flex items-center justify-center w-full h-full\">\n        <div class=\"flex justify-center min-w-[6.25rem] w-[6.25rem]\">\n          <woot-button\n            v-if=\"hasMoreThanOneAttachment\"\n            class=\"z-10\"\n            size=\"large\"\n            variant=\"smooth\"\n            color-scheme=\"primary\"\n            icon=\"chevron-left\"\n            :disabled=\"activeImageIndex === 0\"\n            @click.stop=\"\n              onClickChangeAttachment(\n                allAttachments[activeImageIndex - 1],\n                activeImageIndex - 1\n              )\n            \"\n          />\n        </div>\n        <div class=\"flex flex-col items-center justify-center w-full h-full\">\n          <div>\n            <img\n              v-if=\"isImage\"\n              :key=\"activeAttachment.message_id\"\n              :src=\"activeAttachment.data_url\"\n              class=\"mx-auto my-0 duration-150 ease-in-out transform modal-image skip-context-menu\"\n              :style=\"imageRotationStyle\"\n              @click.stop=\"onClickZoomImage\"\n              @wheel.stop=\"onWheelImageZoom\"\n            />\n            <video\n              v-if=\"isVideo\"\n              :key=\"activeAttachment.message_id\"\n              :src=\"activeAttachment.data_url\"\n              controls\n              playsInline\n              class=\"mx-auto my-0 modal-video skip-context-menu\"\n              @click.stop\n            />\n            <audio\n              v-if=\"isAudio\"\n              :key=\"activeAttachment.message_id\"\n              controls\n              class=\"skip-context-menu\"\n              @click.stop\n            >\n              <source :src=\"`${activeAttachment.data_url}?t=${Date.now()}`\" />\n            </audio>\n          </div>\n        </div>\n        <div class=\"flex justify-center min-w-[6.25rem] w-[6.25rem]\">\n          <woot-button\n            v-if=\"hasMoreThanOneAttachment\"\n            class=\"z-10\"\n            size=\"large\"\n            variant=\"smooth\"\n            color-scheme=\"primary\"\n            :disabled=\"activeImageIndex === allAttachments.length - 1\"\n            icon=\"chevron-right\"\n            @click.stop=\"\n              onClickChangeAttachment(\n                allAttachments[activeImageIndex + 1],\n                activeImageIndex + 1\n              )\n            \"\n          />\n        </div>\n      </div>\n      <div class=\"z-10 flex items-center justify-center w-full h-16 px-6 py-2\">\n        <div\n          class=\"items-center rounded-sm flex font-semibold justify-center min-w-[5rem] p-1 bg-slate-25 dark:bg-slate-800 text-slate-600 dark:text-slate-200 text-sm\"\n        >\n          <span class=\"count\">\n            {{ `${activeImageIndex + 1} / ${allAttachments.length}` }}\n          </span>\n        </div>\n      </div>\n    </div>\n  </woot-modal>\n</template>\n","import { render, staticRenderFns } from \"./GalleryView.vue?vue&type=template&id=a59e00ea&\"\nimport script from \"./GalleryView.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./GalleryView.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"menu text-slate-800 dark:text-slate-100\",attrs:{\"role\":\"button\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.$emit('click')}}},[(_vm.variant === 'icon' && _vm.option.icon)?_c('fluent-icon',{staticClass:\"menu-icon\",attrs:{\"icon\":_vm.option.icon,\"size\":\"14\"}}):_vm._e(),_vm._v(\" \"),(_vm.variant === 'label' && _vm.option.color)?_c('span',{staticClass:\"label-pill\",style:({ backgroundColor: _vm.option.color })}):_vm._e(),_vm._v(\" \"),(_vm.variant === 'agent')?_c('Thumbnail',{staticClass:\"agent-thumbnail\",attrs:{\"username\":_vm.option.label,\"src\":_vm.option.thumbnail,\"status\":_vm.option.status,\"size\":\"20px\"}}):_vm._e(),_vm._v(\" \"),_c('p',{staticClass:\"menu-label overflow-hidden whitespace-nowrap text-ellipsis\"},[_vm._v(\"\\n    \"+_vm._s(_vm.option.label)+\"\\n  \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItem.vue?vue&type=script&lang=js&\"","<script>\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nexport default {\n  components: {\n    Thumbnail,\n  },\n  props: {\n    option: {\n      type: Object,\n      default: () => {},\n    },\n    variant: {\n      type: String,\n      default: 'default',\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"menu text-slate-800 dark:text-slate-100\"\n    role=\"button\"\n    @click.stop=\"$emit('click')\"\n  >\n    <fluent-icon\n      v-if=\"variant === 'icon' && option.icon\"\n      :icon=\"option.icon\"\n      size=\"14\"\n      class=\"menu-icon\"\n    />\n    <span\n      v-if=\"variant === 'label' && option.color\"\n      class=\"label-pill\"\n      :style=\"{ backgroundColor: option.color }\"\n    />\n    <Thumbnail\n      v-if=\"variant === 'agent'\"\n      :username=\"option.label\"\n      :src=\"option.thumbnail\"\n      :status=\"option.status\"\n      size=\"20px\"\n      class=\"agent-thumbnail\"\n    />\n    <p class=\"menu-label overflow-hidden whitespace-nowrap text-ellipsis\">\n      {{ option.label }}\n    </p>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.menu {\n  width: calc(var(--space-mega) * 2);\n  @apply flex items-center flex-nowrap p-1 rounded-sm overflow-hidden cursor-pointer;\n\n  .menu-label {\n    @apply my-0 mx-2 text-xs flex-shrink-0;\n  }\n\n  &:hover {\n    @apply bg-woot-500 dark:bg-woot-500 text-white dark:text-slate-50;\n  }\n}\n\n.agent-thumbnail {\n  margin-top: 0 !important;\n}\n\n.label-pill {\n  @apply w-4 h-4 rounded-full border border-slate-50 border-solid dark:border-slate-900 flex-shrink-0;\n}\n</style>\n","import { render, staticRenderFns } from \"./menuItem.vue?vue&type=template&id=46ec2f6c&scoped=true&\"\nimport script from \"./menuItem.vue?vue&type=script&lang=js&\"\nexport * from \"./menuItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menuItem.vue?vue&type=style&index=0&id=46ec2f6c&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"46ec2f6c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"gap-1 templates__list-search\"},[_c('fluent-icon',{staticClass:\"search-icon\",attrs:{\"icon\":\"search\",\"size\":\"16\"}}),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.query),expression:\"query\"}],staticClass:\"templates__search-input\",attrs:{\"type\":\"search\",\"placeholder\":_vm.$t('WHATSAPP_TEMPLATES.PICKER.SEARCH_PLACEHOLDER')},domProps:{\"value\":(_vm.query)},on:{\"input\":function($event){if($event.target.composing)return;_vm.query=$event.target.value}}})],1),_vm._v(\" \"),_c('div',{staticClass:\"template__list-container\"},[_vm._l((_vm.filteredTemplateMessages),function(template,i){return _c('div',{key:template.id},[_c('button',{staticClass:\"template__list-item\",on:{\"click\":function($event){return _vm.$emit('onSelect', template)}}},[_c('div',[_c('div',{staticClass:\"flex items-center justify-between mb-2.5\"},[_c('p',{staticClass:\"label-title\"},[_vm._v(\"\\n              \"+_vm._s(template.name)+\"\\n            \")]),_vm._v(\" \"),_c('span',{staticClass:\"inline-block px-2 py-1 text-xs leading-none bg-white rounded-sm cursor-default dark:bg-slate-700 text-slate-800 dark:text-slate-100\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PICKER.LABELS.LANGUAGE'))+\" :\\n              \"+_vm._s(template.language)+\"\\n            \")])]),_vm._v(\" \"),_c('div',[_c('p',{staticClass:\"strong\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PICKER.LABELS.TEMPLATE_BODY'))+\"\\n            \")]),_vm._v(\" \"),_c('p',{staticClass:\"label-body\"},[_vm._v(_vm._s(_vm.getTemplatebody(template)))])]),_vm._v(\" \"),_c('div',{staticClass:\"label-category\"},[_c('p',{staticClass:\"strong\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PICKER.LABELS.CATEGORY'))+\"\\n            \")]),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(template.category))])])])]),_vm._v(\" \"),(i != _vm.filteredTemplateMessages.length - 1)?_c('hr',{key:`hr-${i}`}):_vm._e()])}),_vm._v(\" \"),(!_vm.filteredTemplateMessages.length)?_c('div',[_c('p',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PICKER.NO_TEMPLATES_FOUND'))+\"\\n        \"),_c('strong',[_vm._v(_vm._s(_vm.query))])])]):_vm._e()],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n// TODO: Remove this when we support all formats\nconst formatsToRemove = ['DOCUMENT', 'IMAGE', 'VIDEO'];\n\nexport default {\n  props: {\n    inboxId: {\n      type: Number,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      query: '',\n    };\n  },\n  computed: {\n    whatsAppTemplateMessages() {\n      // TODO: Remove the last filter when we support all formats\n      return this.$store.getters['inboxes/getWhatsAppTemplates'](this.inboxId)\n        .filter(template => template.status.toLowerCase() === 'approved')\n        .filter(template => {\n          return template.components.every(component => {\n            return !formatsToRemove.includes(component.format);\n          });\n        });\n    },\n    filteredTemplateMessages() {\n      return this.whatsAppTemplateMessages.filter(template =>\n        template.name.toLowerCase().includes(this.query.toLowerCase())\n      );\n    },\n  },\n  methods: {\n    getTemplatebody(template) {\n      return template.components.find(component => component.type === 'BODY')\n        .text;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"w-full\">\n    <div class=\"gap-1 templates__list-search\">\n      <fluent-icon icon=\"search\" class=\"search-icon\" size=\"16\" />\n      <input\n        v-model=\"query\"\n        type=\"search\"\n        :placeholder=\"$t('WHATSAPP_TEMPLATES.PICKER.SEARCH_PLACEHOLDER')\"\n        class=\"templates__search-input\"\n      />\n    </div>\n    <div class=\"template__list-container\">\n      <div v-for=\"(template, i) in filteredTemplateMessages\" :key=\"template.id\">\n        <button\n          class=\"template__list-item\"\n          @click=\"$emit('onSelect', template)\"\n        >\n          <div>\n            <div class=\"flex items-center justify-between mb-2.5\">\n              <p class=\"label-title\">\n                {{ template.name }}\n              </p>\n              <span\n                class=\"inline-block px-2 py-1 text-xs leading-none bg-white rounded-sm cursor-default dark:bg-slate-700 text-slate-800 dark:text-slate-100\"\n              >\n                {{ $t('WHATSAPP_TEMPLATES.PICKER.LABELS.LANGUAGE') }} :\n                {{ template.language }}\n              </span>\n            </div>\n            <div>\n              <p class=\"strong\">\n                {{ $t('WHATSAPP_TEMPLATES.PICKER.LABELS.TEMPLATE_BODY') }}\n              </p>\n              <p class=\"label-body\">{{ getTemplatebody(template) }}</p>\n            </div>\n            <div class=\"label-category\">\n              <p class=\"strong\">\n                {{ $t('WHATSAPP_TEMPLATES.PICKER.LABELS.CATEGORY') }}\n              </p>\n              <p>{{ template.category }}</p>\n            </div>\n          </div>\n        </button>\n        <hr v-if=\"i != filteredTemplateMessages.length - 1\" :key=\"`hr-${i}`\" />\n      </div>\n      <div v-if=\"!filteredTemplateMessages.length\">\n        <p>\n          {{ $t('WHATSAPP_TEMPLATES.PICKER.NO_TEMPLATES_FOUND') }}\n          <strong>{{ query }}</strong>\n        </p>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.templates__list-search {\n  @apply items-center flex bg-slate-25 dark:bg-slate-900 mb-2.5 py-0 px-2.5 rounded-md border border-solid border-slate-100 dark:border-slate-700;\n\n  .search-icon {\n    @apply text-slate-400 dark:text-slate-300;\n  }\n\n  .templates__search-input {\n    @apply bg-transparent border-0 text-xs h-9 m-0;\n  }\n}\n.template__list-container {\n  @apply bg-slate-25 dark:bg-slate-900 rounded-md max-h-[18.75rem] overflow-y-auto p-2.5;\n\n  .template__list-item {\n    @apply rounded-lg cursor-pointer block p-2.5 text-left w-full hover:bg-woot-50 dark:hover:bg-slate-800;\n\n    .label-title {\n      @apply text-sm;\n    }\n\n    .label-category {\n      @apply mt-5;\n\n      span {\n        @apply text-sm font-semibold;\n      }\n    }\n\n    .label-body {\n      font-family: monospace;\n    }\n  }\n}\n\n.strong {\n  @apply text-xs font-semibold;\n}\n\nhr {\n  @apply border-b border-solid border-slate-100 dark:border-slate-700 my-2.5 mx-auto max-w-[95%];\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatesPicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatesPicker.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TemplatesPicker.vue?vue&type=template&id=41786a0e&scoped=true&\"\nimport script from \"./TemplatesPicker.vue?vue&type=script&lang=js&\"\nexport * from \"./TemplatesPicker.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TemplatesPicker.vue?vue&type=style&index=0&id=41786a0e&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"41786a0e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.processedString),expression:\"processedString\"}],staticClass:\"template-input\",attrs:{\"rows\":\"4\",\"readonly\":\"\"},domProps:{\"value\":(_vm.processedString)},on:{\"input\":function($event){if($event.target.composing)return;_vm.processedString=$event.target.value}}}),_vm._v(\" \"),(_vm.variables)?_c('div',{staticClass:\"template__variables-container\"},[_c('p',{staticClass:\"variables-label\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PARSER.VARIABLES_LABEL'))+\"\\n    \")]),_vm._v(\" \"),_vm._l((_vm.processedParams),function(variable,key){return _c('div',{key:key,staticClass:\"template__variable-item\"},[_c('span',{staticClass:\"variable-label\"},[_vm._v(\"\\n        \"+_vm._s(key)+\"\\n      \")]),_vm._v(\" \"),_c('woot-input',{staticClass:\"variable-input\",attrs:{\"type\":\"text\",\"styles\":{ marginBottom: 0 }},model:{value:(_vm.processedParams[key]),callback:function ($$v) {_vm.$set(_vm.processedParams, key, $$v)},expression:\"processedParams[key]\"}})],1)}),_vm._v(\" \"),(_vm.v$.$dirty && _vm.v$.$invalid)?_c('p',{staticClass:\"error\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PARSER.FORM_ERROR_MESSAGE'))+\"\\n    \")]):_vm._e()],2):_vm._e(),_vm._v(\" \"),_c('footer',[_c('woot-button',{attrs:{\"variant\":\"smooth\"},on:{\"click\":_vm.resetTemplate}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PARSER.GO_BACK_LABEL'))+\"\\n    \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"type\":\"button\"},on:{\"click\":_vm.sendMessage}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('WHATSAPP_TEMPLATES.PARSER.SEND_MESSAGE_LABEL'))+\"\\n    \")])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n/**\n * This component handles parsing and sending WhatsApp message templates.\n * It works as follows:\n * 1. Displays the template text with variable placeholders.\n * 2. Generates input fields for each variable in the template.\n * 3. Validates that all variables are filled before sending.\n * 4. Replaces placeholders with user-provided values.\n * 5. Emits events to send the processed message or reset the template.\n */\nimport { ref, computed, onMounted } from 'vue';\nimport { useVuelidate } from '@vuelidate/core';\nimport { requiredIf } from '@vuelidate/validators';\n\nexport default {\n  props: {\n    template: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  setup(props, { emit }) {\n    const processVariable = str => {\n      return str.replace(/{{|}}/g, '');\n    };\n\n    const allKeysRequired = value => {\n      const keys = Object.keys(value);\n      return keys.every(key => value[key]);\n    };\n\n    const processedParams = ref({});\n\n    const templateString = computed(() => {\n      return props.template.components.find(\n        component => component.type === 'BODY'\n      ).text;\n    });\n\n    const variables = computed(() => {\n      return templateString.value.match(/{{([^}]+)}}/g);\n    });\n\n    const processedString = computed(() => {\n      return templateString.value.replace(/{{([^}]+)}}/g, (match, variable) => {\n        const variableKey = processVariable(variable);\n        return processedParams.value[variableKey] || `{{${variable}}}`;\n      });\n    });\n\n    const v$ = useVuelidate(\n      {\n        processedParams: {\n          requiredIfKeysPresent: requiredIf(variables),\n          allKeysRequired,\n        },\n      },\n      { processedParams }\n    );\n\n    const generateVariables = () => {\n      const matchedVariables = templateString.value.match(/{{([^}]+)}}/g);\n      if (!matchedVariables) return;\n\n      const finalVars = matchedVariables.map(i => processVariable(i));\n      processedParams.value = finalVars.reduce((acc, variable) => {\n        acc[variable] = '';\n        return acc;\n      }, {});\n    };\n\n    const resetTemplate = () => {\n      emit('resetTemplate');\n    };\n\n    const sendMessage = () => {\n      v$.value.$touch();\n      if (v$.value.$invalid) return;\n\n      const payload = {\n        message: processedString.value,\n        templateParams: {\n          name: props.template.name,\n          category: props.template.category,\n          language: props.template.language,\n          namespace: props.template.namespace,\n          processed_params: processedParams.value,\n        },\n      };\n      emit('sendMessage', payload);\n    };\n\n    onMounted(generateVariables);\n\n    return {\n      processedParams,\n      variables,\n      templateString,\n      processedString,\n      v$,\n      resetTemplate,\n      sendMessage,\n    };\n  },\n};\n</script>\n\n<template>\n  <div class=\"w-full\">\n    <textarea\n      v-model=\"processedString\"\n      rows=\"4\"\n      readonly\n      class=\"template-input\"\n    />\n    <div v-if=\"variables\" class=\"template__variables-container\">\n      <p class=\"variables-label\">\n        {{ $t('WHATSAPP_TEMPLATES.PARSER.VARIABLES_LABEL') }}\n      </p>\n      <div\n        v-for=\"(variable, key) in processedParams\"\n        :key=\"key\"\n        class=\"template__variable-item\"\n      >\n        <span class=\"variable-label\">\n          {{ key }}\n        </span>\n        <woot-input\n          v-model=\"processedParams[key]\"\n          type=\"text\"\n          class=\"variable-input\"\n          :styles=\"{ marginBottom: 0 }\"\n        />\n      </div>\n      <p v-if=\"v$.$dirty && v$.$invalid\" class=\"error\">\n        {{ $t('WHATSAPP_TEMPLATES.PARSER.FORM_ERROR_MESSAGE') }}\n      </p>\n    </div>\n    <footer>\n      <woot-button variant=\"smooth\" @click=\"resetTemplate\">\n        {{ $t('WHATSAPP_TEMPLATES.PARSER.GO_BACK_LABEL') }}\n      </woot-button>\n      <woot-button type=\"button\" @click=\"sendMessage\">\n        {{ $t('WHATSAPP_TEMPLATES.PARSER.SEND_MESSAGE_LABEL') }}\n      </woot-button>\n    </footer>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.template__variables-container {\n  @apply p-2.5;\n}\n\n.variables-label {\n  @apply text-sm font-semibold mb-2.5;\n}\n\n.template__variable-item {\n  @apply items-center flex mb-2.5;\n\n  .label {\n    @apply text-xs;\n  }\n\n  .variable-input {\n    @apply flex-1 text-sm ml-2.5;\n  }\n\n  .variable-label {\n    @apply bg-slate-75 dark:bg-slate-700 text-slate-700 dark:text-slate-100 inline-block rounded-md text-xs py-2.5 px-6;\n  }\n}\n\nfooter {\n  @apply flex justify-end;\n\n  button {\n    @apply ml-2.5;\n  }\n}\n.error {\n  @apply bg-red-100 dark:bg-red-100 rounded-md text-red-800 dark:text-red-800 p-2.5 text-center;\n}\n.template-input {\n  @apply bg-slate-25 dark:bg-slate-900 text-slate-700 dark:text-slate-100;\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateParser.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateParser.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./TemplateParser.vue?vue&type=template&id=274c6514&scoped=true&\"\nimport script from \"./TemplateParser.vue?vue&type=script&lang=js&\"\nexport * from \"./TemplateParser.vue?vue&type=script&lang=js&\"\nimport style0 from \"./TemplateParser.vue?vue&type=style&index=0&id=274c6514&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"274c6514\",\n  null\n  \n)\n\nexport default component.exports","const FLAG_OFFSET = 127397;\n\n/**\n * Gets emoji flag for given locale.\n *\n * @param {string} countryCode locale code\n * @return {string} emoji flag\n *\n * @example\n * getCountryFlag('cz') // ''\n */\nexport const getCountryFlag = countryCode => {\n  const codePoints = countryCode\n    .toUpperCase()\n    .split('')\n    .map(char => FLAG_OFFSET + char.charCodeAt());\n\n  return String.fromCodePoint(...codePoints);\n};\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"relative flex items-start flex-grow-0 flex-shrink-0 w-auto max-w-full px-4 py-0 border-t-0 border-b-0 border-l-2 border-r-0 border-transparent border-solid cursor-pointer conversation hover:bg-slate-25 dark:hover:bg-slate-800 group\",class:{\n    'active animate-card-select bg-slate-25 dark:bg-slate-800 border-woot-500':\n      _vm.isActiveChat,\n    'unread-chat': _vm.hasUnread,\n    'has-inbox-name': _vm.showInboxName,\n    'conversation-selected': _vm.selected,\n  },on:{\"mouseenter\":_vm.onCardHover,\"mouseleave\":_vm.onCardLeave,\"click\":_vm.onCardClick,\"contextmenu\":function($event){return _vm.openContextMenu($event)}}},[(_vm.hovered || _vm.selected)?_c('label',{staticClass:\"checkbox-wrapper\",on:{\"click\":function($event){$event.stopPropagation();}}},[_c('input',{staticClass:\"checkbox\",attrs:{\"type\":\"checkbox\"},domProps:{\"value\":_vm.selected,\"checked\":_vm.selected},on:{\"change\":function($event){return _vm.onSelectConversation($event.target.checked)}}})]):_vm._e(),_vm._v(\" \"),(_vm.bulkActionCheck)?_c('Thumbnail',{attrs:{\"src\":_vm.currentContact.thumbnail,\"badge\":_vm.inboxBadge,\"username\":_vm.currentContact.name,\"status\":_vm.currentContact.availability_status,\"size\":\"40px\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"px-0 py-3 border-b group-hover:border-transparent flex-1 border-slate-50 dark:border-slate-800/75 w-[calc(100%-40px)]\"},[_c('div',{staticClass:\"flex justify-between\"},[(_vm.showInboxName)?_c('InboxName',{attrs:{\"inbox\":_vm.inbox}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex gap-2 ml-2 rtl:mr-2 rtl:ml-0\"},[(_vm.showAssignee && _vm.assignee.name)?_c('span',{staticClass:\"text-slate-500 dark:text-slate-400 text-xs font-medium leading-3 py-0.5 px-0 inline-flex text-ellipsis overflow-hidden whitespace-nowrap\"},[_c('fluent-icon',{staticClass:\"text-slate-500 dark:text-slate-400\",attrs:{\"icon\":\"person\",\"size\":\"12\"}}),_vm._v(\"\\n          \"+_vm._s(_vm.assignee.name)+\"\\n        \")],1):_vm._e(),_vm._v(\" \"),_c('PriorityMark',{attrs:{\"priority\":_vm.chat.priority}})],1)],1),_vm._v(\" \"),_c('h4',{staticClass:\"conversation--user text-sm my-0 mx-2 capitalize pt-0.5 text-ellipsis font-medium overflow-hidden whitespace-nowrap w-[calc(100%-70px)] text-slate-900 dark:text-slate-100\"},[_vm._v(\"\\n      \"+_vm._s(_vm.currentContact.name)+\"\\n    \")]),_vm._v(\" \"),(_vm.callInfo.id && _vm.callInfo.chat_id === _vm.chat.id)?_c('div',{staticClass:\"flex items-center gap-x-1 mt-0.5 mx-2\"},[_c('fluent-icon',{staticClass:\"align-middle inline-block text-green-500\",attrs:{\"size\":\"16\",\"icon\":\"call\"}}),_vm._v(\" \"),_c('p',{staticClass:\"text-green-500 m-0\"},[_vm._v(_vm._s(_vm.$t('WEBPHONE.VOICE_CALL')))]),_vm._v(\" \"),_c('p',{staticClass:\"text-green-500 m-0\"},[_vm._v(\"-\")]),_vm._v(_vm._s(_vm.$t('WEBPHONE.CALLING'))+\"\\n      \"),(_vm.callStatusMessage)?_c('p',{staticClass:\"text-slate-800 dark:text-slate-100 m-0 text-center\"},[_vm._v(\"\\n        \"+_vm._s(_vm.callStatusMessage)+\"\\n      \")]):_vm._e()],1):[(_vm.lastMessageInChat)?_c('MessagePreview',{staticClass:\"conversation--message my-0 mx-2 leading-6 h-6 max-w-[96%] w-[16.875rem] text-sm text-slate-700 dark:text-slate-200\",attrs:{\"message\":_vm.lastMessageInChat}}):_c('p',{staticClass:\"conversation--message text-slate-700 dark:text-slate-200 text-sm my-0 mx-2 leading-6 h-6 max-w-[96%] w-[16.875rem] overflow-hidden text-ellipsis whitespace-nowrap\"},[_c('fluent-icon',{staticClass:\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\",attrs:{\"size\":\"16\",\"icon\":\"info\"}}),_vm._v(\" \"),_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.$t(`CHAT_LIST.NO_MESSAGES`))+\"\\n      \")])],1)],_vm._v(\" \"),_c('div',{staticClass:\"absolute flex flex-col conversation--meta right-4 top-4\"},[_c('span',{staticClass:\"ml-auto font-normal leading-4 text-black-600 text-xxs\"},[_c('TimeAgo',{attrs:{\"last-activity-timestamp\":_vm.chat.timestamp,\"created-at-timestamp\":_vm.chat.created_at}})],1),_vm._v(\" \"),_c('span',{staticClass:\"unread shadow-lg rounded-full hidden text-xxs font-semibold h-4 leading-4 ml-auto mt-1 min-w-[1rem] px-1 py-0 text-center text-white bg-green-400\"},[_vm._v(\"\\n        \"+_vm._s(_vm.unreadCount > 9 ? '9+' : _vm.unreadCount)+\"\\n      \")])]),_vm._v(\" \"),_c('CardLabels',{staticClass:\"mt-0.5 mx-2 mb-0\",attrs:{\"conversation-id\":_vm.chat.id,\"conversation-labels\":_vm.chat.labels},scopedSlots:_vm._u([(_vm.hasSlaPolicyId)?{key:\"before\",fn:function(){return [_c('SLACardLabel',{staticClass:\"ltr:mr-1 rtl:ml-1\",attrs:{\"chat\":_vm.chat}})]},proxy:true}:null],null,true)})],2),_vm._v(\" \"),(_vm.showContextMenu)?_c('woot-context-menu',{attrs:{\"x\":_vm.contextMenu.x,\"y\":_vm.contextMenu.y},on:{\"close\":_vm.closeContextMenu}},[_c('ConversationContextMenu',{attrs:{\"status\":_vm.chat.status,\"inbox-id\":_vm.inbox.id,\"priority\":_vm.chat.priority,\"chat-id\":_vm.chat.id,\"has-unread-messages\":_vm.hasUnread},on:{\"updateConversation\":_vm.onUpdateConversation,\"assignAgent\":_vm.onAssignAgent,\"assignLabel\":_vm.onAssignLabel,\"assignTeam\":_vm.onAssignTeam,\"markAsUnread\":_vm.markAsUnread,\"assignPriority\":_vm.assignPriority}})],1):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItemWithSubmenu.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItemWithSubmenu.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  props: {\n    option: {\n      type: Object,\n      default: () => {},\n    },\n    subMenuAvailable: {\n      type: Boolean,\n      default: true,\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"text-slate-800 dark:text-slate-100 menu-with-submenu min-width-calc w-full p-1 flex items-center h-7 rounded-md relative bg-white dark:bg-slate-700 justify-between hover:bg-woot-75 cursor-pointer dark:hover:bg-slate-800\"\n    :class=\"!subMenuAvailable ? 'opacity-50 cursor-not-allowed' : ''\"\n  >\n    <div class=\"flex items-center\">\n      <fluent-icon :icon=\"option.icon\" size=\"14\" class=\"menu-icon\" />\n      <p class=\"my-0 mx-2 text-xs\">{{ option.label }}</p>\n    </div>\n    <fluent-icon icon=\"chevron-right\" size=\"12\" />\n    <div\n      v-if=\"subMenuAvailable\"\n      class=\"submenu bg-white dark:bg-slate-700 p-1 shadow-lg rounded-md absolute left-full top-0 hidden min-h-min max-h-[15rem] overflow-y-auto overflow-x-hidden cursor-pointer\"\n    >\n      <slot />\n    </div>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.menu-with-submenu {\n  min-width: calc(6.25rem * 2);\n\n  &:hover {\n    .submenu {\n      @apply block;\n    }\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./menuItemWithSubmenu.vue?vue&type=template&id=0fb45db1&scoped=true&\"\nimport script from \"./menuItemWithSubmenu.vue?vue&type=script&lang=js&\"\nexport * from \"./menuItemWithSubmenu.vue?vue&type=script&lang=js&\"\nimport style0 from \"./menuItemWithSubmenu.vue?vue&type=style&index=0&id=0fb45db1&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0fb45db1\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"text-slate-800 dark:text-slate-100 menu-with-submenu min-width-calc w-full p-1 flex items-center h-7 rounded-md relative bg-white dark:bg-slate-700 justify-between hover:bg-woot-75 cursor-pointer dark:hover:bg-slate-800\",class:!_vm.subMenuAvailable ? 'opacity-50 cursor-not-allowed' : ''},[_c('div',{staticClass:\"flex items-center\"},[_c('fluent-icon',{staticClass:\"menu-icon\",attrs:{\"icon\":_vm.option.icon,\"size\":\"14\"}}),_vm._v(\" \"),_c('p',{staticClass:\"my-0 mx-2 text-xs\"},[_vm._v(_vm._s(_vm.option.label))])],1),_vm._v(\" \"),_c('fluent-icon',{attrs:{\"icon\":\"chevron-right\",\"size\":\"12\"}}),_vm._v(\" \"),(_vm.subMenuAvailable)?_c('div',{staticClass:\"submenu bg-white dark:bg-slate-700 p-1 shadow-lg rounded-md absolute left-full top-0 hidden min-h-min max-h-[15rem] overflow-y-auto overflow-x-hidden cursor-pointer\"},[_vm._t(\"default\")],2):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agentLoadingPlaceholder.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agentLoadingPlaceholder.vue?vue&type=script&lang=js&\"","<script>\nimport Spinner from 'shared/components/Spinner.vue';\n\nexport default {\n  components: {\n    Spinner,\n  },\n};\n</script>\n\n<template>\n  <div class=\"agent-placeholder\">\n    <Spinner />\n    <p>{{ $t('CONVERSATION.CARD_CONTEXT_MENU.AGENTS_LOADING') }}</p>\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.agent-placeholder {\n  display: flex;\n  align-items: center;\n  flex-direction: column;\n  justify-content: center;\n  padding: var(--space-normal) 0;\n  min-width: calc(var(--space-mega) * 2);\n\n  p {\n    margin: var(--space-small) 0 0 0;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./agentLoadingPlaceholder.vue?vue&type=template&id=eff490c2&scoped=true&\"\nimport script from \"./agentLoadingPlaceholder.vue?vue&type=script&lang=js&\"\nexport * from \"./agentLoadingPlaceholder.vue?vue&type=script&lang=js&\"\nimport style0 from \"./agentLoadingPlaceholder.vue?vue&type=style&index=0&id=eff490c2&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"eff490c2\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"agent-placeholder\"},[_c('Spinner'),_vm._v(\" \"),_c('p',[_vm._v(_vm._s(_vm.$t('CONVERSATION.CARD_CONTEXT_MENU.AGENTS_LOADING')))])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport {\n  getSortedAgentsByAvailability,\n  getAgentsByUpdatedPresence,\n} from 'dashboard/helper/agentHelper.js';\nimport MenuItem from './menuItem.vue';\nimport MenuItemWithSubmenu from './menuItemWithSubmenu.vue';\nimport wootConstants from 'dashboard/constants/globals';\nimport AgentLoadingPlaceholder from './agentLoadingPlaceholder.vue';\nexport default {\n  components: {\n    MenuItem,\n    MenuItemWithSubmenu,\n    AgentLoadingPlaceholder,\n  },\n  props: {\n    chatId: {\n      type: Number,\n      default: null,\n    },\n    status: {\n      type: String,\n      default: '',\n    },\n    hasUnreadMessages: {\n      type: Boolean,\n      default: false,\n    },\n    inboxId: {\n      type: Number,\n      default: null,\n    },\n    priority: {\n      type: String,\n      default: null,\n    },\n  },\n  data() {\n    return {\n      STATUS_TYPE: wootConstants.STATUS_TYPE,\n      unreadOption: {\n        label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.MARK_AS_UNREAD'),\n        icon: 'mail',\n      },\n      statusMenuConfig: [\n        {\n          key: wootConstants.STATUS_TYPE.RESOLVED,\n          label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.RESOLVED'),\n          icon: 'checkmark',\n        },\n        {\n          key: wootConstants.STATUS_TYPE.PENDING,\n          label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.PENDING'),\n          icon: 'book-clock',\n        },\n        {\n          key: wootConstants.STATUS_TYPE.OPEN,\n          label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.REOPEN'),\n          icon: 'arrow-redo',\n        },\n      ],\n      snoozeOption: {\n        key: wootConstants.STATUS_TYPE.SNOOZED,\n        label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.SNOOZE.TITLE'),\n        icon: 'snooze',\n      },\n      priorityConfig: {\n        key: 'priority',\n        label: this.$t('CONVERSATION.PRIORITY.TITLE'),\n        icon: 'warning',\n        options: [\n          {\n            label: this.$t('CONVERSATION.PRIORITY.OPTIONS.NONE'),\n            key: null,\n          },\n          {\n            label: this.$t('CONVERSATION.PRIORITY.OPTIONS.URGENT'),\n            key: 'urgent',\n          },\n          {\n            label: this.$t('CONVERSATION.PRIORITY.OPTIONS.HIGH'),\n            key: 'high',\n          },\n          {\n            label: this.$t('CONVERSATION.PRIORITY.OPTIONS.MEDIUM'),\n            key: 'medium',\n          },\n          {\n            label: this.$t('CONVERSATION.PRIORITY.OPTIONS.LOW'),\n            key: 'low',\n          },\n        ].filter(item => item.key !== this.priority),\n      },\n      labelMenuConfig: {\n        key: 'label',\n        icon: 'tag',\n        label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.ASSIGN_LABEL'),\n      },\n      agentMenuConfig: {\n        key: 'agent',\n        icon: 'person-add',\n        label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.ASSIGN_AGENT'),\n      },\n      teamMenuConfig: {\n        key: 'team',\n        icon: 'people-team-add',\n        label: this.$t('CONVERSATION.CARD_CONTEXT_MENU.ASSIGN_TEAM'),\n      },\n    };\n  },\n  computed: {\n    ...mapGetters({\n      labels: 'labels/getLabels',\n      teams: 'teams/getTeams',\n      assignableAgentsUiFlags: 'inboxAssignableAgents/getUIFlags',\n      currentUser: 'getCurrentUser',\n      currentAccountId: 'getCurrentAccountId',\n    }),\n    filteredAgentOnAvailability() {\n      const agents = this.$store.getters[\n        'inboxAssignableAgents/getAssignableAgents'\n      ](this.inboxId);\n      const agentsByUpdatedPresence = getAgentsByUpdatedPresence(\n        agents,\n        this.currentUser,\n        this.currentAccountId\n      );\n      const filteredAgents = getSortedAgentsByAvailability(\n        agentsByUpdatedPresence\n      );\n      return filteredAgents;\n    },\n    assignableAgents() {\n      return [\n        {\n          confirmed: true,\n          name: 'None',\n          id: null,\n          role: 'agent',\n          account_id: 0,\n          email: 'None',\n        },\n        ...this.filteredAgentOnAvailability,\n      ];\n    },\n    showSnooze() {\n      // Don't show snooze if the conversation is already snoozed/resolved/pending\n      return this.status === wootConstants.STATUS_TYPE.OPEN;\n    },\n  },\n  mounted() {\n    this.$store.dispatch('inboxAssignableAgents/fetch', [this.inboxId]);\n  },\n  methods: {\n    toggleStatus(status, snoozedUntil) {\n      this.$emit('updateConversation', status, snoozedUntil);\n    },\n    async snoozeConversation() {\n      await this.$store.dispatch('setContextMenuChatId', this.chatId);\n      const ninja = document.querySelector('ninja-keys');\n      ninja.open({ parent: 'snooze_conversation' });\n    },\n    assignPriority(priority) {\n      this.$emit('assignPriority', priority);\n    },\n    show(key) {\n      // If the conversation status is same as the action, then don't display the option\n      // i.e.: Don't show an option to resolve if the conversation is already resolved.\n      return this.status !== key;\n    },\n    generateMenuLabelConfig(option, type = 'text') {\n      return {\n        key: option.id,\n        ...(type === 'icon' && { icon: option.icon }),\n        ...(type === 'label' && { color: option.color }),\n        ...(type === 'agent' && { thumbnail: option.thumbnail }),\n        ...(type === 'agent' && { status: option.availability_status }),\n        ...(type === 'text' && { label: option.label }),\n        ...(type === 'label' && { label: option.title }),\n        ...(type === 'agent' && { label: option.name }),\n        ...(type === 'team' && { label: option.name }),\n      };\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"p-1 bg-white rounded-md shadow-xl dark:bg-slate-700\">\n    <MenuItem\n      v-if=\"!hasUnreadMessages\"\n      :option=\"unreadOption\"\n      variant=\"icon\"\n      @click=\"$emit('markAsUnread')\"\n    />\n    <template v-for=\"option in statusMenuConfig\">\n      <MenuItem\n        v-if=\"show(option.key)\"\n        :key=\"option.key\"\n        :option=\"option\"\n        variant=\"icon\"\n        @click=\"toggleStatus(option.key, null)\"\n      />\n    </template>\n    <MenuItem\n      v-if=\"showSnooze\"\n      :option=\"snoozeOption\"\n      variant=\"icon\"\n      @click=\"snoozeConversation()\"\n    />\n\n    <MenuItemWithSubmenu :option=\"priorityConfig\">\n      <MenuItem\n        v-for=\"(option, i) in priorityConfig.options\"\n        :key=\"i\"\n        :option=\"option\"\n        @click=\"assignPriority(option.key)\"\n      />\n    </MenuItemWithSubmenu>\n    <MenuItemWithSubmenu\n      :option=\"labelMenuConfig\"\n      :sub-menu-available=\"!!labels.length\"\n    >\n      <MenuItem\n        v-for=\"label in labels\"\n        :key=\"label.id\"\n        :option=\"generateMenuLabelConfig(label, 'label')\"\n        variant=\"label\"\n        @click=\"$emit('assignLabel', label)\"\n      />\n    </MenuItemWithSubmenu>\n    <MenuItemWithSubmenu\n      :option=\"agentMenuConfig\"\n      :sub-menu-available=\"!!assignableAgents.length\"\n    >\n      <AgentLoadingPlaceholder v-if=\"assignableAgentsUiFlags.isFetching\" />\n      <template v-else>\n        <MenuItem\n          v-for=\"agent in assignableAgents\"\n          :key=\"agent.id\"\n          :option=\"generateMenuLabelConfig(agent, 'agent')\"\n          variant=\"agent\"\n          @click=\"$emit('assignAgent', agent)\"\n        />\n      </template>\n    </MenuItemWithSubmenu>\n    <MenuItemWithSubmenu\n      :option=\"teamMenuConfig\"\n      :sub-menu-available=\"!!teams.length\"\n    >\n      <MenuItem\n        v-for=\"team in teams\"\n        :key=\"team.id\"\n        :option=\"generateMenuLabelConfig(team, 'team')\"\n        @click=\"$emit('assignTeam', team)\"\n      />\n    </MenuItemWithSubmenu>\n  </div>\n</template>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=424bc685&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"p-1 bg-white rounded-md shadow-xl dark:bg-slate-700\"},[(!_vm.hasUnreadMessages)?_c('MenuItem',{attrs:{\"option\":_vm.unreadOption,\"variant\":\"icon\"},on:{\"click\":function($event){return _vm.$emit('markAsUnread')}}}):_vm._e(),_vm._v(\" \"),_vm._l((_vm.statusMenuConfig),function(option){return [(_vm.show(option.key))?_c('MenuItem',{key:option.key,attrs:{\"option\":option,\"variant\":\"icon\"},on:{\"click\":function($event){return _vm.toggleStatus(option.key, null)}}}):_vm._e()]}),_vm._v(\" \"),(_vm.showSnooze)?_c('MenuItem',{attrs:{\"option\":_vm.snoozeOption,\"variant\":\"icon\"},on:{\"click\":function($event){return _vm.snoozeConversation()}}}):_vm._e(),_vm._v(\" \"),_c('MenuItemWithSubmenu',{attrs:{\"option\":_vm.priorityConfig}},_vm._l((_vm.priorityConfig.options),function(option,i){return _c('MenuItem',{key:i,attrs:{\"option\":option},on:{\"click\":function($event){return _vm.assignPriority(option.key)}}})}),1),_vm._v(\" \"),_c('MenuItemWithSubmenu',{attrs:{\"option\":_vm.labelMenuConfig,\"sub-menu-available\":!!_vm.labels.length}},_vm._l((_vm.labels),function(label){return _c('MenuItem',{key:label.id,attrs:{\"option\":_vm.generateMenuLabelConfig(label, 'label'),\"variant\":\"label\"},on:{\"click\":function($event){return _vm.$emit('assignLabel', label)}}})}),1),_vm._v(\" \"),_c('MenuItemWithSubmenu',{attrs:{\"option\":_vm.agentMenuConfig,\"sub-menu-available\":!!_vm.assignableAgents.length}},[(_vm.assignableAgentsUiFlags.isFetching)?_c('AgentLoadingPlaceholder'):_vm._l((_vm.assignableAgents),function(agent){return _c('MenuItem',{key:agent.id,attrs:{\"option\":_vm.generateMenuLabelConfig(agent, 'agent'),\"variant\":\"agent\"},on:{\"click\":function($event){return _vm.$emit('assignAgent', agent)}}})})],2),_vm._v(\" \"),_c('MenuItemWithSubmenu',{attrs:{\"option\":_vm.teamMenuConfig,\"sub-menu-available\":!!_vm.teams.length}},_vm._l((_vm.teams),function(team){return _c('MenuItem',{key:team.id,attrs:{\"option\":_vm.generateMenuLabelConfig(team, 'team')},on:{\"click\":function($event){return _vm.$emit('assignTeam', team)}}})}),1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { CONVERSATION_PRIORITY } from '../../../../shared/constants/messages';\n\nexport default {\n  name: 'PriorityMark',\n  props: {\n    priority: {\n      type: String,\n      default: '',\n      validate: value =>\n        [...Object.values(CONVERSATION_PRIORITY), ''].includes(value),\n    },\n  },\n  data() {\n    return {\n      CONVERSATION_PRIORITY,\n    };\n  },\n  computed: {\n    tooltipText() {\n      return this.$t(\n        `CONVERSATION.PRIORITY.OPTIONS.${this.priority.toUpperCase()}`\n      );\n    },\n    isUrgent() {\n      return this.priority === CONVERSATION_PRIORITY.URGENT;\n    },\n  },\n};\n</script>\n\n<template>\n  <span\n    v-if=\"priority\"\n    v-tooltip=\"{\n      content: tooltipText,\n      delay: { show: 1500, hide: 0 },\n      hideOnClick: true,\n    }\"\n    class=\"shrink-0 rounded-sm inline-flex w-3.5 h-3.5\"\n    :class=\"{\n      'bg-red-50 dark:bg-red-700 dark:bg-opacity-30 text-red-500 dark:text-red-600':\n        isUrgent,\n      'bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-200':\n        !isUrgent,\n    }\"\n  >\n    <fluent-icon\n      :icon=\"`priority-${priority.toLowerCase()}`\"\n      size=\"14\"\n      view-box=\"0 0 14 14\"\n    />\n  </span>\n</template>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriorityMark.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PriorityMark.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PriorityMark.vue?vue&type=template&id=c6587f90&\"\nimport script from \"./PriorityMark.vue?vue&type=script&lang=js&\"\nexport * from \"./PriorityMark.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.priority)?_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({\n    content: _vm.tooltipText,\n    delay: { show: 1500, hide: 0 },\n    hideOnClick: true,\n  }),expression:\"{\\n    content: tooltipText,\\n    delay: { show: 1500, hide: 0 },\\n    hideOnClick: true,\\n  }\"}],staticClass:\"shrink-0 rounded-sm inline-flex w-3.5 h-3.5\",class:{\n    'bg-red-50 dark:bg-red-700 dark:bg-opacity-30 text-red-500 dark:text-red-600':\n      _vm.isUrgent,\n    'bg-slate-50 dark:bg-slate-700 text-slate-600 dark:text-slate-200':\n      !_vm.isUrgent,\n  }},[_c('fluent-icon',{attrs:{\"icon\":`priority-${_vm.priority.toLowerCase()}`,\"size\":\"14\",\"view-box\":\"0 0 14 14\"}})],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { getLastMessage } from 'dashboard/helper/conversationHelper';\nimport Thumbnail from '../Thumbnail.vue';\nimport MessagePreview from './MessagePreview.vue';\nimport router from '../../../routes';\nimport { frontendURL, conversationUrl } from '../../../helper/URLHelper';\nimport InboxName from '../InboxName.vue';\nimport inboxMixin from 'shared/mixins/inboxMixin';\nimport ConversationContextMenu from './contextMenu/Index.vue';\nimport TimeAgo from 'dashboard/components/ui/TimeAgo.vue';\nimport CardLabels from './conversationCardComponents/CardLabels.vue';\nimport PriorityMark from './PriorityMark.vue';\nimport SLACardLabel from './components/SLACardLabel.vue';\n\nexport default {\n  components: {\n    CardLabels,\n    InboxName,\n    Thumbnail,\n    ConversationContextMenu,\n    TimeAgo,\n    MessagePreview,\n    PriorityMark,\n    SLACardLabel,\n  },\n  mixins: [inboxMixin],\n  props: {\n    activeLabel: {\n      type: String,\n      default: '',\n    },\n    chat: {\n      type: Object,\n      default: () => {},\n    },\n    hideInboxName: {\n      type: Boolean,\n      default: false,\n    },\n    hideThumbnail: {\n      type: Boolean,\n      default: false,\n    },\n    teamId: {\n      type: [String, Number],\n      default: 0,\n    },\n    foldersId: {\n      type: [String, Number],\n      default: 0,\n    },\n    showAssignee: {\n      type: Boolean,\n      default: false,\n    },\n    conversationType: {\n      type: String,\n      default: '',\n    },\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n    enableContextMenu: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      hovered: false,\n      showContextMenu: false,\n      contextMenu: {\n        x: null,\n        y: null,\n      },\n    };\n  },\n  computed: {\n    ...mapGetters({\n      currentChat: 'getSelectedChat',\n      inboxesList: 'inboxes/getInboxes',\n      activeInbox: 'getSelectedInbox',\n      accountId: 'getCurrentAccountId',\n      callInfo: 'webphone/getCallInfo',\n    }),\n    bulkActionCheck() {\n      return !this.hideThumbnail && !this.hovered && !this.selected;\n    },\n    chatMetadata() {\n      return this.chat.meta || {};\n    },\n\n    assignee() {\n      return this.chatMetadata.assignee || {};\n    },\n\n    currentContact() {\n      return this.$store.getters['contacts/getContact'](\n        this.chatMetadata.sender.id\n      );\n    },\n\n    isActiveChat() {\n      return this.currentChat.id === this.chat.id;\n    },\n\n    unreadCount() {\n      return this.chat.unread_count;\n    },\n\n    hasUnread() {\n      return this.unreadCount > 0;\n    },\n\n    isInboxNameVisible() {\n      return !this.activeInbox;\n    },\n\n    lastMessageInChat() {\n      return getLastMessage(this.chat);\n    },\n\n    inbox() {\n      const { inbox_id: inboxId } = this.chat;\n      const stateInbox = this.$store.getters['inboxes/getInbox'](inboxId);\n      return stateInbox;\n    },\n\n    showInboxName() {\n      return (\n        !this.hideInboxName &&\n        this.isInboxNameVisible &&\n        this.inboxesList.length > 1\n      );\n    },\n    inboxName() {\n      const stateInbox = this.inbox;\n      return stateInbox.name || '';\n    },\n    hasSlaPolicyId() {\n      return this.chat?.sla_policy_id;\n    },\n    callStatusMessage() {\n      const statusMessages = {\n        accept: this.$t('WEBPHONE.ACTIVE'),\n        terminate: this.$t('WEBPHONE.TERMINATE'),\n        reject: this.$t('WEBPHONE.REJECTED'),\n        outgoing_calling: this.$t('WEBPHONE.CONNECT_CALLING'),\n        preaccept: this.$t('WEBPHONE.CALLING'),\n      };\n      return statusMessages[this.callInfo.status] || '';\n    },\n  },\n  methods: {\n    onCardClick(e) {\n      const { activeInbox, chat } = this;\n      const path = frontendURL(\n        conversationUrl({\n          accountId: this.accountId,\n          activeInbox,\n          id: chat.id,\n          label: this.activeLabel,\n          teamId: this.teamId,\n          foldersId: this.foldersId,\n          conversationType: this.conversationType,\n        })\n      );\n\n      if (e.metaKey || e.ctrlKey) {\n        window.open(\n          window.chatwootConfig.hostURL + path,\n          '_blank',\n          'noopener noreferrer nofollow'\n        );\n        return;\n      }\n      if (this.isActiveChat) {\n        return;\n      }\n\n      router.push({ path });\n    },\n    onCardHover() {\n      this.hovered = !this.hideThumbnail;\n    },\n    onCardLeave() {\n      this.hovered = false;\n    },\n    onSelectConversation(checked) {\n      const action = checked ? 'selectConversation' : 'deSelectConversation';\n      this.$emit(action, this.chat.id, this.inbox.id);\n    },\n    openContextMenu(e) {\n      if (!this.enableContextMenu) return;\n      e.preventDefault();\n      this.$emit('contextMenuToggle', true);\n      this.contextMenu.x = e.pageX || e.clientX;\n      this.contextMenu.y = e.pageY || e.clientY;\n      this.showContextMenu = true;\n    },\n    closeContextMenu() {\n      this.$emit('contextMenuToggle', false);\n      this.showContextMenu = false;\n      this.contextMenu.x = null;\n      this.contextMenu.y = null;\n    },\n    onUpdateConversation(status, snoozedUntil) {\n      this.closeContextMenu();\n      this.$emit(\n        'updateConversationStatus',\n        this.chat.id,\n        status,\n        snoozedUntil\n      );\n    },\n    async onAssignAgent(agent) {\n      this.$emit('assignAgent', agent, [this.chat.id]);\n      this.closeContextMenu();\n    },\n    async onAssignLabel(label) {\n      this.$emit('assignLabel', [label.title], [this.chat.id]);\n      this.closeContextMenu();\n    },\n    async onAssignTeam(team) {\n      this.$emit('assignTeam', team, this.chat.id);\n      this.closeContextMenu();\n    },\n    async markAsUnread() {\n      this.$emit('markAsUnread', this.chat.id);\n      this.closeContextMenu();\n    },\n    async assignPriority(priority) {\n      this.$emit('assignPriority', priority, this.chat.id);\n      this.closeContextMenu();\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"relative flex items-start flex-grow-0 flex-shrink-0 w-auto max-w-full px-4 py-0 border-t-0 border-b-0 border-l-2 border-r-0 border-transparent border-solid cursor-pointer conversation hover:bg-slate-25 dark:hover:bg-slate-800 group\"\n    :class=\"{\n      'active animate-card-select bg-slate-25 dark:bg-slate-800 border-woot-500':\n        isActiveChat,\n      'unread-chat': hasUnread,\n      'has-inbox-name': showInboxName,\n      'conversation-selected': selected,\n    }\"\n    @mouseenter=\"onCardHover\"\n    @mouseleave=\"onCardLeave\"\n    @click=\"onCardClick\"\n    @contextmenu=\"openContextMenu($event)\"\n  >\n    <label v-if=\"hovered || selected\" class=\"checkbox-wrapper\" @click.stop>\n      <input\n        :value=\"selected\"\n        :checked=\"selected\"\n        class=\"checkbox\"\n        type=\"checkbox\"\n        @change=\"onSelectConversation($event.target.checked)\"\n      />\n    </label>\n    <Thumbnail\n      v-if=\"bulkActionCheck\"\n      :src=\"currentContact.thumbnail\"\n      :badge=\"inboxBadge\"\n      :username=\"currentContact.name\"\n      :status=\"currentContact.availability_status\"\n      size=\"40px\"\n    />\n    <div\n      class=\"px-0 py-3 border-b group-hover:border-transparent flex-1 border-slate-50 dark:border-slate-800/75 w-[calc(100%-40px)]\"\n    >\n      <div class=\"flex justify-between\">\n        <InboxName v-if=\"showInboxName\" :inbox=\"inbox\" />\n        <div class=\"flex gap-2 ml-2 rtl:mr-2 rtl:ml-0\">\n          <span\n            v-if=\"showAssignee && assignee.name\"\n            class=\"text-slate-500 dark:text-slate-400 text-xs font-medium leading-3 py-0.5 px-0 inline-flex text-ellipsis overflow-hidden whitespace-nowrap\"\n          >\n            <fluent-icon\n              icon=\"person\"\n              size=\"12\"\n              class=\"text-slate-500 dark:text-slate-400\"\n            />\n            {{ assignee.name }}\n          </span>\n          <PriorityMark :priority=\"chat.priority\" />\n        </div>\n      </div>\n      <h4\n        class=\"conversation--user text-sm my-0 mx-2 capitalize pt-0.5 text-ellipsis font-medium overflow-hidden whitespace-nowrap w-[calc(100%-70px)] text-slate-900 dark:text-slate-100\"\n      >\n        {{ currentContact.name }}\n      </h4>\n      <div\n        v-if=\"callInfo.id && callInfo.chat_id === chat.id\"\n        class=\"flex items-center gap-x-1 mt-0.5 mx-2\"\n      >\n        <fluent-icon\n          size=\"16\"\n          class=\"align-middle inline-block text-green-500\"\n          icon=\"call\"\n        />\n        <p class=\"text-green-500 m-0\">{{ $t('WEBPHONE.VOICE_CALL') }}</p>\n        <p class=\"text-green-500 m-0\">-</p>{{ $t('WEBPHONE.CALLING') }}\n        <p\n          v-if=\"callStatusMessage\"\n          class=\"text-slate-800 dark:text-slate-100 m-0 text-center\"\n        >\n          {{ callStatusMessage }}\n        </p>\n      </div>\n      <template v-else>\n      <MessagePreview\n        v-if=\"lastMessageInChat\"\n        :message=\"lastMessageInChat\"\n        class=\"conversation--message my-0 mx-2 leading-6 h-6 max-w-[96%] w-[16.875rem] text-sm text-slate-700 dark:text-slate-200\"\n      />\n      <p\n        v-else\n        class=\"conversation--message text-slate-700 dark:text-slate-200 text-sm my-0 mx-2 leading-6 h-6 max-w-[96%] w-[16.875rem] overflow-hidden text-ellipsis whitespace-nowrap\"\n      >\n        <fluent-icon\n          size=\"16\"\n          class=\"-mt-0.5 align-middle inline-block text-slate-600 dark:text-slate-300\"\n          icon=\"info\"\n        />\n        <span>\n          {{ $t(`CHAT_LIST.NO_MESSAGES`) }}\n        </span>\n      </p>\n    </template>\n\n      <div class=\"absolute flex flex-col conversation--meta right-4 top-4\">\n        <span class=\"ml-auto font-normal leading-4 text-black-600 text-xxs\">\n          <TimeAgo\n            :last-activity-timestamp=\"chat.timestamp\"\n            :created-at-timestamp=\"chat.created_at\"\n          />\n        </span>\n        <span\n          class=\"unread shadow-lg rounded-full hidden text-xxs font-semibold h-4 leading-4 ml-auto mt-1 min-w-[1rem] px-1 py-0 text-center text-white bg-green-400\"\n        >\n          {{ unreadCount > 9 ? '9+' : unreadCount }}\n        </span>\n      </div>\n      <CardLabels\n        :conversation-id=\"chat.id\"\n        :conversation-labels=\"chat.labels\"\n        class=\"mt-0.5 mx-2 mb-0\"\n      >\n        <template v-if=\"hasSlaPolicyId\" #before>\n          <SLACardLabel :chat=\"chat\" class=\"ltr:mr-1 rtl:ml-1\" />\n        </template>\n      </CardLabels>\n    </div>\n    <woot-context-menu\n      v-if=\"showContextMenu\"\n      :x=\"contextMenu.x\"\n      :y=\"contextMenu.y\"\n      @close=\"closeContextMenu\"\n    >\n      <ConversationContextMenu\n        :status=\"chat.status\"\n        :inbox-id=\"inbox.id\"\n        :priority=\"chat.priority\"\n        :chat-id=\"chat.id\"\n        :has-unread-messages=\"hasUnread\"\n        @updateConversation=\"onUpdateConversation\"\n        @assignAgent=\"onAssignAgent\"\n        @assignLabel=\"onAssignLabel\"\n        @assignTeam=\"onAssignTeam\"\n        @markAsUnread=\"markAsUnread\"\n        @assignPriority=\"assignPriority\"\n      />\n    </woot-context-menu>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.conversation {\n  &.unread-chat {\n    .unread {\n      @apply block;\n    }\n    .conversation--message {\n      @apply font-semibold;\n    }\n    .conversation--user {\n      @apply font-semibold;\n    }\n  }\n\n  &.compact {\n    @apply pl-0;\n    .conversation--details {\n      @apply rounded-sm ml-0 pl-5 pr-2;\n    }\n  }\n\n  &::v-deep .user-thumbnail-box {\n    @apply mt-4;\n  }\n\n  &.conversation-selected {\n    @apply bg-slate-25 dark:bg-slate-800;\n  }\n\n  &.has-inbox-name {\n    &::v-deep .user-thumbnail-box {\n      @apply mt-8;\n    }\n    .checkbox-wrapper {\n      @apply mt-8;\n    }\n    .conversation--meta {\n      @apply mt-4;\n    }\n  }\n\n  .checkbox-wrapper {\n    @apply h-10 w-10 flex items-center justify-center rounded-full cursor-pointer mt-4 hover:bg-woot-100 dark:hover:bg-woot-800;\n\n    input[type='checkbox'] {\n      @apply m-0 cursor-pointer;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationCard.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConversationCard.vue?vue&type=template&id=20d27b6f&scoped=true&\"\nimport script from \"./ConversationCard.vue?vue&type=script&lang=js&\"\nexport * from \"./ConversationCard.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConversationCard.vue?vue&type=style&index=0&id=20d27b6f&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"20d27b6f\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{staticClass:\"w-full px-8 pt-6 pb-8 contact--form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.handleSubmit.apply(null, arguments)}}},[_c('div',[_c('div',{staticClass:\"w-full\"},[_c('woot-avatar-uploader',{staticClass:\"settings-item\",attrs:{\"label\":_vm.$t('CONTACT_FORM.FORM.AVATAR.LABEL'),\"src\":_vm.avatarUrl,\"username-avatar\":_vm.name,\"delete-avatar\":!!_vm.avatarUrl},on:{\"change\":_vm.handleImageUpload,\"onAvatarDelete\":_vm.handleAvatarDelete}})],1)]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.v$.name.$error }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.NAME.LABEL'))+\"\\n        \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.name),expression:\"name\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONTACT_FORM.FORM.NAME.PLACEHOLDER')},domProps:{\"value\":(_vm.name)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.name=$event.target.value.trim()},_vm.v$.name.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}})]),_vm._v(\" \"),_c('label',{class:{ error: _vm.v$.email.$error }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.EMAIL_ADDRESS.LABEL'))+\"\\n        \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.email),expression:\"email\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONTACT_FORM.FORM.EMAIL_ADDRESS.PLACEHOLDER')},domProps:{\"value\":(_vm.email)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.email=$event.target.value.trim()},_vm.v$.email.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}}),_vm._v(\" \"),(_vm.v$.email.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.EMAIL_ADDRESS.ERROR'))+\"\\n        \")]):_vm._e()])])]),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.v$.description.$error }},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.BIO.LABEL'))+\"\\n      \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.description),expression:\"description\",modifiers:{\"trim\":true}}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('CONTACT_FORM.FORM.BIO.PLACEHOLDER')},domProps:{\"value\":(_vm.description)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.description=$event.target.value.trim()},_vm.v$.description.$touch],\"blur\":function($event){return _vm.$forceUpdate()}}})])]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"w-full\"},[_c('label',{class:{\n          error: _vm.isPhoneNumberNotValid,\n        }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.PHONE_NUMBER.LABEL'))+\"\\n        \"),_c('woot-phone-input',{attrs:{\"value\":_vm.phoneNumber,\"error\":_vm.isPhoneNumberNotValid,\"placeholder\":_vm.$t('CONTACT_FORM.FORM.PHONE_NUMBER.PLACEHOLDER')},on:{\"input\":_vm.onPhoneNumberInputChange,\"blur\":_vm.v$.phoneNumber.$touch,\"setCode\":_vm.setPhoneCode},model:{value:(_vm.phoneNumber),callback:function ($$v) {_vm.phoneNumber=$$v},expression:\"phoneNumber\"}}),_vm._v(\" \"),(_vm.isPhoneNumberNotValid)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.phoneNumberError)+\"\\n        \")]):_vm._e()],1),_vm._v(\" \"),(_vm.isPhoneNumberNotValid || !_vm.phoneNumber)?_c('div',{staticClass:\"relative mx-0 mt-0 mb-2.5 p-2 rounded-md text-sm border border-solid border-yellow-500 text-yellow-700 dark:border-yellow-700 bg-yellow-200/60 dark:bg-yellow-200/20 dark:text-yellow-400\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.PHONE_NUMBER.HELP'))+\"\\n      \")]):_vm._e()])]),_vm._v(\" \"),_c('woot-input',{staticClass:\"w-full\",attrs:{\"label\":_vm.$t('CONTACT_FORM.FORM.COMPANY_NAME.LABEL'),\"placeholder\":_vm.$t('CONTACT_FORM.FORM.COMPANY_NAME.PLACEHOLDER')},model:{value:(_vm.companyName),callback:function ($$v) {_vm.companyName=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"companyName\"}}),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"w-full\"},[_c('label',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.COUNTRY.LABEL'))+\"\\n      \")]),_vm._v(\" \"),_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":_vm.$t('CONTACT_FORM.FORM.COUNTRY.PLACEHOLDER'),\"selected-label\":\"\",\"select-label\":_vm.$t('CONTACT_FORM.FORM.COUNTRY.SELECT_PLACEHOLDER'),\"deselect-label\":_vm.$t('CONTACT_FORM.FORM.COUNTRY.REMOVE'),\"custom-label\":_vm.countryNameWithCode,\"max-height\":160,\"options\":_vm.countries,\"allow-empty\":\"\",\"option-height\":104},model:{value:(_vm.country),callback:function ($$v) {_vm.country=$$v},expression:\"country\"}})],1)]),_vm._v(\" \"),_c('woot-input',{staticClass:\"w-full\",attrs:{\"label\":_vm.$t('CONTACT_FORM.FORM.CITY.LABEL'),\"placeholder\":_vm.$t('CONTACT_FORM.FORM.CITY.PLACEHOLDER')},model:{value:(_vm.city),callback:function ($$v) {_vm.city=$$v},expression:\"city\"}}),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('label',[_vm._v(_vm._s(_vm.$t('CONTACTS_PAGE.LIST.TABLE_HEADER.SOCIAL_PROFILES')))]),_vm._v(\" \"),_vm._l((_vm.socialProfileKeys),function(socialProfile){return _c('div',{key:socialProfile.key,staticClass:\"flex items-stretch w-full mb-4\"},[_c('span',{staticClass:\"flex items-center h-10 px-2 text-sm border-solid bg-slate-50 border-y ltr:border-l rtl:border-r ltr:rounded-l-md rtl:rounded-r-md dark:bg-slate-700 text-slate-800 dark:text-slate-100 border-slate-200 dark:border-slate-600\"},[_vm._v(_vm._s(socialProfile.label))]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.socialProfileUserNames[socialProfile.key]),expression:\"socialProfileUserNames[socialProfile.key]\"}],staticClass:\"input-group-field ltr:!rounded-l-none rtl:rounded-r-none !mb-0\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.socialProfileUserNames[socialProfile.key])},on:{\"input\":function($event){if($event.target.composing)return;_vm.$set(_vm.socialProfileUserNames, socialProfile.key, $event.target.value)}}})])})],2),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('div',{staticClass:\"w-full\"},[_c('woot-submit-button',{attrs:{\"loading\":_vm.inProgress,\"button-text\":_vm.$t('CONTACT_FORM.FORM.SUBMIT')}}),_vm._v(\" \"),_c('button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onCancel.apply(null, arguments)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_FORM.FORM.CANCEL'))+\"\\n      \")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { useAlert } from 'dashboard/composables';\nimport {\n  DuplicateContactException,\n  ExceptionWithMessage,\n} from 'shared/helpers/CustomErrors';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required, email } from '@vuelidate/validators';\nimport countries from 'shared/constants/countries.js';\nimport { isPhoneNumberValid } from 'shared/helpers/Validators';\nimport parsePhoneNumber from 'libphonenumber-js';\n\nexport default {\n  props: {\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n    inProgress: {\n      type: Boolean,\n      default: false,\n    },\n    onSubmit: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  data() {\n    return {\n      countries: countries,\n      companyName: '',\n      description: '',\n      email: '',\n      name: '',\n      phoneNumber: '',\n      activeDialCode: '',\n      avatarFile: null,\n      avatarUrl: '',\n      country: {\n        id: '',\n        name: '',\n      },\n      city: '',\n      socialProfileUserNames: {\n        facebook: '',\n        twitter: '',\n        linkedin: '',\n        github: '',\n        instagram: '',\n        line: '',\n        telegram: '',\n        website: '',\n      },\n      socialProfileKeys: [\n      \t{ key: 'facebook', label: 'https://facebook.com/' },\n        { key: 'twitter', label: 'https://twitter.com/' },\n        { key: 'linkedin', label: 'https://linkedin.com/' },\n        { key: 'github', label: 'https://github.com/' },\n        { key: 'instagram', label: 'https://instagram.com/' },\n        { key: 'line', label: 'Line User Id ' },\n        { key: 'telegram', label: 'Telegram Username ' },\n        { key: 'website', label: 'Website: https://' },\n      ],\n    };\n  },\n  validations: {\n    name: {\n      required,\n    },\n    description: {},\n    email: {\n      email,\n    },\n    companyName: {},\n    phoneNumber: {},\n    bio: {},\n  },\n  computed: {\n    parsePhoneNumber() {\n      return parsePhoneNumber(this.phoneNumber);\n    },\n    isPhoneNumberNotValid() {\n      if (this.phoneNumber !== '') {\n        return (\n          !isPhoneNumberValid(this.phoneNumber, this.activeDialCode) ||\n          (this.phoneNumber !== '' ? this.activeDialCode === '' : false)\n        );\n      }\n      return false;\n    },\n    phoneNumberError() {\n      if (this.activeDialCode === '') {\n        return this.$t('CONTACT_FORM.FORM.PHONE_NUMBER.DIAL_CODE_ERROR');\n      }\n      if (!isPhoneNumberValid(this.phoneNumber, this.activeDialCode)) {\n        return this.$t('CONTACT_FORM.FORM.PHONE_NUMBER.ERROR');\n      }\n      return '';\n    },\n    setPhoneNumber() {\n      if (this.parsePhoneNumber && this.parsePhoneNumber.countryCallingCode) {\n        return this.phoneNumber;\n      }\n      if (this.phoneNumber === '' && this.activeDialCode !== '') {\n        return '';\n      }\n      return this.activeDialCode\n        ? `${this.activeDialCode}${this.phoneNumber}`\n        : '';\n    },\n  },\n  watch: {\n    contact() {\n      this.setContactObject();\n    },\n  },\n  mounted() {\n    this.setContactObject();\n    this.setDialCode();\n  },\n  methods: {\n    onCancel() {\n      this.$emit('cancel');\n    },\n    onSuccess() {\n      this.$emit('success');\n    },\n    countryNameWithCode({ name, id }) {\n      if (!id) return name;\n      if (!name && !id) return '';\n      return `${name} (${id})`;\n    },\n    setDialCode() {\n      if (\n        this.phoneNumber !== '' &&\n        this.parsePhoneNumber &&\n        this.parsePhoneNumber.countryCallingCode\n      ) {\n        const dialCode = this.parsePhoneNumber.countryCallingCode;\n        this.activeDialCode = `+${dialCode}`;\n      }\n    },\n    setContactObject() {\n      const {\n        email: emailAddress,\n        phone_number: phoneNumber,\n        name,\n      } = this.contact;\n      const additionalAttributes = this.contact.additional_attributes || {};\n\n      this.name = name || '';\n      this.email = emailAddress || '';\n      this.phoneNumber = phoneNumber || '';\n      this.companyName = additionalAttributes.company_name || '';\n      this.country = {\n        id: additionalAttributes.country_code || '',\n        name:\n          additionalAttributes.country ||\n          this.$t('CONTACT_FORM.FORM.COUNTRY.SELECT_COUNTRY'),\n      };\n      this.city = additionalAttributes.city || '';\n      this.description = additionalAttributes.description || '';\n      this.avatarUrl = this.contact.thumbnail || '';\n      const {\n        social_profiles: socialProfiles = {},\n        screen_name: twitterScreenName,\n      } = additionalAttributes;\n      this.socialProfileUserNames = {\n        twitter: socialProfiles.twitter || twitterScreenName || '',\n        facebook: socialProfiles.facebook || '',\n        linkedin: socialProfiles.linkedin || '',\n        github: socialProfiles.github || '',\n        instagram: socialProfiles.instagram || '',\n        line: socialProfiles.line || '',\n        telegram: socialProfiles.telegram || '',\n        website: socialProfiles.website || '',\n      };\n    },\n    getContactObject() {\n      if (this.country === null) {\n        this.country = {\n          id: '',\n          name: '',\n        };\n      }\n      const contactObject = {\n        id: this.contact.id,\n        name: this.name,\n        email: this.email,\n        phone_number: this.setPhoneNumber,\n        additional_attributes: {\n          ...this.contact.additional_attributes,\n          description: this.description,\n          company_name: this.companyName,\n          country_code: this.country.id,\n          country:\n            this.country.name ===\n            this.$t('CONTACT_FORM.FORM.COUNTRY.SELECT_COUNTRY')\n              ? ''\n              : this.country.name,\n          city: this.city,\n          social_profiles: this.socialProfileUserNames,\n        },\n      };\n      if (this.avatarFile) {\n        contactObject.avatar = this.avatarFile;\n        contactObject.isFormData = true;\n      }\n      return contactObject;\n    },\n    onPhoneNumberInputChange(value, code) {\n      this.activeDialCode = code;\n    },\n    setPhoneCode(code) {\n      if (this.phoneNumber !== '' && this.parsePhoneNumber) {\n        const dialCode = this.parsePhoneNumber.countryCallingCode;\n        if (dialCode === code) {\n          return;\n        }\n        this.activeDialCode = `+${dialCode}`;\n        const newPhoneNumber = this.phoneNumber.replace(\n          `+${dialCode}`,\n          `${code}`\n        );\n        this.phoneNumber = newPhoneNumber;\n      } else {\n        this.activeDialCode = code;\n      }\n    },\n    async handleSubmit() {\n      this.v$.$touch();\n      if (this.v$.$invalid || this.isPhoneNumberNotValid) {\n        return;\n      }\n      try {\n        await this.onSubmit(this.getContactObject());\n        this.onSuccess();\n        useAlert(this.$t('CONTACT_FORM.SUCCESS_MESSAGE'));\n      } catch (error) {\n        if (error instanceof DuplicateContactException) {\n          if (error.data.includes('email')) {\n            useAlert(this.$t('CONTACT_FORM.FORM.EMAIL_ADDRESS.DUPLICATE'));\n          } else if (error.data.includes('phone_number')) {\n            useAlert(this.$t('CONTACT_FORM.FORM.PHONE_NUMBER.DUPLICATE'));\n          }\n        } else if (error instanceof ExceptionWithMessage) {\n          useAlert(error.data);\n        } else {\n          useAlert(this.$t('CONTACT_FORM.ERROR_MESSAGE'));\n        }\n      }\n    },\n    handleImageUpload({ file, url }) {\n      this.avatarFile = file;\n      this.avatarUrl = url;\n    },\n    async handleAvatarDelete() {\n      try {\n        if (this.contact && this.contact.id) {\n          await this.$store.dispatch('contacts/deleteAvatar', this.contact.id);\n          useAlert(this.$t('CONTACT_FORM.DELETE_AVATAR.API.SUCCESS_MESSAGE'));\n        }\n        this.avatarFile = null;\n        this.avatarUrl = '';\n        this.activeDialCode = '';\n      } catch (error) {\n        useAlert(\n          error.message\n            ? error.message\n            : this.$t('CONTACT_FORM.DELETE_AVATAR.API.ERROR_MESSAGE')\n        );\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <form\n    class=\"w-full px-8 pt-6 pb-8 contact--form\"\n    @submit.prevent=\"handleSubmit\"\n  >\n    <div>\n      <div class=\"w-full\">\n        <woot-avatar-uploader\n          :label=\"$t('CONTACT_FORM.FORM.AVATAR.LABEL')\"\n          :src=\"avatarUrl\"\n          :username-avatar=\"name\"\n          :delete-avatar=\"!!avatarUrl\"\n          class=\"settings-item\"\n          @change=\"handleImageUpload\"\n          @onAvatarDelete=\"handleAvatarDelete\"\n        />\n      </div>\n    </div>\n    <div>\n      <div class=\"w-full\">\n        <label :class=\"{ error: v$.name.$error }\">\n          {{ $t('CONTACT_FORM.FORM.NAME.LABEL') }}\n          <input\n            v-model.trim=\"name\"\n            type=\"text\"\n            :placeholder=\"$t('CONTACT_FORM.FORM.NAME.PLACEHOLDER')\"\n            @input=\"v$.name.$touch\"\n          />\n        </label>\n\n        <label :class=\"{ error: v$.email.$error }\">\n          {{ $t('CONTACT_FORM.FORM.EMAIL_ADDRESS.LABEL') }}\n          <input\n            v-model.trim=\"email\"\n            type=\"text\"\n            :placeholder=\"$t('CONTACT_FORM.FORM.EMAIL_ADDRESS.PLACEHOLDER')\"\n            @input=\"v$.email.$touch\"\n          />\n          <span v-if=\"v$.email.$error\" class=\"message\">\n            {{ $t('CONTACT_FORM.FORM.EMAIL_ADDRESS.ERROR') }}\n          </span>\n        </label>\n      </div>\n    </div>\n    <div class=\"w-full\">\n      <label :class=\"{ error: v$.description.$error }\">\n        {{ $t('CONTACT_FORM.FORM.BIO.LABEL') }}\n        <textarea\n          v-model.trim=\"description\"\n          type=\"text\"\n          :placeholder=\"$t('CONTACT_FORM.FORM.BIO.PLACEHOLDER')\"\n          @input=\"v$.description.$touch\"\n        />\n      </label>\n    </div>\n    <div>\n      <div class=\"w-full\">\n        <label\n          :class=\"{\n            error: isPhoneNumberNotValid,\n          }\"\n        >\n          {{ $t('CONTACT_FORM.FORM.PHONE_NUMBER.LABEL') }}\n          <woot-phone-input\n            v-model=\"phoneNumber\"\n            :value=\"phoneNumber\"\n            :error=\"isPhoneNumberNotValid\"\n            :placeholder=\"$t('CONTACT_FORM.FORM.PHONE_NUMBER.PLACEHOLDER')\"\n            @input=\"onPhoneNumberInputChange\"\n            @blur=\"v$.phoneNumber.$touch\"\n            @setCode=\"setPhoneCode\"\n          />\n          <span v-if=\"isPhoneNumberNotValid\" class=\"message\">\n            {{ phoneNumberError }}\n          </span>\n        </label>\n        <div\n          v-if=\"isPhoneNumberNotValid || !phoneNumber\"\n          class=\"relative mx-0 mt-0 mb-2.5 p-2 rounded-md text-sm border border-solid border-yellow-500 text-yellow-700 dark:border-yellow-700 bg-yellow-200/60 dark:bg-yellow-200/20 dark:text-yellow-400\"\n        >\n          {{ $t('CONTACT_FORM.FORM.PHONE_NUMBER.HELP') }}\n        </div>\n      </div>\n    </div>\n    <woot-input\n      v-model.trim=\"companyName\"\n      class=\"w-full\"\n      :label=\"$t('CONTACT_FORM.FORM.COMPANY_NAME.LABEL')\"\n      :placeholder=\"$t('CONTACT_FORM.FORM.COMPANY_NAME.PLACEHOLDER')\"\n    />\n    <div>\n      <div class=\"w-full\">\n        <label>\n          {{ $t('CONTACT_FORM.FORM.COUNTRY.LABEL') }}\n        </label>\n        <multiselect\n          v-model=\"country\"\n          track-by=\"id\"\n          label=\"name\"\n          :placeholder=\"$t('CONTACT_FORM.FORM.COUNTRY.PLACEHOLDER')\"\n          selected-label\n          :select-label=\"$t('CONTACT_FORM.FORM.COUNTRY.SELECT_PLACEHOLDER')\"\n          :deselect-label=\"$t('CONTACT_FORM.FORM.COUNTRY.REMOVE')\"\n          :custom-label=\"countryNameWithCode\"\n          :max-height=\"160\"\n          :options=\"countries\"\n          allow-empty\n          :option-height=\"104\"\n        />\n      </div>\n    </div>\n    <woot-input\n      v-model=\"city\"\n      class=\"w-full\"\n      :label=\"$t('CONTACT_FORM.FORM.CITY.LABEL')\"\n      :placeholder=\"$t('CONTACT_FORM.FORM.CITY.PLACEHOLDER')\"\n    />\n\n    <div class=\"w-full\">\n      <label>{{ $t('CONTACTS_PAGE.LIST.TABLE_HEADER.SOCIAL_PROFILES') }}</label>\n      <div\n        v-for=\"socialProfile in socialProfileKeys\"\n        :key=\"socialProfile.key\"\n        class=\"flex items-stretch w-full mb-4\"\n      >\n        <span\n          class=\"flex items-center h-10 px-2 text-sm border-solid bg-slate-50 border-y ltr:border-l rtl:border-r ltr:rounded-l-md rtl:rounded-r-md dark:bg-slate-700 text-slate-800 dark:text-slate-100 border-slate-200 dark:border-slate-600\"\n          >{{ socialProfile.label }}</span\n        >\n        <input\n          v-model=\"socialProfileUserNames[socialProfile.key]\"\n          class=\"input-group-field ltr:!rounded-l-none rtl:rounded-r-none !mb-0\"\n          type=\"text\"\n        />\n      </div>\n    </div>\n    <div class=\"flex flex-row justify-end w-full gap-2 px-0 py-2\">\n      <div class=\"w-full\">\n        <woot-submit-button\n          :loading=\"inProgress\"\n          :button-text=\"$t('CONTACT_FORM.FORM.SUBMIT')\"\n        />\n        <button class=\"button clear\" @click.prevent=\"onCancel\">\n          {{ $t('CONTACT_FORM.FORM.CANCEL') }}\n        </button>\n      </div>\n    </div>\n  </form>\n</template>\n\n<style scoped lang=\"scss\">\n::v-deep {\n  .multiselect .multiselect__tags .multiselect__single {\n    @apply pl-0;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactForm.vue?vue&type=template&id=4908937e&scoped=true&\"\nimport script from \"./ContactForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactForm.vue?vue&type=style&index=0&id=4908937e&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4908937e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Contact.vue?vue&type=style&index=0&id=a6f63298&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./File.vue?vue&type=style&index=0&id=09230eea&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItem.vue?vue&type=style&index=0&id=46ec2f6c&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./menuItemWithSubmenu.vue?vue&type=style&index=0&id=0fb45db1&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./agentLoadingPlaceholder.vue?vue&type=style&index=0&id=eff490c2&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationCard.vue?vue&type=style&index=0&id=20d27b6f&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactConversations.vue?vue&type=style&index=0&id=26ad606b&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdownItem.vue?vue&type=style&index=0&id=68995bec&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdown.vue?vue&type=style&index=0&id=8fb81338&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=style&index=0&id=471a02aa&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactForm.vue?vue&type=style&index=0&id=4908937e&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyEmailHead.vue?vue&type=style&index=0&id=b2f3249c&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxDropdownItem.vue?vue&type=style&index=0&id=de1a3978&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplatesPicker.vue?vue&type=style&index=0&id=41786a0e&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateParser.vue?vue&type=style&index=0&id=274c6514&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationForm.vue?vue&type=style&index=0&id=c917a900&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactDropdownItem.vue?vue&type=style&index=0&id=67c694b3&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MergeContact.vue?vue&type=style&index=0&id=34e4e589&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomAttribute.vue?vue&type=style&index=0&id=5db16fe0&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"relative items-center w-full p-4 bg-white dark:bg-slate-900\"},[_c('div',{staticClass:\"flex flex-col w-full gap-2 text-left rtl:text-right\"},[_c('div',{staticClass:\"flex flex-row justify-between\"},[(_vm.showAvatar)?_c('Thumbnail',{attrs:{\"src\":_vm.contact.thumbnail,\"size\":\"56px\",\"username\":_vm.contact.name,\"status\":_vm.contact.availability_status}}):_vm._e(),_vm._v(\" \"),(_vm.showCloseButton)?_c('woot-button',{staticClass:\"clear secondary rtl:rotate-180\",attrs:{\"icon\":_vm.closeIconName},on:{\"click\":_vm.onPanelToggle}}):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col items-start gap-1.5 min-w-0 w-full\"},[(_vm.showAvatar)?_c('div',{staticClass:\"flex items-start w-full min-w-0 gap-2\"},[_c('h3',{staticClass:\"flex-shrink max-w-full min-w-0 my-0 text-base capitalize break-words text-slate-800 dark:text-slate-100\"},[_vm._v(\"\\n          \"+_vm._s(_vm.contact.name)+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row items-center gap-1\"},[(_vm.contact.created_at)?_c('fluent-icon',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.left\",value:(\n              `${_vm.$t('CONTACT_PANEL.CREATED_AT_LABEL')} ${_vm.dynamicTime(\n                _vm.contact.created_at\n              )}`\n            ),expression:\"\\n              `${$t('CONTACT_PANEL.CREATED_AT_LABEL')} ${dynamicTime(\\n                contact.created_at\\n              )}`\\n            \",modifiers:{\"left\":true}}],staticClass:\"mt-0.5\",attrs:{\"icon\":\"info\",\"size\":\"14\"}}):_vm._e(),_vm._v(\" \"),_c('a',{staticClass:\"text-base\",attrs:{\"href\":_vm.contactProfileLink,\"target\":\"_blank\",\"rel\":\"noopener nofollow noreferrer\"}},[_c('woot-button',{attrs:{\"size\":\"tiny\",\"icon\":\"open\",\"variant\":\"clear\",\"color-scheme\":\"secondary\"}})],1)],1)]):_vm._e(),_vm._v(\" \"),(_vm.additionalAttributes.description)?_c('p',{staticClass:\"break-words mb-0.5\"},[_vm._v(\"\\n        \"+_vm._s(_vm.additionalAttributes.description)+\"\\n      \")]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col items-start w-full gap-2\"},[_c('ContactInfoRow',{attrs:{\"href\":_vm.contact.email ? `mailto:${_vm.contact.email}` : '',\"value\":_vm.contact.email,\"icon\":\"mail\",\"emoji\":\"\",\"title\":_vm.$t('CONTACT_PANEL.EMAIL_ADDRESS'),\"show-copy\":\"\"}}),_vm._v(\" \"),_c('ContactInfoRow',{attrs:{\"href\":_vm.contact.phone_number ? `tel:${_vm.contact.phone_number}` : '',\"value\":_vm.contact.phone_number,\"icon\":\"call\",\"emoji\":\"\",\"title\":_vm.$t('CONTACT_PANEL.PHONE_NUMBER'),\"show-copy\":\"\"}}),_vm._v(\" \"),(_vm.contact.identifier)?_c('ContactInfoRow',{attrs:{\"value\":_vm.contact.identifier,\"icon\":\"contact-identify\",\"emoji\":\"\",\"title\":_vm.$t('CONTACT_PANEL.IDENTIFIER')}}):_vm._e(),_vm._v(\" \"),_c('ContactInfoRow',{attrs:{\"value\":_vm.additionalAttributes.company_name,\"icon\":\"building-bank\",\"emoji\":\"\",\"title\":_vm.$t('CONTACT_PANEL.COMPANY')}}),_vm._v(\" \"),(_vm.location || _vm.additionalAttributes.location)?_c('ContactInfoRow',{attrs:{\"value\":_vm.location || _vm.additionalAttributes.location,\"icon\":\"map\",\"emoji\":\"\",\"title\":_vm.$t('CONTACT_PANEL.LOCATION')}}):_vm._e(),_vm._v(\" \"),_c('SocialIcons',{attrs:{\"social-profiles\":_vm.socialProfiles}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-center w-full mt-0.5 gap-2\"},[_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('CONTACT_PANEL.NEW_MESSAGE')),expression:\"$t('CONTACT_PANEL.NEW_MESSAGE')\"}],attrs:{\"title\":_vm.$t('CONTACT_PANEL.NEW_MESSAGE'),\"icon\":\"chat\",\"size\":\"small\"},on:{\"click\":_vm.toggleConversationModal}}),_vm._v(\" \"),_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('EDIT_CONTACT.BUTTON_LABEL')),expression:\"$t('EDIT_CONTACT.BUTTON_LABEL')\"}],attrs:{\"title\":_vm.$t('EDIT_CONTACT.BUTTON_LABEL'),\"icon\":\"edit\",\"variant\":\"smooth\",\"size\":\"small\"},on:{\"click\":_vm.toggleEditModal}}),_vm._v(\" \"),_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('CONTACT_PANEL.MERGE_CONTACT')),expression:\"$t('CONTACT_PANEL.MERGE_CONTACT')\"}],attrs:{\"title\":_vm.$t('CONTACT_PANEL.MERGE_CONTACT'),\"icon\":\"merge\",\"variant\":\"smooth\",\"size\":\"small\",\"color-scheme\":\"secondary\",\"disabled\":_vm.uiFlags.isMerging},on:{\"click\":_vm.openMergeModal}}),_vm._v(\" \"),(_vm.isAdmin)?_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:(_vm.$t('DELETE_CONTACT.BUTTON_LABEL')),expression:\"$t('DELETE_CONTACT.BUTTON_LABEL')\"}],attrs:{\"title\":_vm.$t('DELETE_CONTACT.BUTTON_LABEL'),\"icon\":\"delete\",\"variant\":\"smooth\",\"size\":\"small\",\"color-scheme\":\"alert\",\"disabled\":_vm.uiFlags.isDeleting},on:{\"click\":_vm.toggleDeleteModal}}):_vm._e()],1),_vm._v(\" \"),(_vm.showEditModal)?_c('EditContact',{attrs:{\"show\":_vm.showEditModal,\"contact\":_vm.contact},on:{\"cancel\":_vm.toggleEditModal}}):_vm._e(),_vm._v(\" \"),(_vm.contact.id)?_c('NewConversation',{attrs:{\"show\":_vm.showConversationModal,\"contact\":_vm.contact},on:{\"cancel\":_vm.toggleConversationModal}}):_vm._e(),_vm._v(\" \"),(_vm.showMergeModal)?_c('ContactMergeModal',{attrs:{\"primary-contact\":_vm.contact,\"show\":_vm.showMergeModal},on:{\"close\":_vm.toggleMergeModal}}):_vm._e()],1),_vm._v(\" \"),(_vm.showDeleteModal)?_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeleteModal,\"on-close\":_vm.closeDelete,\"on-confirm\":_vm.confirmDeletion,\"title\":_vm.$t('DELETE_CONTACT.CONFIRM.TITLE'),\"message\":_vm.$t('DELETE_CONTACT.CONFIRM.MESSAGE'),\"message-value\":_vm.confirmDeleteMessage,\"confirm-text\":_vm.$t('DELETE_CONTACT.CONFIRM.YES'),\"reject-text\":_vm.$t('DELETE_CONTACT.CONFIRM.NO')},on:{\"update:show\":function($event){_vm.showDeleteModal=$event}}}):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { useAlert } from 'dashboard/composables';\nimport EmojiOrIcon from 'shared/components/EmojiOrIcon.vue';\nimport { copyTextToClipboard } from 'shared/helpers/clipboard';\n\nexport default {\n  components: {\n    EmojiOrIcon,\n  },\n  props: {\n    href: {\n      type: String,\n      default: '',\n    },\n    icon: {\n      type: String,\n      required: true,\n    },\n    emoji: {\n      type: String,\n      required: true,\n    },\n    value: {\n      type: String,\n      default: '',\n    },\n    showCopy: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  methods: {\n    async onCopy(e) {\n      e.preventDefault();\n      await copyTextToClipboard(this.value);\n      useAlert(this.$t('CONTACT_PANEL.COPY_SUCCESSFUL'));\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"w-full h-5 ltr:-ml-1 rtl:-mr-1\">\n    <a\n      v-if=\"href\"\n      :href=\"href\"\n      class=\"flex items-center gap-2 text-slate-800 dark:text-slate-100 hover:underline\"\n    >\n      <EmojiOrIcon\n        :icon=\"icon\"\n        :emoji=\"emoji\"\n        icon-size=\"14\"\n        class=\"flex-shrink-0 ltr:ml-1 rtl:mr-1\"\n      />\n      <span\n        v-if=\"value\"\n        class=\"overflow-hidden text-sm whitespace-nowrap text-ellipsis\"\n        :title=\"value\"\n      >\n        {{ value }}\n      </span>\n      <span v-else class=\"text-sm text-slate-300 dark:text-slate-600\">{{\n        $t('CONTACT_PANEL.NOT_AVAILABLE')\n      }}</span>\n\n      <woot-button\n        v-if=\"showCopy\"\n        type=\"submit\"\n        variant=\"clear\"\n        size=\"tiny\"\n        color-scheme=\"secondary\"\n        icon=\"clipboard\"\n        class-names=\"p-0\"\n        @click=\"onCopy\"\n      />\n    </a>\n\n    <div\n      v-else\n      class=\"flex items-center gap-2 text-slate-800 dark:text-slate-100\"\n    >\n      <EmojiOrIcon\n        :icon=\"icon\"\n        :emoji=\"emoji\"\n        icon-size=\"14\"\n        class=\"flex-shrink-0 ltr:ml-1 rtl:mr-1\"\n      />\n      <span\n        v-if=\"value\"\n        class=\"overflow-hidden text-sm whitespace-nowrap text-ellipsis\"\n      >\n        {{ value }}\n      </span>\n      <span v-else class=\"text-sm text-slate-300 dark:text-slate-600\">{{\n        $t('CONTACT_PANEL.NOT_AVAILABLE')\n      }}</span>\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfoRow.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfoRow.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactInfoRow.vue?vue&type=template&id=2e5563f8&\"\nimport script from \"./ContactInfoRow.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactInfoRow.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"w-full h-5 ltr:-ml-1 rtl:-mr-1\"},[(_vm.href)?_c('a',{staticClass:\"flex items-center gap-2 text-slate-800 dark:text-slate-100 hover:underline\",attrs:{\"href\":_vm.href}},[_c('EmojiOrIcon',{staticClass:\"flex-shrink-0 ltr:ml-1 rtl:mr-1\",attrs:{\"icon\":_vm.icon,\"emoji\":_vm.emoji,\"icon-size\":\"14\"}}),_vm._v(\" \"),(_vm.value)?_c('span',{staticClass:\"overflow-hidden text-sm whitespace-nowrap text-ellipsis\",attrs:{\"title\":_vm.value}},[_vm._v(\"\\n      \"+_vm._s(_vm.value)+\"\\n    \")]):_c('span',{staticClass:\"text-sm text-slate-300 dark:text-slate-600\"},[_vm._v(_vm._s(_vm.$t('CONTACT_PANEL.NOT_AVAILABLE')))]),_vm._v(\" \"),(_vm.showCopy)?_c('woot-button',{attrs:{\"type\":\"submit\",\"variant\":\"clear\",\"size\":\"tiny\",\"color-scheme\":\"secondary\",\"icon\":\"clipboard\",\"class-names\":\"p-0\"},on:{\"click\":_vm.onCopy}}):_vm._e()],1):_c('div',{staticClass:\"flex items-center gap-2 text-slate-800 dark:text-slate-100\"},[_c('EmojiOrIcon',{staticClass:\"flex-shrink-0 ltr:ml-1 rtl:mr-1\",attrs:{\"icon\":_vm.icon,\"emoji\":_vm.emoji,\"icon-size\":\"14\"}}),_vm._v(\" \"),(_vm.value)?_c('span',{staticClass:\"overflow-hidden text-sm whitespace-nowrap text-ellipsis\"},[_vm._v(\"\\n      \"+_vm._s(_vm.value)+\"\\n    \")]):_c('span',{staticClass:\"text-sm text-slate-300 dark:text-slate-600\"},[_vm._v(_vm._s(_vm.$t('CONTACT_PANEL.NOT_AVAILABLE')))])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SocialIcons.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SocialIcons.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  props: {\n    socialProfiles: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  data() {\n    return {\n      socialMediaLinks: [\n        { key: 'facebook', icon: 'brand-facebook', link: 'https://facebook.com/' },\n        { key: 'twitter', icon: 'brand-twitter', link: 'https://twitter.com/' },\n        { key: 'linkedin', icon: 'brand-linkedin', link: 'https://linkedin.com/' },\n        { key: 'github', icon: 'brand-github', link: 'https://github.com/' },\n        { key: 'instagram', icon: 'brand-instagram', link: 'https://instagram.com/' },\n        { key: 'line', icon: 'brand-line', link: 'https://line.me/R/ti/p/~' },\n        { key: 'telegram', icon: 'brand-telegram', link: 'https://t.me/' },\n        { key: 'phone', icon: 'brand-whatsapp', link: 'https://wa.me/' },\n        { key: 'website', icon: 'globe', link: 'https://' },\n      ],\n    };\n  },\n  computed: {\n    availableProfiles() {\n      return this.socialMediaLinks.filter(\n        mediaLink => !!this.socialProfiles[mediaLink.key]\n      );\n    },\n  },\n};\n</script>\n\n<template>\n  <div v-if=\"availableProfiles.length\" class=\"flex items-end mx-0 my-2 gap-3\">\n    <a\n      v-for=\"profile in availableProfiles\"\n      :key=\"profile.key\"\n      :href=\"`${profile.link}${socialProfiles[profile.key]}`\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer nofollow\"\n    >\n      <fluent-icon\n        :icon=\"profile.icon\"\n        size=\"16\"\n        class=\"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200\"\n      />\n    </a>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./SocialIcons.vue?vue&type=template&id=6f189614&\"\nimport script from \"./SocialIcons.vue?vue&type=script&lang=js&\"\nexport * from \"./SocialIcons.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.availableProfiles.length)?_c('div',{staticClass:\"flex items-end mx-0 my-2 gap-3\"},_vm._l((_vm.availableProfiles),function(profile){return _c('a',{key:profile.key,attrs:{\"href\":`${profile.link}${_vm.socialProfiles[profile.key]}`,\"target\":\"_blank\",\"rel\":\"noopener noreferrer nofollow\"}},[_c('fluent-icon',{staticClass:\"text-slate-500 dark:text-slate-400 hover:text-slate-700 dark:hover:text-slate-200\",attrs:{\"icon\":profile.icon,\"size\":\"16\"}})],1)}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport ContactForm from './ContactForm.vue';\n\nexport default {\n  components: {\n    ContactForm,\n  },\n  props: {\n    show: {\n      type: Boolean,\n      default: false,\n    },\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n\n  computed: {\n    ...mapGetters({\n      uiFlags: 'contacts/getUIFlags',\n    }),\n  },\n\n  methods: {\n    onCancel() {\n      this.$emit('cancel');\n    },\n    onSuccess() {\n      this.$emit('cancel');\n    },\n    async onSubmit(contactItem) {\n      await this.$store.dispatch('contacts/update', contactItem);\n      await this.$store.dispatch(\n        'contacts/fetchContactableInbox',\n        this.contact.id\n      );\n    },\n  },\n};\n</script>\n\n<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <woot-modal :show.sync=\"show\" :on-close=\"onCancel\" modal-type=\"right-aligned\">\n    <div class=\"flex flex-col h-auto overflow-auto\">\n      <woot-modal-header\n        :header-title=\"`${$t('EDIT_CONTACT.TITLE')} - ${\n          contact.name || contact.email\n        }`\"\n        :header-content=\"$t('EDIT_CONTACT.DESC')\"\n      />\n      <ContactForm\n        :contact=\"contact\"\n        :in-progress=\"uiFlags.isUpdating\"\n        :on-submit=\"onSubmit\"\n        @success=\"onSuccess\"\n        @cancel=\"onCancel\"\n      />\n    </div>\n  </woot-modal>\n</template>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditContact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditContact.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditContact.vue?vue&type=template&id=c421fdae&\"\nimport script from \"./EditContact.vue?vue&type=script&lang=js&\"\nexport * from \"./EditContact.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onCancel,\"modal-type\":\"right-aligned\"},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{staticClass:\"flex flex-col h-auto overflow-auto\"},[_c('woot-modal-header',{attrs:{\"header-title\":`${_vm.$t('EDIT_CONTACT.TITLE')} - ${\n        _vm.contact.name || _vm.contact.email\n      }`,\"header-content\":_vm.$t('EDIT_CONTACT.DESC')}}),_vm._v(\" \"),_c('ContactForm',{attrs:{\"contact\":_vm.contact,\"in-progress\":_vm.uiFlags.isUpdating,\"on-submit\":_vm.onSubmit},on:{\"success\":_vm.onSuccess,\"cancel\":_vm.onCancel}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxDropdownItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxDropdownItem.vue?vue&type=script&lang=js&\"","<script>\nimport {\n  getInboxClassByType,\n  getReadableInboxByType,\n} from 'dashboard/helper/inbox';\n\nexport default {\n  components: {},\n  props: {\n    name: {\n      type: String,\n      default: '',\n    },\n    inboxIdentifier: {\n      type: String,\n      default: '',\n    },\n    channelType: {\n      type: String,\n      default: '',\n    },\n  },\n  computed: {\n    computedInboxIcon() {\n      if (!this.channelType) return 'chat';\n      const classByType = getInboxClassByType(\n        this.channelType,\n        this.inboxIdentifier\n      );\n      return classByType;\n    },\n    computedInboxType() {\n      if (!this.channelType) return 'chat';\n      const classByType = getReadableInboxByType(\n        this.channelType,\n        this.inboxIdentifier\n      );\n      return classByType;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex items-center h-[2.375rem] min-w-0 py-0 px-1\">\n    <span\n      class=\"inline-flex rounded mr-1 rtl:ml-1 rtl:mr-0 bg-slate-25 dark:bg-slate-700 p-0.5 items-center flex-shrink-0 justify-center w-6 h-6\"\n    >\n      <fluent-icon\n        :icon=\"computedInboxIcon\"\n        size=\"14\"\n        class=\"text-slate-800 dark:text-slate-200\"\n      />\n    </span>\n    <div class=\"flex flex-col w-full min-w-0 ml-1 mr-1\">\n      <h5 class=\"option__title\">\n        {{ name }}\n      </h5>\n      <p\n        class=\"option__body overflow-hidden whitespace-nowrap text-ellipsis\"\n        :title=\"inboxIdentifier\"\n      >\n        {{ inboxIdentifier || computedInboxType }}\n      </p>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.option__body {\n  @apply inline-block text-slate-600 dark:text-slate-200 leading-[1.3] min-w-0 m-0;\n}\n.option__title {\n  @apply leading-[1.1] text-xs m-0 text-slate-800 dark:text-slate-100;\n}\n</style>\n","import { render, staticRenderFns } from \"./InboxDropdownItem.vue?vue&type=template&id=de1a3978&scoped=true&\"\nimport script from \"./InboxDropdownItem.vue?vue&type=script&lang=js&\"\nexport * from \"./InboxDropdownItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./InboxDropdownItem.vue?vue&type=style&index=0&id=de1a3978&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"de1a3978\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex items-center h-[2.375rem] min-w-0 py-0 px-1\"},[_c('span',{staticClass:\"inline-flex rounded mr-1 rtl:ml-1 rtl:mr-0 bg-slate-25 dark:bg-slate-700 p-0.5 items-center flex-shrink-0 justify-center w-6 h-6\"},[_c('fluent-icon',{staticClass:\"text-slate-800 dark:text-slate-200\",attrs:{\"icon\":_vm.computedInboxIcon,\"size\":\"14\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col w-full min-w-0 ml-1 mr-1\"},[_c('h5',{staticClass:\"option__title\"},[_vm._v(\"\\n      \"+_vm._s(_vm.name)+\"\\n    \")]),_vm._v(\" \"),_c('p',{staticClass:\"option__body overflow-hidden whitespace-nowrap text-ellipsis\",attrs:{\"title\":_vm.inboxIdentifier}},[_vm._v(\"\\n      \"+_vm._s(_vm.inboxIdentifier || _vm.computedInboxType)+\"\\n    \")])])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WhatsappTemplates.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WhatsappTemplates.vue?vue&type=script&lang=js&\"","<script>\nimport TemplatesPicker from 'dashboard/components/widgets/conversation/WhatsappTemplates/TemplatesPicker.vue';\nimport TemplateParser from 'dashboard/components/widgets/conversation/WhatsappTemplates/TemplateParser.vue';\nexport default {\n  components: {\n    TemplatesPicker,\n    TemplateParser,\n  },\n  props: {\n    inboxId: {\n      type: Number,\n      default: undefined,\n    },\n  },\n  data() {\n    return {\n      selectedWaTemplate: null,\n    };\n  },\n  methods: {\n    pickTemplate(template) {\n      this.$emit('pickTemplate', true);\n      this.selectedWaTemplate = template;\n    },\n    onResetTemplate() {\n      this.$emit('pickTemplate', false);\n      this.selectedWaTemplate = null;\n    },\n    onSendMessage(message) {\n      this.$emit('onSend', message);\n    },\n    onClose() {\n      this.$emit('cancel');\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex flex-wrap mx-0\">\n    <TemplatesPicker\n      v-if=\"!selectedWaTemplate\"\n      :inbox-id=\"inboxId\"\n      @onSelect=\"pickTemplate\"\n    />\n    <TemplateParser\n      v-else\n      :template=\"selectedWaTemplate\"\n      @resetTemplate=\"onResetTemplate\"\n      @sendMessage=\"onSendMessage\"\n    />\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./WhatsappTemplates.vue?vue&type=template&id=34a596e4&\"\nimport script from \"./WhatsappTemplates.vue?vue&type=script&lang=js&\"\nexport * from \"./WhatsappTemplates.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-wrap mx-0\"},[(!_vm.selectedWaTemplate)?_c('TemplatesPicker',{attrs:{\"inbox-id\":_vm.inboxId},on:{\"onSelect\":_vm.pickTemplate}}):_c('TemplateParser',{attrs:{\"template\":_vm.selectedWaTemplate},on:{\"resetTemplate\":_vm.onResetTemplate,\"sendMessage\":_vm.onSendMessage}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\nimport { useUISettings } from 'dashboard/composables/useUISettings';\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport WootMessageEditor from 'dashboard/components/widgets/WootWriter/Editor.vue';\nimport ReplyEmailHead from 'dashboard/components/widgets/conversation/ReplyEmailHead.vue';\nimport CannedResponse from 'dashboard/components/widgets/conversation/CannedResponse.vue';\nimport MessageSignatureMissingAlert from 'dashboard/components/widgets/conversation/MessageSignatureMissingAlert';\nimport InboxDropdownItem from 'dashboard/components/widgets/InboxDropdownItem.vue';\nimport WhatsappTemplates from './WhatsappTemplates.vue';\nimport { INBOX_TYPES } from 'shared/mixins/inboxMixin';\nimport { ExceptionWithMessage } from 'shared/helpers/CustomErrors';\nimport { getInboxSource } from 'dashboard/helper/inbox';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required, requiredIf } from '@vuelidate/validators';\nimport inboxMixin from 'shared/mixins/inboxMixin';\nimport FileUpload from 'vue-upload-component';\nimport AttachmentPreview from 'dashboard/components/widgets/AttachmentsPreview';\nimport { ALLOWED_FILE_TYPES } from 'shared/constants/messages';\nimport fileUploadMixin from 'dashboard/mixins/fileUploadMixin';\nimport {\n  appendSignature,\n  removeSignature,\n} from 'dashboard/helper/editorHelper';\n\nexport default {\n  components: {\n    Thumbnail,\n    WootMessageEditor,\n    ReplyEmailHead,\n    CannedResponse,\n    WhatsappTemplates,\n    InboxDropdownItem,\n    FileUpload,\n    AttachmentPreview,\n    MessageSignatureMissingAlert,\n  },\n  mixins: [inboxMixin, fileUploadMixin],\n  props: {\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n    onSubmit: {\n      type: Function,\n      default: () => {},\n    },\n  },\n  setup() {\n    const { fetchSignatureFlagFromUISettings, setSignatureFlagForInbox } =\n      useUISettings();\n    const v$ = useVuelidate();\n\n    return { fetchSignatureFlagFromUISettings, setSignatureFlagForInbox, v$ };\n  },\n  data() {\n    return {\n      name: '',\n      subject: '',\n      message: '',\n      showCannedResponseMenu: false,\n      cannedResponseSearchKey: '',\n      bccEmails: '',\n      ccEmails: '',\n      targetInbox: {},\n      whatsappTemplateSelected: false,\n      attachedFiles: [],\n    };\n  },\n  validations() {\n    return {\n      subject: {\n        required: requiredIf(this.isAnEmailInbox),\n      },\n      message: {\n        required,\n      },\n      targetInbox: {\n        required,\n      },\n    };\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'contacts/getUIFlags',\n      conversationsUiFlags: 'contactConversations/getUIFlags',\n      currentUser: 'getCurrentUser',\n      globalConfig: 'globalConfig/get',\n      messageSignature: 'getMessageSignature',\n    }),\n    sendWithSignature() {\n      return this.fetchSignatureFlagFromUISettings(this.channelType);\n    },\n    signatureToApply() {\n      return this.messageSignature;\n    },\n    newMessagePayload() {\n      const payload = {\n        inboxId: this.targetInbox.id,\n        sourceId: this.targetInbox.sourceId,\n        contactId: this.contact.id,\n        message: { content: this.message },\n        mailSubject: this.subject,\n        assigneeId: this.currentUser.id,\n      };\n\n      if (this.attachedFiles && this.attachedFiles.length) {\n        payload.files = [];\n        this.setAttachmentPayload(payload);\n      }\n\n      if (this.ccEmails) {\n        payload.message.cc_emails = this.ccEmails;\n      }\n\n      if (this.bccEmails) {\n        payload.message.bcc_emails = this.bccEmails;\n      }\n      return payload;\n    },\n    selectedInbox: {\n      get() {\n        const inboxList = this.contact.contactableInboxes || [];\n        return (\n          inboxList.find(inbox => {\n            return inbox.inbox?.id && inbox.inbox?.id === this.targetInbox?.id;\n          }) || {\n            inbox: {},\n          }\n        );\n      },\n      set(value) {\n        this.targetInbox = value.inbox;\n      },\n    },\n    showNoInboxAlert() {\n      if (!this.contact.contactableInboxes) {\n        return false;\n      }\n      return this.inboxes.length === 0 && !this.uiFlags.isFetchingInboxes;\n    },\n    isSignatureEnabledForInbox() {\n      return this.isAnEmailInbox && this.sendWithSignature;\n    },\n    signatureToggleTooltip() {\n      return this.sendWithSignature\n        ? this.$t('CONVERSATION.FOOTER.DISABLE_SIGN_TOOLTIP')\n        : this.$t('CONVERSATION.FOOTER.ENABLE_SIGN_TOOLTIP');\n    },\n    inboxes() {\n      const inboxList = this.contact.contactableInboxes || [];\n      return inboxList.map(inbox => ({\n        ...inbox.inbox,\n        sourceId: inbox.source_id,\n      }));\n    },\n    isAnEmailInbox() {\n      return (\n        this.selectedInbox &&\n        this.selectedInbox.inbox.channel_type === INBOX_TYPES.EMAIL\n      );\n    },\n    isAnWebWidgetInbox() {\n      return (\n        this.selectedInbox &&\n        this.selectedInbox.inbox.channel_type === INBOX_TYPES.WEB\n      );\n    },\n    isEmailOrWebWidgetInbox() {\n      return this.isAnEmailInbox || this.isAnWebWidgetInbox;\n    },\n    hasWhatsappTemplates() {\n      return !!this.selectedInbox.inbox?.message_templates;\n    },\n    hasAttachments() {\n      return this.attachedFiles.length;\n    },\n    inbox() {\n      return this.targetInbox;\n    },\n    allowedFileTypes() {\n      return ALLOWED_FILE_TYPES;\n    },\n  },\n  watch: {\n    message(value) {\n      this.hasSlashCommand = value[0] === '/' && !this.isEmailOrWebWidgetInbox;\n      const hasNextWord = value.includes(' ');\n      const isShortCodeActive = this.hasSlashCommand && !hasNextWord;\n      if (isShortCodeActive) {\n        this.cannedResponseSearchKey = value.substring(1);\n        this.showCannedResponseMenu = true;\n      } else {\n        this.cannedResponseSearchKey = '';\n        this.showCannedResponseMenu = false;\n      }\n    },\n    targetInbox() {\n      this.setSignature();\n    },\n  },\n  mounted() {\n    this.setSignature();\n  },\n  methods: {\n    setSignature() {\n      if (this.messageSignature) {\n        if (this.isSignatureEnabledForInbox) {\n          this.message = appendSignature(this.message, this.signatureToApply);\n        } else {\n          this.message = removeSignature(this.message, this.signatureToApply);\n        }\n      }\n    },\n    setAttachmentPayload(payload) {\n      this.attachedFiles.forEach(attachment => {\n        if (this.globalConfig.directUploadsEnabled) {\n          payload.files.push(attachment.blobSignedId);\n        } else {\n          payload.files.push(attachment.resource.file);\n        }\n      });\n    },\n    attachFile({ blob, file }) {\n      const reader = new FileReader();\n      reader.readAsDataURL(file.file);\n      reader.onloadend = () => {\n        this.attachedFiles.push({\n          currentChatId: this.contact.id,\n          resource: blob || file,\n          isPrivate: this.isPrivate,\n          thumb: reader.result,\n          blobSignedId: blob ? blob.signed_id : undefined,\n        });\n      };\n    },\n    removeAttachment(attachments) {\n      this.attachedFiles = attachments;\n    },\n    onCancel() {\n      this.$emit('cancel');\n    },\n    onSuccess() {\n      this.$emit('success');\n    },\n    replaceTextWithCannedResponse(message) {\n      this.message = message;\n    },\n    toggleCannedMenu(value) {\n      this.showCannedMenu = value;\n    },\n    prepareWhatsAppMessagePayload({ message: content, templateParams }) {\n      const payload = {\n        inboxId: this.targetInbox.id,\n        sourceId: this.targetInbox.sourceId,\n        contactId: this.contact.id,\n        message: { content, template_params: templateParams },\n        assigneeId: this.currentUser.id,\n      };\n      return payload;\n    },\n    onFormSubmit() {\n      const isFromWhatsApp = false;\n      this.v$.$touch();\n      if (this.v$.$invalid) {\n        return;\n      }\n      this.createConversation({\n        payload: this.newMessagePayload,\n        isFromWhatsApp,\n      });\n    },\n    async createConversation({ payload, isFromWhatsApp }) {\n      try {\n        const data = await this.onSubmit(payload, isFromWhatsApp);\n        const action = {\n          type: 'link',\n          to: `/app/accounts/${data.account_id}/conversations/${data.id}`,\n          message: this.$t('NEW_CONVERSATION.FORM.GO_TO_CONVERSATION'),\n        };\n        this.onSuccess();\n        useAlert(this.$t('NEW_CONVERSATION.FORM.SUCCESS_MESSAGE'), action);\n      } catch (error) {\n        if (error instanceof ExceptionWithMessage) {\n          useAlert(error.data);\n        } else {\n          useAlert(this.$t('NEW_CONVERSATION.FORM.ERROR_MESSAGE'));\n        }\n      }\n    },\n\n    toggleWaTemplate(val) {\n      this.whatsappTemplateSelected = val;\n    },\n    async onSendWhatsAppReply(messagePayload) {\n      const isFromWhatsApp = true;\n      const payload = this.prepareWhatsAppMessagePayload(messagePayload);\n      await this.createConversation({ payload, isFromWhatsApp });\n    },\n    inboxReadableIdentifier(inbox) {\n      return `${inbox.name} (${inbox.channel_type})`;\n    },\n    computedInboxSource(inbox) {\n      if (!inbox.channel_type) return '';\n      const classByType = getInboxSource(\n        inbox.channel_type,\n        inbox.phone_number,\n        inbox\n      );\n      return classByType;\n    },\n    toggleMessageSignature() {\n      this.setSignatureFlagForInbox(this.channelType, !this.sendWithSignature);\n      this.setSignature();\n    },\n  },\n};\n</script>\n\n<!-- eslint-disable vue/prefer-true-attribute-shorthand -->\n<template>\n  <form class=\"w-full conversation--form\" @submit.prevent=\"onFormSubmit\">\n    <div\n      v-if=\"showNoInboxAlert\"\n      class=\"relative mx-0 mt-0 mb-2.5 p-2 rounded-none text-sm border border-solid border-yellow-500 dark:border-yellow-700 bg-yellow-200/60 dark:bg-yellow-200/20 text-slate-700 dark:text-yellow-400\"\n    >\n      <p class=\"mb-0\">\n        {{ $t('NEW_CONVERSATION.NO_INBOX') }}\n      </p>\n    </div>\n    <div v-else>\n      <div class=\"flex flex-row gap-2\">\n        <div class=\"w-[50%]\">\n          <label>\n            {{ $t('NEW_CONVERSATION.FORM.INBOX.LABEL') }}\n          </label>\n          <div\n            class=\"multiselect-wrap--small\"\n            :class=\"{ 'has-multi-select-error': v$.targetInbox.$error }\"\n          >\n            <multiselect\n              v-model=\"targetInbox\"\n              track-by=\"id\"\n              label=\"name\"\n              :placeholder=\"$t('FORMS.MULTISELECT.SELECT')\"\n              selected-label=\"\"\n              select-label=\"\"\n              deselect-label=\"\"\n              :max-height=\"160\"\n              close-on-select\n              :options=\"[...inboxes]\"\n            >\n              <template slot=\"singleLabel\" slot-scope=\"{ option }\">\n                <InboxDropdownItem\n                  v-if=\"option.name\"\n                  :name=\"option.name\"\n                  :inbox-identifier=\"computedInboxSource(option)\"\n                  :channel-type=\"option.channel_type\"\n                />\n                <span v-else>\n                  {{ $t('NEW_CONVERSATION.FORM.INBOX.PLACEHOLDER') }}\n                </span>\n              </template>\n              <template slot=\"option\" slot-scope=\"{ option }\">\n                <InboxDropdownItem\n                  :name=\"option.name\"\n                  :inbox-identifier=\"computedInboxSource(option)\"\n                  :channel-type=\"option.channel_type\"\n                />\n              </template>\n            </multiselect>\n          </div>\n          <label :class=\"{ error: v$.targetInbox.$error }\">\n            <span v-if=\"v$.targetInbox.$error\" class=\"message\">\n              {{ $t('NEW_CONVERSATION.FORM.INBOX.ERROR') }}\n            </span>\n          </label>\n        </div>\n        <div class=\"w-[50%]\">\n          <label>\n            {{ $t('NEW_CONVERSATION.FORM.TO.LABEL') }}\n            <div\n              class=\"flex items-center h-[2.4735rem] rounded-sm py-1 px-2 bg-slate-25 dark:bg-slate-900 border border-solid border-slate-75 dark:border-slate-600\"\n            >\n              <Thumbnail\n                :src=\"contact.thumbnail\"\n                size=\"24px\"\n                :username=\"contact.name\"\n                :status=\"contact.availability_status\"\n              />\n              <h4\n                class=\"m-0 ml-2 mr-2 text-sm text-slate-700 dark:text-slate-100\"\n              >\n                {{ contact.name }}\n              </h4>\n            </div>\n          </label>\n        </div>\n      </div>\n      <div v-if=\"isAnEmailInbox\" class=\"w-full\">\n        <div class=\"w-full\">\n          <label :class=\"{ error: v$.subject.$error }\">\n            {{ $t('NEW_CONVERSATION.FORM.SUBJECT.LABEL') }}\n            <input\n              v-model=\"subject\"\n              type=\"text\"\n              :placeholder=\"$t('NEW_CONVERSATION.FORM.SUBJECT.PLACEHOLDER')\"\n              @input=\"v$.subject.$touch\"\n            />\n            <span v-if=\"v$.subject.$error\" class=\"message\">\n              {{ $t('NEW_CONVERSATION.FORM.SUBJECT.ERROR') }}\n            </span>\n          </label>\n        </div>\n      </div>\n      <div class=\"w-full\">\n        <div class=\"w-full\">\n          <div class=\"relative\">\n            <CannedResponse\n              v-if=\"showCannedResponseMenu && hasSlashCommand\"\n              :search-key=\"cannedResponseSearchKey\"\n              @click=\"replaceTextWithCannedResponse\"\n            />\n          </div>\n          <div v-if=\"isEmailOrWebWidgetInbox\">\n            <label>\n              {{ $t('NEW_CONVERSATION.FORM.MESSAGE.LABEL') }}\n            </label>\n            <ReplyEmailHead\n              v-if=\"isAnEmailInbox\"\n              :cc-emails.sync=\"ccEmails\"\n              :bcc-emails.sync=\"bccEmails\"\n            />\n            <div class=\"editor-wrap\">\n              <WootMessageEditor\n                v-model=\"message\"\n                class=\"message-editor\"\n                :class=\"{ editor_warning: v$.message.$error }\"\n                enable-variables\n                :signature=\"signatureToApply\"\n                allow-signature\n                :placeholder=\"$t('NEW_CONVERSATION.FORM.MESSAGE.PLACEHOLDER')\"\n                @toggle-canned-menu=\"toggleCannedMenu\"\n                @blur=\"v$.message.$touch\"\n              >\n                <template #footer>\n                  <MessageSignatureMissingAlert\n                    v-if=\"isSignatureEnabledForInbox && !messageSignature\"\n                    class=\"!mx-0 mb-1\"\n                  />\n                  <div v-if=\"isAnEmailInbox\" class=\"mt-px mb-3\">\n                    <woot-button\n                      v-tooltip.top-end=\"signatureToggleTooltip\"\n                      icon=\"signature\"\n                      color-scheme=\"secondary\"\n                      variant=\"smooth\"\n                      size=\"small\"\n                      :title=\"signatureToggleTooltip\"\n                      @click.prevent=\"toggleMessageSignature\"\n                    />\n                  </div>\n                </template>\n              </WootMessageEditor>\n              <span v-if=\"v$.message.$error\" class=\"editor-warning__message\">\n                {{ $t('NEW_CONVERSATION.FORM.MESSAGE.ERROR') }}\n              </span>\n            </div>\n          </div>\n          <WhatsappTemplates\n            v-else-if=\"hasWhatsappTemplates\"\n            :inbox-id=\"selectedInbox.inbox.id\"\n            @on-select-template=\"toggleWaTemplate\"\n            @onSend=\"onSendWhatsAppReply\"\n          />\n          <label v-else :class=\"{ error: v$.message.$error }\">\n            {{ $t('NEW_CONVERSATION.FORM.MESSAGE.LABEL') }}\n            <textarea\n              v-model=\"message\"\n              class=\"min-h-[5rem]\"\n              type=\"text\"\n              :placeholder=\"$t('NEW_CONVERSATION.FORM.MESSAGE.PLACEHOLDER')\"\n              @input=\"v$.message.$touch\"\n            />\n            <span v-if=\"v$.message.$error\" class=\"message\">\n              {{ $t('NEW_CONVERSATION.FORM.MESSAGE.ERROR') }}\n            </span>\n          </label>\n          <div v-if=\"isEmailOrWebWidgetInbox\" class=\"flex flex-col\">\n            <FileUpload\n              ref=\"uploadAttachment\"\n              input-id=\"newConversationAttachment\"\n              :size=\"4096 * 4096\"\n              :accept=\"allowedFileTypes\"\n              multiple\n              :drop=\"true\"\n              :drop-directory=\"false\"\n              :data=\"{\n                direct_upload_url: '/rails/active_storage/direct_uploads',\n                direct_upload: true,\n              }\"\n              @input-file=\"onFileUpload\"\n            >\n              <woot-button\n                class-names=\"button--upload\"\n                icon=\"attach\"\n                emoji=\"\"\n                color-scheme=\"secondary\"\n                variant=\"smooth\"\n                size=\"small\"\n              >\n                {{ $t('NEW_CONVERSATION.FORM.ATTACHMENTS.SELECT') }}\n              </woot-button>\n              <span\n                class=\"text-xs font-medium text-slate-500 ltr:ml-1 rtl:mr-1 dark:text-slate-400\"\n              >\n                {{ $t('NEW_CONVERSATION.FORM.ATTACHMENTS.HELP_TEXT') }}\n              </span>\n            </FileUpload>\n            <div\n              v-if=\"hasAttachments\"\n              class=\"max-h-20 overflow-y-auto mb-4 mt-1.5\"\n            >\n              <AttachmentPreview\n                class=\"[&>.preview-item]:dark:bg-slate-700 flex-row flex-wrap gap-x-3 gap-y-1\"\n                :attachments=\"attachedFiles\"\n                @removeAttachment=\"removeAttachment\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div\n      v-if=\"!hasWhatsappTemplates\"\n      class=\"flex flex-row justify-end w-full gap-2 px-0 py-2\"\n    >\n      <button class=\"button clear\" @click.prevent=\"onCancel\">\n        {{ $t('NEW_CONVERSATION.FORM.CANCEL') }}\n      </button>\n      <woot-button type=\"submit\" :is-loading=\"conversationsUiFlags.isCreating\">\n        {{ $t('NEW_CONVERSATION.FORM.SUBMIT') }}\n      </woot-button>\n    </div>\n\n    <transition v-if=\"isEmailOrWebWidgetInbox\" name=\"modal-fade\">\n      <div\n        v-show=\"$refs.uploadAttachment && $refs.uploadAttachment.dropActive\"\n        class=\"absolute top-0 bottom-0 left-0 right-0 z-30 flex flex-col items-center justify-center w-full h-full gap-2 bg-white/80 dark:bg-slate-700/80\"\n      >\n        <fluent-icon icon=\"cloud-backup\" size=\"40\" />\n        <h4 class=\"text-2xl break-words text-slate-600 dark:text-slate-200\">\n          {{ $t('CONVERSATION.REPLYBOX.DRAG_DROP') }}\n        </h4>\n      </div>\n    </transition>\n  </form>\n</template>\n\n<style scoped lang=\"scss\">\n.conversation--form {\n  @apply pt-4 px-8 pb-8;\n}\n\n.message-editor {\n  @apply px-3;\n\n  ::v-deep {\n    .ProseMirror-menubar {\n      @apply rounded-tl-[4px];\n    }\n  }\n}\n\n.file-uploads {\n  @apply text-start;\n}\n\n.multiselect-wrap--small.has-multi-select-error {\n  ::v-deep {\n    .multiselect__tags {\n      @apply border-red-500;\n    }\n  }\n}\n\n::v-deep {\n  .mention--box {\n    @apply left-0 m-auto right-0 top-auto h-fit;\n  }\n\n  .multiselect .multiselect__content .multiselect__option span {\n    @apply inline-flex w-6 text-slate-600 dark:text-slate-400;\n  }\n\n  .multiselect .multiselect__content .multiselect__option {\n    @apply py-0.5 px-1;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConversationForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ConversationForm.vue?vue&type=template&id=c917a900&scoped=true&\"\nimport script from \"./ConversationForm.vue?vue&type=script&lang=js&\"\nexport * from \"./ConversationForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ConversationForm.vue?vue&type=style&index=0&id=c917a900&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c917a900\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{staticClass:\"w-full conversation--form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onFormSubmit.apply(null, arguments)}}},[(_vm.showNoInboxAlert)?_c('div',{staticClass:\"relative mx-0 mt-0 mb-2.5 p-2 rounded-none text-sm border border-solid border-yellow-500 dark:border-yellow-700 bg-yellow-200/60 dark:bg-yellow-200/20 text-slate-700 dark:text-yellow-400\"},[_c('p',{staticClass:\"mb-0\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('NEW_CONVERSATION.NO_INBOX'))+\"\\n    \")])]):_c('div',[_c('div',{staticClass:\"flex flex-row gap-2\"},[_c('div',{staticClass:\"w-[50%]\"},[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.INBOX.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"multiselect-wrap--small\",class:{ 'has-multi-select-error': _vm.v$.targetInbox.$error }},[_c('multiselect',{attrs:{\"track-by\":\"id\",\"label\":\"name\",\"placeholder\":_vm.$t('FORMS.MULTISELECT.SELECT'),\"selected-label\":\"\",\"select-label\":\"\",\"deselect-label\":\"\",\"max-height\":160,\"close-on-select\":\"\",\"options\":[..._vm.inboxes]},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function({ option }){return [(option.name)?_c('InboxDropdownItem',{attrs:{\"name\":option.name,\"inbox-identifier\":_vm.computedInboxSource(option),\"channel-type\":option.channel_type}}):_c('span',[_vm._v(\"\\n                \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.INBOX.PLACEHOLDER'))+\"\\n              \")])]}},{key:\"option\",fn:function({ option }){return [_c('InboxDropdownItem',{attrs:{\"name\":option.name,\"inbox-identifier\":_vm.computedInboxSource(option),\"channel-type\":option.channel_type}})]}}]),model:{value:(_vm.targetInbox),callback:function ($$v) {_vm.targetInbox=$$v},expression:\"targetInbox\"}})],1),_vm._v(\" \"),_c('label',{class:{ error: _vm.v$.targetInbox.$error }},[(_vm.v$.targetInbox.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.INBOX.ERROR'))+\"\\n          \")]):_vm._e()])]),_vm._v(\" \"),_c('div',{staticClass:\"w-[50%]\"},[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.TO.LABEL'))+\"\\n          \"),_c('div',{staticClass:\"flex items-center h-[2.4735rem] rounded-sm py-1 px-2 bg-slate-25 dark:bg-slate-900 border border-solid border-slate-75 dark:border-slate-600\"},[_c('Thumbnail',{attrs:{\"src\":_vm.contact.thumbnail,\"size\":\"24px\",\"username\":_vm.contact.name,\"status\":_vm.contact.availability_status}}),_vm._v(\" \"),_c('h4',{staticClass:\"m-0 ml-2 mr-2 text-sm text-slate-700 dark:text-slate-100\"},[_vm._v(\"\\n              \"+_vm._s(_vm.contact.name)+\"\\n            \")])],1)])])]),_vm._v(\" \"),(_vm.isAnEmailInbox)?_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"w-full\"},[_c('label',{class:{ error: _vm.v$.subject.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.SUBJECT.LABEL'))+\"\\n          \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.subject),expression:\"subject\"}],attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('NEW_CONVERSATION.FORM.SUBJECT.PLACEHOLDER')},domProps:{\"value\":(_vm.subject)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.subject=$event.target.value},_vm.v$.subject.$touch]}}),_vm._v(\" \"),(_vm.v$.subject.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.SUBJECT.ERROR'))+\"\\n          \")]):_vm._e()])])]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"w-full\"},[_c('div',{staticClass:\"relative\"},[(_vm.showCannedResponseMenu && _vm.hasSlashCommand)?_c('CannedResponse',{attrs:{\"search-key\":_vm.cannedResponseSearchKey},on:{\"click\":_vm.replaceTextWithCannedResponse}}):_vm._e()],1),_vm._v(\" \"),(_vm.isEmailOrWebWidgetInbox)?_c('div',[_c('label',[_vm._v(\"\\n            \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.LABEL'))+\"\\n          \")]),_vm._v(\" \"),(_vm.isAnEmailInbox)?_c('ReplyEmailHead',{attrs:{\"cc-emails\":_vm.ccEmails,\"bcc-emails\":_vm.bccEmails},on:{\"update:ccEmails\":function($event){_vm.ccEmails=$event},\"update:cc-emails\":function($event){_vm.ccEmails=$event},\"update:bccEmails\":function($event){_vm.bccEmails=$event},\"update:bcc-emails\":function($event){_vm.bccEmails=$event}}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"editor-wrap\"},[_c('WootMessageEditor',{staticClass:\"message-editor\",class:{ editor_warning: _vm.v$.message.$error },attrs:{\"enable-variables\":\"\",\"signature\":_vm.signatureToApply,\"allow-signature\":\"\",\"placeholder\":_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.PLACEHOLDER')},on:{\"toggle-canned-menu\":_vm.toggleCannedMenu,\"blur\":_vm.v$.message.$touch},scopedSlots:_vm._u([{key:\"footer\",fn:function(){return [(_vm.isSignatureEnabledForInbox && !_vm.messageSignature)?_c('MessageSignatureMissingAlert',{staticClass:\"!mx-0 mb-1\"}):_vm._e(),_vm._v(\" \"),(_vm.isAnEmailInbox)?_c('div',{staticClass:\"mt-px mb-3\"},[_c('woot-button',{directives:[{name:\"tooltip\",rawName:\"v-tooltip.top-end\",value:(_vm.signatureToggleTooltip),expression:\"signatureToggleTooltip\",modifiers:{\"top-end\":true}}],attrs:{\"icon\":\"signature\",\"color-scheme\":\"secondary\",\"variant\":\"smooth\",\"size\":\"small\",\"title\":_vm.signatureToggleTooltip},on:{\"click\":function($event){$event.preventDefault();return _vm.toggleMessageSignature.apply(null, arguments)}}})],1):_vm._e()]},proxy:true}],null,false,200679009),model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),_vm._v(\" \"),(_vm.v$.message.$error)?_c('span',{staticClass:\"editor-warning__message\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.ERROR'))+\"\\n            \")]):_vm._e()],1)],1):(_vm.hasWhatsappTemplates)?_c('WhatsappTemplates',{attrs:{\"inbox-id\":_vm.selectedInbox.inbox.id},on:{\"on-select-template\":_vm.toggleWaTemplate,\"onSend\":_vm.onSendWhatsAppReply}}):_c('label',{class:{ error: _vm.v$.message.$error }},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.LABEL'))+\"\\n          \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],staticClass:\"min-h-[5rem]\",attrs:{\"type\":\"text\",\"placeholder\":_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.PLACEHOLDER')},domProps:{\"value\":(_vm.message)},on:{\"input\":[function($event){if($event.target.composing)return;_vm.message=$event.target.value},_vm.v$.message.$touch]}}),_vm._v(\" \"),(_vm.v$.message.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.MESSAGE.ERROR'))+\"\\n          \")]):_vm._e()]),_vm._v(\" \"),(_vm.isEmailOrWebWidgetInbox)?_c('div',{staticClass:\"flex flex-col\"},[_c('FileUpload',{ref:\"uploadAttachment\",attrs:{\"input-id\":\"newConversationAttachment\",\"size\":4096 * 4096,\"accept\":_vm.allowedFileTypes,\"multiple\":\"\",\"drop\":true,\"drop-directory\":false,\"data\":{\n              direct_upload_url: '/rails/active_storage/direct_uploads',\n              direct_upload: true,\n            }},on:{\"input-file\":_vm.onFileUpload}},[_c('woot-button',{attrs:{\"class-names\":\"button--upload\",\"icon\":\"attach\",\"emoji\":\"\",\"color-scheme\":\"secondary\",\"variant\":\"smooth\",\"size\":\"small\"}},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.ATTACHMENTS.SELECT'))+\"\\n            \")]),_vm._v(\" \"),_c('span',{staticClass:\"text-xs font-medium text-slate-500 ltr:ml-1 rtl:mr-1 dark:text-slate-400\"},[_vm._v(\"\\n              \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.ATTACHMENTS.HELP_TEXT'))+\"\\n            \")])],1),_vm._v(\" \"),(_vm.hasAttachments)?_c('div',{staticClass:\"max-h-20 overflow-y-auto mb-4 mt-1.5\"},[_c('AttachmentPreview',{staticClass:\"[&>.preview-item]:dark:bg-slate-700 flex-row flex-wrap gap-x-3 gap-y-1\",attrs:{\"attachments\":_vm.attachedFiles},on:{\"removeAttachment\":_vm.removeAttachment}})],1):_vm._e()],1):_vm._e()],1)])]),_vm._v(\" \"),(!_vm.hasWhatsappTemplates)?_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('button',{staticClass:\"button clear\",on:{\"click\":function($event){$event.preventDefault();return _vm.onCancel.apply(null, arguments)}}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.CANCEL'))+\"\\n    \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"type\":\"submit\",\"is-loading\":_vm.conversationsUiFlags.isCreating}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('NEW_CONVERSATION.FORM.SUBMIT'))+\"\\n    \")])],1):_vm._e(),_vm._v(\" \"),(_vm.isEmailOrWebWidgetInbox)?_c('transition',{attrs:{\"name\":\"modal-fade\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.$refs.uploadAttachment && _vm.$refs.uploadAttachment.dropActive),expression:\"$refs.uploadAttachment && $refs.uploadAttachment.dropActive\"}],staticClass:\"absolute top-0 bottom-0 left-0 right-0 z-30 flex flex-col items-center justify-center w-full h-full gap-2 bg-white/80 dark:bg-slate-700/80\"},[_c('fluent-icon',{attrs:{\"icon\":\"cloud-backup\",\"size\":\"40\"}}),_vm._v(\" \"),_c('h4',{staticClass:\"text-2xl break-words text-slate-600 dark:text-slate-200\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONVERSATION.REPLYBOX.DRAG_DROP'))+\"\\n      \")])],1)]):_vm._e()],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport ConversationForm from './ConversationForm.vue';\n\nexport default {\n  components: {\n    ConversationForm,\n  },\n  props: {\n    show: {\n      type: Boolean,\n      default: false,\n    },\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n  },\n  watch: {\n    'contact.id'(id) {\n      this.$store.dispatch('contacts/fetchContactableInbox', id);\n    },\n  },\n  mounted() {\n    const { id } = this.contact;\n    this.$store.dispatch('contacts/fetchContactableInbox', id);\n  },\n  methods: {\n    onCancel() {\n      this.$emit('cancel');\n    },\n    onSuccess() {\n      this.$emit('cancel');\n    },\n    async onSubmit(params, isFromWhatsApp) {\n      const data = await this.$store.dispatch('contactConversations/create', {\n        params,\n        isFromWhatsApp,\n      });\n      return data;\n    },\n  },\n};\n</script>\n\n<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <woot-modal :show.sync=\"show\" :on-close=\"onCancel\">\n    <div class=\"flex flex-col h-auto overflow-auto\">\n      <woot-modal-header\n        :header-title=\"$t('NEW_CONVERSATION.TITLE')\"\n        :header-content=\"$t('NEW_CONVERSATION.DESC')\"\n      />\n      <ConversationForm\n        :contact=\"contact\"\n        :on-submit=\"onSubmit\"\n        @success=\"onSuccess\"\n        @cancel=\"onCancel\"\n      />\n    </div>\n  </woot-modal>\n</template>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConversation.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NewConversation.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NewConversation.vue?vue&type=template&id=1d674dd7&\"\nimport script from \"./NewConversation.vue?vue&type=script&lang=js&\"\nexport * from \"./NewConversation.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onCancel},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('div',{staticClass:\"flex flex-col h-auto overflow-auto\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('NEW_CONVERSATION.TITLE'),\"header-content\":_vm.$t('NEW_CONVERSATION.DESC')}}),_vm._v(\" \"),_c('ConversationForm',{attrs:{\"contact\":_vm.contact,\"on-submit\":_vm.onSubmit},on:{\"success\":_vm.onSuccess,\"cancel\":_vm.onCancel}})],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MergeContactSummary.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MergeContactSummary.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  props: {\n    primaryContactName: {\n      type: String,\n      default: '',\n    },\n    parentContactName: {\n      type: String,\n      default: '',\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"parentContactName\"\n    class=\"my-4 relative p-2.5 border rounded-[4px] text-slate-800 dark:text-slate-100 border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800\"\n  >\n    <h5 class=\"text-base font-medium text-slate-900 dark:text-white\">\n      {{ $t('MERGE_CONTACTS.SUMMARY.TITLE') }}\n    </h5>\n    <ul class=\"ml-0 list-none\">\n      <li>\n        <span class=\"inline-block mr-1\"></span>\n        <span\n          v-dompurify-html=\"\n            $t('MERGE_CONTACTS.SUMMARY.DELETE_WARNING', {\n              primaryContactName,\n            })\n          \"\n        />\n      </li>\n      <li>\n        <span class=\"inline-block mr-1\"></span>\n        <span\n          v-dompurify-html=\"\n            $t('MERGE_CONTACTS.SUMMARY.ATTRIBUTE_WARNING', {\n              primaryContactName,\n              parentContactName,\n            })\n          \"\n        />\n      </li>\n    </ul>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./MergeContactSummary.vue?vue&type=template&id=64468577&\"\nimport script from \"./MergeContactSummary.vue?vue&type=script&lang=js&\"\nexport * from \"./MergeContactSummary.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.parentContactName)?_c('div',{staticClass:\"my-4 relative p-2.5 border rounded-[4px] text-slate-800 dark:text-slate-100 border-slate-100 dark:border-slate-700 bg-white dark:bg-slate-800\"},[_c('h5',{staticClass:\"text-base font-medium text-slate-900 dark:text-white\"},[_vm._v(\"\\n    \"+_vm._s(_vm.$t('MERGE_CONTACTS.SUMMARY.TITLE'))+\"\\n  \")]),_vm._v(\" \"),_c('ul',{staticClass:\"ml-0 list-none\"},[_c('li',[_c('span',{staticClass:\"inline-block mr-1\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(\n          _vm.$t('MERGE_CONTACTS.SUMMARY.DELETE_WARNING', {\n            primaryContactName: _vm.primaryContactName,\n          })\n        ),expression:\"\\n          $t('MERGE_CONTACTS.SUMMARY.DELETE_WARNING', {\\n            primaryContactName,\\n          })\\n        \"}]})]),_vm._v(\" \"),_c('li',[_c('span',{staticClass:\"inline-block mr-1\"},[_vm._v(\"\")]),_vm._v(\" \"),_c('span',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(\n          _vm.$t('MERGE_CONTACTS.SUMMARY.ATTRIBUTE_WARNING', {\n            primaryContactName: _vm.primaryContactName,\n            parentContactName: _vm.parentContactName,\n          })\n        ),expression:\"\\n          $t('MERGE_CONTACTS.SUMMARY.ATTRIBUTE_WARNING', {\\n            primaryContactName,\\n            parentContactName,\\n          })\\n        \"}]})])])]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactDropdownItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactDropdownItem.vue?vue&type=script&lang=js&\"","<script>\nimport Thumbnail from '../../../components/widgets/Thumbnail.vue';\n\nexport default {\n  components: {\n    Thumbnail,\n  },\n  props: {\n    name: {\n      type: String,\n      default: '',\n    },\n    thumbnail: {\n      type: String,\n      default: '',\n    },\n    email: {\n      type: String,\n      default: '',\n    },\n    phoneNumber: {\n      type: String,\n      default: '',\n    },\n    identifier: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"option-item--user\">\n    <Thumbnail :src=\"thumbnail\" size=\"28px\" :username=\"name\" />\n    <div class=\"option__user-data\">\n      <h5 class=\"option__title\">\n        {{ name }}\n        <span v-if=\"identifier\" class=\"user-identifier\">\n          {{ $t('MERGE_CONTACTS.DROPDOWN_ITEM.ID', { identifier }) }}\n        </span>\n      </h5>\n      <p class=\"option__body\">\n        <span v-if=\"email\" class=\"email-icon-wrap\">\n          <fluent-icon class=\"merge-contact--icon\" icon=\"mail\" size=\"12\" />\n          {{ email }}\n        </span>\n        <span v-if=\"phoneNumber\" class=\"phone-icon-wrap\">\n          <fluent-icon class=\"merge-contact--icon\" icon=\"call\" size=\"12\" />\n          {{ phoneNumber }}\n        </span>\n        <span v-if=\"!phoneNumber && !email\">{{ '---' }}</span>\n      </p>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.option-item--user {\n  @apply flex items-center;\n}\n.user-identifier {\n  @apply text-xs ml-0.5 text-slate-700 dark:text-slate-100;\n}\n.option__user-data {\n  @apply flex flex-col flex-grow ml-2 mr-2;\n}\n.option__body,\n.option__title {\n  @apply flex items-center justify-start leading-[1.2] text-sm;\n}\n.option__body .icon {\n  @apply relative top-px mr-0.5 rtl:mr-0 rtl:ml-0.5;\n}\n.option__title {\n  @apply text-slate-800 dark:text-slate-100 font-medium mb-0.5;\n}\n.option__body {\n  @apply text-xs text-slate-700 dark:text-slate-100 mt-1;\n}\n\n.option__user-data .option__body {\n  > .phone-icon-wrap,\n  > .email-icon-wrap {\n    @apply w-auto flex items-center;\n  }\n}\n\n.merge-contact--icon {\n  @apply -mb-0.5 mr-0.5;\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MergeContact.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MergeContact.vue?vue&type=script&lang=js&\"","<script>\nimport { useVuelidate } from '@vuelidate/core';\nimport { required } from '@vuelidate/validators';\n\nimport MergeContactSummary from 'dashboard/modules/contact/components/MergeContactSummary.vue';\nimport ContactDropdownItem from './ContactDropdownItem.vue';\n\nexport default {\n  components: { MergeContactSummary, ContactDropdownItem },\n  props: {\n    primaryContact: {\n      type: Object,\n      required: true,\n    },\n    isSearching: {\n      type: Boolean,\n      default: false,\n    },\n    isMerging: {\n      type: Boolean,\n      default: false,\n    },\n    searchResults: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  setup() {\n    return { v$: useVuelidate() };\n  },\n  validations: {\n    primaryContact: {\n      required,\n    },\n    parentContact: {\n      required,\n    },\n  },\n  data() {\n    return {\n      parentContact: undefined,\n    };\n  },\n\n  computed: {\n    parentContactName() {\n      return this.parentContact ? this.parentContact.name : '';\n    },\n  },\n  methods: {\n    searchChange(query) {\n      this.$emit('search', query);\n    },\n    onSubmit() {\n      this.v$.$touch();\n      if (this.v$.$invalid) {\n        return;\n      }\n      this.$emit('submit', this.parentContact.id);\n    },\n    onCancel() {\n      this.$emit('cancel');\n    },\n  },\n};\n</script>\n\n<template>\n  <form @submit.prevent=\"onSubmit\">\n    <div>\n      <div>\n        <div\n          class=\"mt-1 multiselect-wrap--medium\"\n          :class=\"{ error: v$.parentContact.$error }\"\n        >\n          <label class=\"multiselect__label\">\n            {{ $t('MERGE_CONTACTS.PARENT.TITLE') }}\n            <woot-label\n              :title=\"$t('MERGE_CONTACTS.PARENT.HELP_LABEL')\"\n              color-scheme=\"success\"\n              small\n              class=\"ml-2\"\n            />\n          </label>\n          <multiselect\n            v-model=\"parentContact\"\n            :options=\"searchResults\"\n            label=\"name\"\n            track-by=\"id\"\n            :internal-search=\"false\"\n            :clear-on-select=\"false\"\n            :show-labels=\"false\"\n            :placeholder=\"$t('MERGE_CONTACTS.PARENT.PLACEHOLDER')\"\n            allow-empty\n            :loading=\"isSearching\"\n            :max-height=\"150\"\n            open-direction=\"top\"\n            @search-change=\"searchChange\"\n          >\n            <template slot=\"singleLabel\" slot-scope=\"props\">\n              <ContactDropdownItem\n                :thumbnail=\"props.option.thumbnail\"\n                :identifier=\"props.option.id\"\n                :name=\"props.option.name\"\n                :email=\"props.option.email\"\n                :phone-number=\"props.option.phone_number\"\n              />\n            </template>\n            <template slot=\"option\" slot-scope=\"props\">\n              <ContactDropdownItem\n                :thumbnail=\"props.option.thumbnail\"\n                :identifier=\"props.option.id\"\n                :name=\"props.option.name\"\n                :email=\"props.option.email\"\n                :phone-number=\"props.option.phone_number\"\n              />\n            </template>\n            <span slot=\"noResult\">\n              {{ $t('AGENT_MGMT.SEARCH.NO_RESULTS') }}\n            </span>\n          </multiselect>\n          <span v-if=\"v$.parentContact.$error\" class=\"message\">\n            {{ $t('MERGE_CONTACTS.FORM.CHILD_CONTACT.ERROR') }}\n          </span>\n        </div>\n      </div>\n      <div class=\"flex multiselect-wrap--medium\">\n        <div\n          class=\"w-8 relative text-base text-slate-100 dark:text-slate-600 after:content-[''] after:h-12 after:w-0 after:left-4 after:absolute after:border-l after:border-solid after:border-slate-100 after:dark:border-slate-600 before:content-[''] before:h-0 before:w-4 before:left-4 before:top-12 before:absolute before:border-b before:border-solid before:border-slate-100 before:dark:border-slate-600\"\n        >\n          <fluent-icon\n            icon=\"arrow-up\"\n            class=\"absolute -top-1 left-2\"\n            size=\"17\"\n          />\n        </div>\n        <div class=\"flex flex-col w-full\">\n          <label class=\"multiselect__label\">\n            {{ $t('MERGE_CONTACTS.PRIMARY.TITLE') }}\n            <woot-label\n              :title=\"$t('MERGE_CONTACTS.PRIMARY.HELP_LABEL')\"\n              color-scheme=\"alert\"\n              small\n              class=\"ml-2\"\n            />\n          </label>\n          <multiselect\n            :value=\"primaryContact\"\n            disabled\n            :options=\"[]\"\n            :show-labels=\"false\"\n            label=\"name\"\n            track-by=\"id\"\n          >\n            <template slot=\"singleLabel\" slot-scope=\"props\">\n              <ContactDropdownItem\n                :thumbnail=\"props.option.thumbnail\"\n                :name=\"props.option.name\"\n                :identifier=\"props.option.id\"\n                :email=\"props.option.email\"\n                :phone-number=\"props.option.phoneNumber\"\n              />\n            </template>\n          </multiselect>\n        </div>\n      </div>\n    </div>\n    <MergeContactSummary\n      :primary-contact-name=\"primaryContact.name\"\n      :parent-contact-name=\"parentContactName\"\n    />\n    <div class=\"flex justify-end gap-2 mt-6\">\n      <woot-button variant=\"clear\" @click.prevent=\"onCancel\">\n        {{ $t('MERGE_CONTACTS.FORM.CANCEL') }}\n      </woot-button>\n      <woot-button type=\"submit\" :is-loading=\"isMerging\">\n        {{ $t('MERGE_CONTACTS.FORM.SUBMIT') }}\n      </woot-button>\n    </div>\n  </form>\n</template>\n\n<style lang=\"scss\" scoped>\n/* TDOD: Clean errors in forms style */\n.error .message {\n  @apply mt-0;\n}\n\n::v-deep {\n  .multiselect {\n    @apply rounded-md;\n  }\n\n  .multiselect--disabled {\n    @apply border-0;\n\n    .multiselect__tags {\n      @apply border;\n    }\n  }\n\n  .multiselect__tags {\n    @apply h-auto;\n  }\n\n  .multiselect__select {\n    @apply mt-px mr-1;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./ContactDropdownItem.vue?vue&type=template&id=67c694b3&scoped=true&\"\nimport script from \"./ContactDropdownItem.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactDropdownItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactDropdownItem.vue?vue&type=style&index=0&id=67c694b3&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"67c694b3\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"option-item--user\"},[_c('Thumbnail',{attrs:{\"src\":_vm.thumbnail,\"size\":\"28px\",\"username\":_vm.name}}),_vm._v(\" \"),_c('div',{staticClass:\"option__user-data\"},[_c('h5',{staticClass:\"option__title\"},[_vm._v(\"\\n      \"+_vm._s(_vm.name)+\"\\n      \"),(_vm.identifier)?_c('span',{staticClass:\"user-identifier\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('MERGE_CONTACTS.DROPDOWN_ITEM.ID', { identifier: _vm.identifier }))+\"\\n      \")]):_vm._e()]),_vm._v(\" \"),_c('p',{staticClass:\"option__body\"},[(_vm.email)?_c('span',{staticClass:\"email-icon-wrap\"},[_c('fluent-icon',{staticClass:\"merge-contact--icon\",attrs:{\"icon\":\"mail\",\"size\":\"12\"}}),_vm._v(\"\\n        \"+_vm._s(_vm.email)+\"\\n      \")],1):_vm._e(),_vm._v(\" \"),(_vm.phoneNumber)?_c('span',{staticClass:\"phone-icon-wrap\"},[_c('fluent-icon',{staticClass:\"merge-contact--icon\",attrs:{\"icon\":\"call\",\"size\":\"12\"}}),_vm._v(\"\\n        \"+_vm._s(_vm.phoneNumber)+\"\\n      \")],1):_vm._e(),_vm._v(\" \"),(!_vm.phoneNumber && !_vm.email)?_c('span',[_vm._v(_vm._s('---'))]):_vm._e()])])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./MergeContact.vue?vue&type=template&id=34e4e589&scoped=true&\"\nimport script from \"./MergeContact.vue?vue&type=script&lang=js&\"\nexport * from \"./MergeContact.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MergeContact.vue?vue&type=style&index=0&id=34e4e589&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"34e4e589\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('div',[_c('div',[_c('div',{staticClass:\"mt-1 multiselect-wrap--medium\",class:{ error: _vm.v$.parentContact.$error }},[_c('label',{staticClass:\"multiselect__label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('MERGE_CONTACTS.PARENT.TITLE'))+\"\\n          \"),_c('woot-label',{staticClass:\"ml-2\",attrs:{\"title\":_vm.$t('MERGE_CONTACTS.PARENT.HELP_LABEL'),\"color-scheme\":\"success\",\"small\":\"\"}})],1),_vm._v(\" \"),_c('multiselect',{attrs:{\"options\":_vm.searchResults,\"label\":\"name\",\"track-by\":\"id\",\"internal-search\":false,\"clear-on-select\":false,\"show-labels\":false,\"placeholder\":_vm.$t('MERGE_CONTACTS.PARENT.PLACEHOLDER'),\"allow-empty\":\"\",\"loading\":_vm.isSearching,\"max-height\":150,\"open-direction\":\"top\"},on:{\"search-change\":_vm.searchChange},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(props){return [_c('ContactDropdownItem',{attrs:{\"thumbnail\":props.option.thumbnail,\"identifier\":props.option.id,\"name\":props.option.name,\"email\":props.option.email,\"phone-number\":props.option.phone_number}})]}},{key:\"option\",fn:function(props){return [_c('ContactDropdownItem',{attrs:{\"thumbnail\":props.option.thumbnail,\"identifier\":props.option.id,\"name\":props.option.name,\"email\":props.option.email,\"phone-number\":props.option.phone_number}})]}}]),model:{value:(_vm.parentContact),callback:function ($$v) {_vm.parentContact=$$v},expression:\"parentContact\"}},[_vm._v(\" \"),_vm._v(\" \"),_c('span',{attrs:{\"slot\":\"noResult\"},slot:\"noResult\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('AGENT_MGMT.SEARCH.NO_RESULTS'))+\"\\n          \")])]),_vm._v(\" \"),(_vm.v$.parentContact.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('MERGE_CONTACTS.FORM.CHILD_CONTACT.ERROR'))+\"\\n        \")]):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"flex multiselect-wrap--medium\"},[_c('div',{staticClass:\"w-8 relative text-base text-slate-100 dark:text-slate-600 after:content-[''] after:h-12 after:w-0 after:left-4 after:absolute after:border-l after:border-solid after:border-slate-100 after:dark:border-slate-600 before:content-[''] before:h-0 before:w-4 before:left-4 before:top-12 before:absolute before:border-b before:border-solid before:border-slate-100 before:dark:border-slate-600\"},[_c('fluent-icon',{staticClass:\"absolute -top-1 left-2\",attrs:{\"icon\":\"arrow-up\",\"size\":\"17\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-col w-full\"},[_c('label',{staticClass:\"multiselect__label\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('MERGE_CONTACTS.PRIMARY.TITLE'))+\"\\n          \"),_c('woot-label',{staticClass:\"ml-2\",attrs:{\"title\":_vm.$t('MERGE_CONTACTS.PRIMARY.HELP_LABEL'),\"color-scheme\":\"alert\",\"small\":\"\"}})],1),_vm._v(\" \"),_c('multiselect',{attrs:{\"value\":_vm.primaryContact,\"disabled\":\"\",\"options\":[],\"show-labels\":false,\"label\":\"name\",\"track-by\":\"id\"},scopedSlots:_vm._u([{key:\"singleLabel\",fn:function(props){return [_c('ContactDropdownItem',{attrs:{\"thumbnail\":props.option.thumbnail,\"name\":props.option.name,\"identifier\":props.option.id,\"email\":props.option.email,\"phone-number\":props.option.phoneNumber}})]}}])})],1)])]),_vm._v(\" \"),_c('MergeContactSummary',{attrs:{\"primary-contact-name\":_vm.primaryContact.name,\"parent-contact-name\":_vm.parentContactName}}),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-end gap-2 mt-6\"},[_c('woot-button',{attrs:{\"variant\":\"clear\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onCancel.apply(null, arguments)}}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('MERGE_CONTACTS.FORM.CANCEL'))+\"\\n    \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"type\":\"submit\",\"is-loading\":_vm.isMerging}},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('MERGE_CONTACTS.FORM.SUBMIT'))+\"\\n    \")])],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { useAlert } from 'dashboard/composables';\nimport MergeContact from 'dashboard/modules/contact/components/MergeContact.vue';\n\nimport ContactAPI from 'dashboard/api/contacts';\n\nimport { mapGetters } from 'vuex';\nimport { CONTACTS_EVENTS } from '../../helper/AnalyticsHelper/events';\n\nexport default {\n  components: { MergeContact },\n  props: {\n    primaryContact: {\n      type: Object,\n      required: true,\n    },\n    show: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      isSearching: false,\n      searchResults: [],\n    };\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'contacts/getUIFlags',\n    }),\n  },\n\n  methods: {\n    onClose() {\n      this.$emit('close');\n    },\n    async onContactSearch(query) {\n      this.isSearching = true;\n      this.searchResults = [];\n\n      try {\n        const {\n          data: { payload },\n        } = await ContactAPI.search(query);\n        this.searchResults = payload.filter(\n          contact => contact.id !== this.primaryContact.id\n        );\n      } catch (error) {\n        useAlert(this.$t('MERGE_CONTACTS.SEARCH.ERROR_MESSAGE'));\n      } finally {\n        this.isSearching = false;\n      }\n    },\n    async onMergeContacts(parentContactId) {\n      this.$track(CONTACTS_EVENTS.MERGED_CONTACTS);\n      try {\n        await this.$store.dispatch('contacts/merge', {\n          childId: this.primaryContact.id,\n          parentId: parentContactId,\n        });\n        useAlert(this.$t('MERGE_CONTACTS.FORM.SUCCESS_MESSAGE'));\n        this.onClose();\n      } catch (error) {\n        useAlert(this.$t('MERGE_CONTACTS.FORM.ERROR_MESSAGE'));\n      }\n    },\n  },\n};\n</script>\n\n<!-- eslint-disable vue/no-mutating-props -->\n<template>\n  <woot-modal :show.sync=\"show\" :on-close=\"onClose\">\n    <woot-modal-header\n      :header-title=\"$t('MERGE_CONTACTS.TITLE')\"\n      :header-content=\"$t('MERGE_CONTACTS.DESCRIPTION')\"\n    />\n\n    <MergeContact\n      :primary-contact=\"primaryContact\"\n      :is-searching=\"isSearching\"\n      :is-merging=\"uiFlags.isMerging\"\n      :search-results=\"searchResults\"\n      @search=\"onContactSearch\"\n      @cancel=\"onClose\"\n      @submit=\"onMergeContacts\"\n    />\n  </woot-modal>\n</template>\n","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactMergeModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactMergeModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactMergeModal.vue?vue&type=template&id=6a7ad223&\"\nimport script from \"./ContactMergeModal.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactMergeModal.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-modal',{attrs:{\"show\":_vm.show,\"on-close\":_vm.onClose},on:{\"update:show\":function($event){_vm.show=$event}}},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('MERGE_CONTACTS.TITLE'),\"header-content\":_vm.$t('MERGE_CONTACTS.DESCRIPTION')}}),_vm._v(\" \"),_c('MergeContact',{attrs:{\"primary-contact\":_vm.primaryContact,\"is-searching\":_vm.isSearching,\"is-merging\":_vm.uiFlags.isMerging,\"search-results\":_vm.searchResults},on:{\"search\":_vm.onContactSearch,\"cancel\":_vm.onClose,\"submit\":_vm.onMergeContacts}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\nimport { dynamicTime } from 'shared/helpers/timeHelper';\nimport { useAdmin } from 'dashboard/composables/useAdmin';\nimport ContactInfoRow from './ContactInfoRow.vue';\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\nimport SocialIcons from './SocialIcons.vue';\nimport EditContact from './EditContact.vue';\nimport NewConversation from './NewConversation.vue';\nimport ContactMergeModal from 'dashboard/modules/contact/ContactMergeModal.vue';\nimport { getCountryFlag } from 'dashboard/helper/flag';\nimport { BUS_EVENTS } from 'shared/constants/busEvents';\nimport {\n  isAConversationRoute,\n  isAInboxViewRoute,\n  getConversationDashboardRoute,\n} from '../../../../helper/routeHelpers';\n\nexport default {\n  components: {\n    ContactInfoRow,\n    EditContact,\n    Thumbnail,\n    SocialIcons,\n    NewConversation,\n    ContactMergeModal,\n  },\n  props: {\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n    showAvatar: {\n      type: Boolean,\n      default: true,\n    },\n    showCloseButton: {\n      type: Boolean,\n      default: true,\n    },\n    closeIconName: {\n      type: String,\n      default: 'chevron-right',\n    },\n  },\n  setup() {\n    const { isAdmin } = useAdmin();\n    return {\n      isAdmin,\n    };\n  },\n  data() {\n    return {\n      showEditModal: false,\n      showConversationModal: false,\n      showMergeModal: false,\n      showDeleteModal: false,\n    };\n  },\n  computed: {\n    ...mapGetters({ uiFlags: 'contacts/getUIFlags' }),\n    contactProfileLink() {\n      return `/app/accounts/${this.$route.params.accountId}/contacts/${this.contact.id}`;\n    },\n    additionalAttributes() {\n      return this.contact.additional_attributes || {};\n    },\n    location() {\n      const {\n        country = '',\n        city = '',\n        country_code: countryCode,\n      } = this.additionalAttributes;\n      const cityAndCountry = [city, country].filter(item => !!item).join(', ');\n\n      if (!cityAndCountry) {\n        return '';\n      }\n      return this.findCountryFlag(countryCode, cityAndCountry);\n    },\n    socialProfiles() {\n      const {\n        social_profiles: socialProfiles,\n        screen_name: twitterScreenName,\n      } = this.additionalAttributes;\n\n      return {\n        twitter: twitterScreenName,\n        phone: this.contact.phone_number,\n        ...(socialProfiles || {}),\n      };\n    },\n    // Delete Modal\n    confirmDeleteMessage() {\n      return ` ${this.contact.name}?`;\n    },\n  },\n  methods: {\n    dynamicTime,\n    toggleMergeModal() {\n      this.showMergeModal = !this.showMergeModal;\n    },\n    toggleEditModal() {\n      this.showEditModal = !this.showEditModal;\n    },\n    onPanelToggle() {\n      this.$emit('togglePanel');\n    },\n    toggleConversationModal() {\n      this.showConversationModal = !this.showConversationModal;\n      this.$emitter.emit(\n        BUS_EVENTS.NEW_CONVERSATION_MODAL,\n        this.showConversationModal\n      );\n    },\n    toggleDeleteModal() {\n      this.showDeleteModal = !this.showDeleteModal;\n    },\n    confirmDeletion() {\n      this.deleteContact(this.contact);\n      this.closeDelete();\n    },\n    closeDelete() {\n      this.showDeleteModal = false;\n      this.showConversationModal = false;\n      this.showEditModal = false;\n    },\n    findCountryFlag(countryCode, cityAndCountry) {\n      try {\n        const countryFlag = countryCode ? getCountryFlag(countryCode) : '';\n        return `${cityAndCountry} ${countryFlag}`;\n      } catch (error) {\n        return '';\n      }\n    },\n    async deleteContact({ id }) {\n      try {\n        await this.$store.dispatch('contacts/delete', id);\n        this.$emit('panelClose');\n        useAlert(this.$t('DELETE_CONTACT.API.SUCCESS_MESSAGE'));\n\n        if (isAConversationRoute(this.$route.name)) {\n          this.$router.push({\n            name: getConversationDashboardRoute(this.$route.name),\n          });\n        } else if (isAInboxViewRoute(this.$route.name)) {\n          this.$router.push({\n            name: 'inbox_view',\n          });\n        } else if (this.$route.name !== 'contacts_dashboard') {\n          this.$router.push({\n            name: 'contacts_dashboard',\n          });\n        }\n      } catch (error) {\n        useAlert(\n          error.message\n            ? error.message\n            : this.$t('DELETE_CONTACT.API.ERROR_MESSAGE')\n        );\n      }\n    },\n    openMergeModal() {\n      this.toggleMergeModal();\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"relative items-center w-full p-4 bg-white dark:bg-slate-900\">\n    <div class=\"flex flex-col w-full gap-2 text-left rtl:text-right\">\n      <div class=\"flex flex-row justify-between\">\n        <Thumbnail\n          v-if=\"showAvatar\"\n          :src=\"contact.thumbnail\"\n          size=\"56px\"\n          :username=\"contact.name\"\n          :status=\"contact.availability_status\"\n        />\n        <woot-button\n          v-if=\"showCloseButton\"\n          :icon=\"closeIconName\"\n          class=\"clear secondary rtl:rotate-180\"\n          @click=\"onPanelToggle\"\n        />\n      </div>\n\n      <div class=\"flex flex-col items-start gap-1.5 min-w-0 w-full\">\n        <div v-if=\"showAvatar\" class=\"flex items-start w-full min-w-0 gap-2\">\n          <h3\n            class=\"flex-shrink max-w-full min-w-0 my-0 text-base capitalize break-words text-slate-800 dark:text-slate-100\"\n          >\n            {{ contact.name }}\n          </h3>\n          <div class=\"flex flex-row items-center gap-1\">\n            <fluent-icon\n              v-if=\"contact.created_at\"\n              v-tooltip.left=\"\n                `${$t('CONTACT_PANEL.CREATED_AT_LABEL')} ${dynamicTime(\n                  contact.created_at\n                )}`\n              \"\n              icon=\"info\"\n              size=\"14\"\n              class=\"mt-0.5\"\n            />\n            <a\n              :href=\"contactProfileLink\"\n              class=\"text-base\"\n              target=\"_blank\"\n              rel=\"noopener nofollow noreferrer\"\n            >\n              <woot-button\n                size=\"tiny\"\n                icon=\"open\"\n                variant=\"clear\"\n                color-scheme=\"secondary\"\n              />\n            </a>\n          </div>\n        </div>\n\n        <p v-if=\"additionalAttributes.description\" class=\"break-words mb-0.5\">\n          {{ additionalAttributes.description }}\n        </p>\n        <div class=\"flex flex-col items-start w-full gap-2\">\n          <ContactInfoRow\n            :href=\"contact.email ? `mailto:${contact.email}` : ''\"\n            :value=\"contact.email\"\n            icon=\"mail\"\n            emoji=\"\"\n            :title=\"$t('CONTACT_PANEL.EMAIL_ADDRESS')\"\n            show-copy\n          />\n          <ContactInfoRow\n            :href=\"contact.phone_number ? `tel:${contact.phone_number}` : ''\"\n            :value=\"contact.phone_number\"\n            icon=\"call\"\n            emoji=\"\"\n            :title=\"$t('CONTACT_PANEL.PHONE_NUMBER')\"\n            show-copy\n          />\n          <ContactInfoRow\n            v-if=\"contact.identifier\"\n            :value=\"contact.identifier\"\n            icon=\"contact-identify\"\n            emoji=\"\"\n            :title=\"$t('CONTACT_PANEL.IDENTIFIER')\"\n          />\n          <ContactInfoRow\n            :value=\"additionalAttributes.company_name\"\n            icon=\"building-bank\"\n            emoji=\"\"\n            :title=\"$t('CONTACT_PANEL.COMPANY')\"\n          />\n          <ContactInfoRow\n            v-if=\"location || additionalAttributes.location\"\n            :value=\"location || additionalAttributes.location\"\n            icon=\"map\"\n            emoji=\"\"\n            :title=\"$t('CONTACT_PANEL.LOCATION')\"\n          />\n          <SocialIcons :social-profiles=\"socialProfiles\" />\n        </div>\n      </div>\n      <div class=\"flex items-center w-full mt-0.5 gap-2\">\n        <woot-button\n          v-tooltip=\"$t('CONTACT_PANEL.NEW_MESSAGE')\"\n          :title=\"$t('CONTACT_PANEL.NEW_MESSAGE')\"\n          icon=\"chat\"\n          size=\"small\"\n          @click=\"toggleConversationModal\"\n        />\n        <woot-button\n          v-tooltip=\"$t('EDIT_CONTACT.BUTTON_LABEL')\"\n          :title=\"$t('EDIT_CONTACT.BUTTON_LABEL')\"\n          icon=\"edit\"\n          variant=\"smooth\"\n          size=\"small\"\n          @click=\"toggleEditModal\"\n        />\n        <woot-button\n          v-tooltip=\"$t('CONTACT_PANEL.MERGE_CONTACT')\"\n          :title=\"$t('CONTACT_PANEL.MERGE_CONTACT')\"\n          icon=\"merge\"\n          variant=\"smooth\"\n          size=\"small\"\n          color-scheme=\"secondary\"\n          :disabled=\"uiFlags.isMerging\"\n          @click=\"openMergeModal\"\n        />\n        <woot-button\n          v-if=\"isAdmin\"\n          v-tooltip=\"$t('DELETE_CONTACT.BUTTON_LABEL')\"\n          :title=\"$t('DELETE_CONTACT.BUTTON_LABEL')\"\n          icon=\"delete\"\n          variant=\"smooth\"\n          size=\"small\"\n          color-scheme=\"alert\"\n          :disabled=\"uiFlags.isDeleting\"\n          @click=\"toggleDeleteModal\"\n        />\n      </div>\n      <EditContact\n        v-if=\"showEditModal\"\n        :show=\"showEditModal\"\n        :contact=\"contact\"\n        @cancel=\"toggleEditModal\"\n      />\n      <NewConversation\n        v-if=\"contact.id\"\n        :show=\"showConversationModal\"\n        :contact=\"contact\"\n        @cancel=\"toggleConversationModal\"\n      />\n      <ContactMergeModal\n        v-if=\"showMergeModal\"\n        :primary-contact=\"contact\"\n        :show=\"showMergeModal\"\n        @close=\"toggleMergeModal\"\n      />\n    </div>\n    <woot-delete-modal\n      v-if=\"showDeleteModal\"\n      :show.sync=\"showDeleteModal\"\n      :on-close=\"closeDelete\"\n      :on-confirm=\"confirmDeletion\"\n      :title=\"$t('DELETE_CONTACT.CONFIRM.TITLE')\"\n      :message=\"$t('DELETE_CONTACT.CONFIRM.MESSAGE')\"\n      :message-value=\"confirmDeleteMessage\"\n      :confirm-text=\"$t('DELETE_CONTACT.CONFIRM.YES')\"\n      :reject-text=\"$t('DELETE_CONTACT.CONFIRM.NO')\"\n    />\n  </div>\n</template>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactInfo.vue?vue&type=template&id=26fbdd59&\"\nimport script from \"./ContactInfo.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactInfo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col w-full max-h-[12.5rem]\"},[_c('div',{staticClass:\"flex items-center justify-center mb-1\"},[_c('h4',{staticClass:\"flex-grow m-0 overflow-hidden text-sm text-slate-800 dark:text-slate-100 whitespace-nowrap text-ellipsis\"},[_vm._v(\"\\n      \"+_vm._s(_vm.$t('CONTACT_PANEL.LABELS.LABEL_SELECT.TITLE'))+\"\\n    \")]),_vm._v(\" \"),_c('Hotkey',{attrs:{\"custom-class\":\"border border-solid text-slate-800 dark:text-slate-100 bg-slate-50 dark:bg-slate-600 text-xxs border-slate-75 dark:border-slate-600\"}},[_vm._v(\"\\n      \"+_vm._s('L')+\"\\n    \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"flex-auto flex-grow-0 flex-shrink-0 mb-2 max-h-8\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.search),expression:\"search\"}],ref:\"searchbar\",staticClass:\"search-input\",attrs:{\"type\":\"text\",\"autofocus\":\"true\",\"placeholder\":_vm.$t('CONTACT_PANEL.LABELS.LABEL_SELECT.PLACEHOLDER')},domProps:{\"value\":(_vm.search)},on:{\"input\":function($event){if($event.target.composing)return;_vm.search=$event.target.value}}})]),_vm._v(\" \"),_c('div',{staticClass:\"flex items-start justify-start flex-auto flex-grow flex-shrink overflow-auto\"},[_c('div',{staticClass:\"w-full\"},[_c('woot-dropdown-menu',_vm._l((_vm.filteredActiveLabels),function(label){return _c('LabelDropdownItem',{key:label.title,attrs:{\"title\":label.title,\"color\":label.color,\"selected\":_vm.selectedLabels.includes(label.title)},on:{\"click\":function($event){return _vm.onAddRemove(label)}}})}),1),_vm._v(\" \"),(_vm.noResult)?_c('div',{staticClass:\"flex justify-center py-4 px-2.5 font-medium text-xs text-slate-700 dark:text-slate-200\"},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_PANEL.LABELS.LABEL_SELECT.NO_RESULT'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.allowCreation && _vm.shouldShowCreate)?_c('div',{staticClass:\"flex pt-1 border-t border-solid border-slate-100 dark:border-slate-900\"},[_c('woot-button',{staticClass:\"button-new-label\",attrs:{\"size\":\"small\",\"variant\":\"clear\",\"color-scheme\":\"secondary\",\"icon\":\"add\",\"is-expanded\":\"\",\"is-disabled\":_vm.hasExactMatchInResults},on:{\"click\":_vm.showCreateModal}},[_vm._v(\"\\n          \"+_vm._s(_vm.createLabelPlaceholder)+\"\\n          \"+_vm._s(_vm.parsedSearch)+\"\\n        \")]),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.createModalVisible,\"on-close\":_vm.hideCreateModal},on:{\"update:show\":function($event){_vm.createModalVisible=$event}}},[_c('AddLabelModal',{attrs:{\"prefill-title\":_vm.parsedSearch},on:{\"close\":_vm.hideCreateModal}})],1)],1):_vm._e()],1)])])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdownItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdownItem.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  props: {\n    title: {\n      type: String,\n      default: '',\n    },\n    color: {\n      type: String,\n      default: '',\n    },\n    selected: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  methods: {\n    onClick() {\n      this.$emit('click', this.title);\n    },\n  },\n};\n</script>\n\n<template>\n  <woot-dropdown-item>\n    <div class=\"item-wrap\">\n      <woot-button variant=\"clear\" @click=\"onClick\">\n        <div class=\"button-wrap\">\n          <div class=\"name-label-wrap\">\n            <div\n              v-if=\"color\"\n              class=\"label-color--display\"\n              :style=\"{ backgroundColor: color }\"\n            />\n            <span class=\"label-text\" :title=\"title\">{{ title }}</span>\n          </div>\n          <div>\n            <i v-if=\"selected\" class=\"icon ion-checkmark-round\" />\n          </div>\n        </div>\n      </woot-button>\n    </div>\n  </woot-dropdown-item>\n</template>\n\n<style lang=\"scss\" scoped>\n.item-wrap {\n  @apply flex;\n\n  ::v-deep .button__content {\n    @apply w-full;\n  }\n\n  .button-wrap {\n    @apply flex justify-between w-full;\n\n    &.active {\n      @apply flex font-semibold text-woot-700 dark:text-woot-600;\n    }\n\n    .name-label-wrap {\n      @apply flex min-w-0 w-full;\n\n      .label-color--display {\n        @apply mr-2 rtl:mr-0 rtl:ml-2;\n      }\n\n      .label-text {\n        @apply overflow-hidden text-ellipsis whitespace-nowrap leading-[1.1] pr-2;\n      }\n\n      .icon {\n        @apply text-sm;\n      }\n    }\n  }\n\n  .label-color--display {\n    @apply rounded-md h-3 mr-1 rtl:mr-0 rtl:ml-1 mt-0.5 min-w-[0.75rem] w-3 border border-solid border-slate-50 dark:border-slate-600;\n  }\n}\n</style>\n","import { render, staticRenderFns } from \"./LabelDropdownItem.vue?vue&type=template&id=68995bec&scoped=true&\"\nimport script from \"./LabelDropdownItem.vue?vue&type=script&lang=js&\"\nexport * from \"./LabelDropdownItem.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LabelDropdownItem.vue?vue&type=style&index=0&id=68995bec&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"68995bec\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-dropdown-item',[_c('div',{staticClass:\"item-wrap\"},[_c('woot-button',{attrs:{\"variant\":\"clear\"},on:{\"click\":_vm.onClick}},[_c('div',{staticClass:\"button-wrap\"},[_c('div',{staticClass:\"name-label-wrap\"},[(_vm.color)?_c('div',{staticClass:\"label-color--display\",style:({ backgroundColor: _vm.color })}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"label-text\",attrs:{\"title\":_vm.title}},[_vm._v(_vm._s(_vm.title))])]),_vm._v(\" \"),_c('div',[(_vm.selected)?_c('i',{staticClass:\"icon ion-checkmark-round\"}):_vm._e()])])])],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const labelSanitizePattern = /[^a-zA-Z0-9_-]/g;\nexport const spacesPattern = /\\s+/g;\n\n/**\n * Sanitizes a label by removing unwanted characters and replacing spaces with hyphens.\n *\n * @param {string | undefined | null} label - The label to sanitize.\n * @returns {string} The sanitized label.\n *\n * @example\n * const label = 'My Label 123';\n * const sanitizedLabel = sanitizeLabel(label); // 'my-label-123'\n */\nexport const sanitizeLabel = (label = '') => {\n  if (!label) return '';\n\n  return label\n    .trim()\n    .toLowerCase()\n    .replace(spacesPattern, '-')\n    .replace(labelSanitizePattern, '');\n};\n","<script>\nimport LabelDropdownItem from './LabelDropdownItem.vue';\nimport Hotkey from 'dashboard/components/base/Hotkey.vue';\nimport AddLabelModal from 'dashboard/routes/dashboard/settings/labels/AddLabel.vue';\nimport { picoSearch } from '@scmmishra/pico-search';\nimport { sanitizeLabel } from 'shared/helpers/sanitizeData';\n\nexport default {\n  components: {\n    LabelDropdownItem,\n    AddLabelModal,\n    Hotkey,\n  },\n\n  props: {\n    accountLabels: {\n      type: Array,\n      default: () => [],\n    },\n    selectedLabels: {\n      type: Array,\n      default: () => [],\n    },\n    allowCreation: {\n      type: Boolean,\n      default: false,\n    },\n  },\n\n  data() {\n    return {\n      search: '',\n      createModalVisible: false,\n    };\n  },\n\n  computed: {\n    createLabelPlaceholder() {\n      const label = this.$t('CONTACT_PANEL.LABELS.LABEL_SELECT.CREATE_LABEL');\n      return this.search ? `${label}:` : label;\n    },\n\n    filteredActiveLabels() {\n      if (!this.search) return this.accountLabels;\n\n      return picoSearch(this.accountLabels, this.search, ['title'], {\n        threshold: 0.9,\n      });\n    },\n\n    noResult() {\n      return this.filteredActiveLabels.length === 0;\n    },\n\n    hasExactMatchInResults() {\n      return this.filteredActiveLabels.some(\n        label => label.title === this.search\n      );\n    },\n\n    shouldShowCreate() {\n      return this.allowCreation && this.filteredActiveLabels.length < 3;\n    },\n\n    parsedSearch() {\n      return sanitizeLabel(this.search);\n    },\n  },\n\n  mounted() {\n    this.focusInput();\n  },\n\n  methods: {\n    focusInput() {\n      this.$refs.searchbar.focus();\n    },\n\n    updateLabels(label) {\n      this.$emit('update', label);\n    },\n\n    onAdd(label) {\n      this.$emit('add', label);\n    },\n\n    onRemove(label) {\n      this.$emit('remove', label);\n    },\n\n    onAddRemove(label) {\n      if (this.selectedLabels.includes(label.title)) {\n        this.onRemove(label.title);\n      } else {\n        this.onAdd(label);\n      }\n    },\n\n    showCreateModal() {\n      this.createModalVisible = true;\n    },\n\n    hideCreateModal() {\n      this.createModalVisible = false;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col w-full max-h-[12.5rem]\">\n    <div class=\"flex items-center justify-center mb-1\">\n      <h4\n        class=\"flex-grow m-0 overflow-hidden text-sm text-slate-800 dark:text-slate-100 whitespace-nowrap text-ellipsis\"\n      >\n        {{ $t('CONTACT_PANEL.LABELS.LABEL_SELECT.TITLE') }}\n      </h4>\n      <Hotkey\n        custom-class=\"border border-solid text-slate-800 dark:text-slate-100 bg-slate-50 dark:bg-slate-600 text-xxs border-slate-75 dark:border-slate-600\"\n      >\n        {{ 'L' }}\n      </Hotkey>\n    </div>\n    <div class=\"flex-auto flex-grow-0 flex-shrink-0 mb-2 max-h-8\">\n      <input\n        ref=\"searchbar\"\n        v-model=\"search\"\n        type=\"text\"\n        class=\"search-input\"\n        autofocus=\"true\"\n        :placeholder=\"$t('CONTACT_PANEL.LABELS.LABEL_SELECT.PLACEHOLDER')\"\n      />\n    </div>\n    <div\n      class=\"flex items-start justify-start flex-auto flex-grow flex-shrink overflow-auto\"\n    >\n      <div class=\"w-full\">\n        <woot-dropdown-menu>\n          <LabelDropdownItem\n            v-for=\"label in filteredActiveLabels\"\n            :key=\"label.title\"\n            :title=\"label.title\"\n            :color=\"label.color\"\n            :selected=\"selectedLabels.includes(label.title)\"\n            @click=\"onAddRemove(label)\"\n          />\n        </woot-dropdown-menu>\n        <div\n          v-if=\"noResult\"\n          class=\"flex justify-center py-4 px-2.5 font-medium text-xs text-slate-700 dark:text-slate-200\"\n        >\n          {{ $t('CONTACT_PANEL.LABELS.LABEL_SELECT.NO_RESULT') }}\n        </div>\n        <div\n          v-if=\"allowCreation && shouldShowCreate\"\n          class=\"flex pt-1 border-t border-solid border-slate-100 dark:border-slate-900\"\n        >\n          <woot-button\n            size=\"small\"\n            variant=\"clear\"\n            color-scheme=\"secondary\"\n            icon=\"add\"\n            is-expanded\n            class=\"button-new-label\"\n            :is-disabled=\"hasExactMatchInResults\"\n            @click=\"showCreateModal\"\n          >\n            {{ createLabelPlaceholder }}\n            {{ parsedSearch }}\n          </woot-button>\n\n          <woot-modal\n            :show.sync=\"createModalVisible\"\n            :on-close=\"hideCreateModal\"\n          >\n            <AddLabelModal\n              :prefill-title=\"parsedSearch\"\n              @close=\"hideCreateModal\"\n            />\n          </woot-modal>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.hotkey {\n  @apply flex-shrink-0;\n}\n\n.search-input {\n  @apply m-0 w-full border border-solid border-transparent h-8 text-sm text-slate-700 dark:text-slate-100 rounded-md focus:border-woot-500 bg-slate-50 dark:bg-slate-900;\n}\n\n.button-new-label {\n  @apply whitespace-nowrap text-ellipsis overflow-hidden items-center;\n\n  .icon {\n    @apply min-w-0;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdown.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelDropdown.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./LabelDropdown.vue?vue&type=template&id=8fb81338&scoped=true&\"\nimport script from \"./LabelDropdown.vue?vue&type=script&lang=js&\"\nexport * from \"./LabelDropdown.vue?vue&type=script&lang=js&\"\nimport style0 from \"./LabelDropdown.vue?vue&type=style&index=0&id=8fb81338&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8fb81338\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"-mt-px text-sm\"},[_c('button',{staticClass:\"flex items-center select-none w-full rounded-none bg-slate-50 dark:bg-slate-800 border border-l-0 border-r-0 border-solid m-0 border-slate-100 dark:border-slate-700/50 cursor-grab justify-between py-2 px-4 drag-handle\",on:{\"click\":function($event){return _vm.$emit('click')}}},[_c('div',{staticClass:\"flex justify-between mb-0.5\"},[_c('EmojiOrIcon',{staticClass:\"inline-block w-5\",attrs:{\"icon\":_vm.icon,\"emoji\":_vm.emoji}}),_vm._v(\" \"),_c('h5',{staticClass:\"text-slate-800 text-sm dark:text-slate-100 mb-0 py-0 pr-2 pl-0\"},[_vm._v(\"\\n        \"+_vm._s(_vm.title)+\"\\n      \")])],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row\"},[_vm._t(\"button\"),_vm._v(\" \"),_c('div',{staticClass:\"flex justify-end w-3 text-woot-500\"},[(_vm.isOpen)?_c('fluent-icon',{attrs:{\"size\":\"24\",\"icon\":\"subtract\",\"type\":\"solid\"}}):_c('fluent-icon',{attrs:{\"size\":\"24\",\"icon\":\"add\",\"type\":\"solid\"}})],1)],2)]),_vm._v(\" \"),(_vm.isOpen)?_c('div',{staticClass:\"bg-white dark:bg-slate-900\",class:_vm.compact ? 'p-0' : 'p-4'},[_vm._t(\"default\")],2):_vm._e()])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccordionItem.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AccordionItem.vue?vue&type=script&lang=js&\"","<script>\nimport EmojiOrIcon from 'shared/components/EmojiOrIcon.vue';\n\nexport default {\n  components: {\n    EmojiOrIcon,\n  },\n  props: {\n    title: {\n      type: String,\n      required: true,\n    },\n    compact: {\n      type: Boolean,\n      default: false,\n    },\n    icon: {\n      type: String,\n      default: '',\n    },\n    emoji: {\n      type: String,\n      default: '',\n    },\n    isOpen: {\n      type: Boolean,\n      default: true,\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"-mt-px text-sm\">\n    <button\n      class=\"flex items-center select-none w-full rounded-none bg-slate-50 dark:bg-slate-800 border border-l-0 border-r-0 border-solid m-0 border-slate-100 dark:border-slate-700/50 cursor-grab justify-between py-2 px-4 drag-handle\"\n      @click=\"$emit('click')\"\n    >\n      <div class=\"flex justify-between mb-0.5\">\n        <EmojiOrIcon class=\"inline-block w-5\" :icon=\"icon\" :emoji=\"emoji\" />\n        <h5\n          class=\"text-slate-800 text-sm dark:text-slate-100 mb-0 py-0 pr-2 pl-0\"\n        >\n          {{ title }}\n        </h5>\n      </div>\n      <div class=\"flex flex-row\">\n        <slot name=\"button\" />\n        <div class=\"flex justify-end w-3 text-woot-500\">\n          <fluent-icon v-if=\"isOpen\" size=\"24\" icon=\"subtract\" type=\"solid\" />\n          <fluent-icon v-else size=\"24\" icon=\"add\" type=\"solid\" />\n        </div>\n      </div>\n    </button>\n    <div\n      v-if=\"isOpen\"\n      class=\"bg-white dark:bg-slate-900\"\n      :class=\"compact ? 'p-0' : 'p-4'\"\n    >\n      <slot />\n    </div>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./AccordionItem.vue?vue&type=template&id=fa89606c&\"\nimport script from \"./AccordionItem.vue?vue&type=script&lang=js&\"\nexport * from \"./AccordionItem.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"contact-conversation--panel\"},[(!_vm.uiFlags.isFetching)?_c('div',{staticClass:\"contact-conversation__wrap\"},[(!_vm.previousConversations.length)?_c('div',{staticClass:\"no-label-message\"},[_c('span',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CONTACT_PANEL.CONVERSATIONS.NO_RECORDS_FOUND'))+\"\\n      \")])]):_c('div',{staticClass:\"contact-conversation--list\"},_vm._l((_vm.previousConversations),function(conversation){return _c('ConversationCard',{key:conversation.id,staticClass:\"compact\",attrs:{\"chat\":conversation,\"hide-inbox-name\":false,\"hide-thumbnail\":\"\"}})}),1)]):_c('Spinner')],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport ConversationCard from 'dashboard/components/widgets/conversation/ConversationCard.vue';\nimport { mapGetters } from 'vuex';\nimport Spinner from 'shared/components/Spinner.vue';\n\nexport default {\n  components: {\n    ConversationCard,\n    Spinner,\n  },\n  props: {\n    contactId: {\n      type: [String, Number],\n      required: true,\n    },\n    conversationId: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n  computed: {\n    conversations() {\n      return this.$store.getters['contactConversations/getContactConversation'](\n        this.contactId\n      );\n    },\n    previousConversations() {\n      return this.conversations.filter(\n        conversation => conversation.id !== Number(this.conversationId)\n      );\n    },\n    ...mapGetters({\n      uiFlags: 'contactConversations/getUIFlags',\n    }),\n  },\n  watch: {\n    contactId(newContactId, prevContactId) {\n      if (newContactId && newContactId !== prevContactId) {\n        this.$store.dispatch('contactConversations/get', newContactId);\n      }\n    },\n  },\n  mounted() {\n    this.$store.dispatch('contactConversations/get', this.contactId);\n  },\n};\n</script>\n\n<template>\n  <div class=\"contact-conversation--panel\">\n    <div v-if=\"!uiFlags.isFetching\" class=\"contact-conversation__wrap\">\n      <div v-if=\"!previousConversations.length\" class=\"no-label-message\">\n        <span>\n          {{ $t('CONTACT_PANEL.CONVERSATIONS.NO_RECORDS_FOUND') }}\n        </span>\n      </div>\n      <div v-else class=\"contact-conversation--list\">\n        <ConversationCard\n          v-for=\"conversation in previousConversations\"\n          :key=\"conversation.id\"\n          :chat=\"conversation\"\n          :hide-inbox-name=\"false\"\n          hide-thumbnail\n          class=\"compact\"\n        />\n      </div>\n    </div>\n    <Spinner v-else />\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.no-label-message {\n  @apply text-slate-500 dark:text-slate-400 mb-4;\n}\n\n::v-deep .conversation {\n  @apply pr-0;\n  .conversation--details {\n    @apply pl-2;\n  }\n}\n</style>\n","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactConversations.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactConversations.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactConversations.vue?vue&type=template&id=26ad606b&scoped=true&\"\nimport script from \"./ContactConversations.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactConversations.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactConversations.vue?vue&type=style&index=0&id=26ad606b&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"26ad606b\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('woot-button',{staticClass:\"label--add\",attrs:{\"variant\":\"smooth\",\"icon\":\"add\",\"size\":\"tiny\"},on:{\"click\":_vm.addLabel}},[_vm._v(\"\\n  \"+_vm._s(_vm.$t('CONTACT_PANEL.LABELS.CONVERSATION.ADD_BUTTON'))+\"\\n\")])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddLabel.vue?vue&type=script&lang=js&\"","<script>\nexport default {\n  methods: {\n    addLabel() {\n      this.$emit('add');\n    },\n  },\n};\n</script>\n\n<template>\n  <woot-button\n    variant=\"smooth\"\n    class=\"label--add\"\n    icon=\"add\"\n    size=\"tiny\"\n    @click=\"addLabel\"\n  >\n    {{ $t('CONTACT_PANEL.LABELS.CONVERSATION.ADD_BUTTON') }}\n  </woot-button>\n</template>\n\n<style lang=\"scss\" scoped>\n.label--add {\n  margin-bottom: var(--space-micro);\n  margin-right: var(--space-micro);\n}\n</style>\n","import { render, staticRenderFns } from \"./AddLabel.vue?vue&type=template&id=471a02aa&scoped=true&\"\nimport script from \"./AddLabel.vue?vue&type=script&lang=js&\"\nexport * from \"./AddLabel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddLabel.vue?vue&type=style&index=0&id=471a02aa&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"471a02aa\",\n  null\n  \n)\n\nexport default component.exports","var $ = require('../internals/export');\nvar toAbsoluteIndex = require('../internals/to-absolute-index');\n\nvar fromCharCode = String.fromCharCode;\n// eslint-disable-next-line es/no-string-fromcodepoint -- required for testing\nvar $fromCodePoint = String.fromCodePoint;\n\n// length should be 1, old FF problem\nvar INCORRECT_LENGTH = !!$fromCodePoint && $fromCodePoint.length != 1;\n\n// `String.fromCodePoint` method\n// https://tc39.es/ecma262/#sec-string.fromcodepoint\n$({ target: 'String', stat: true, forced: INCORRECT_LENGTH }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  fromCodePoint: function fromCodePoint(x) {\n    var elements = [];\n    var length = arguments.length;\n    var i = 0;\n    var code;\n    while (length > i) {\n      code = +arguments[i++];\n      if (toAbsoluteIndex(code, 0x10FFFF) !== code) throw RangeError(code + ' is not a valid code point');\n      elements.push(code < 0x10000\n        ? fromCharCode(code)\n        : fromCharCode(((code -= 0x10000) >> 10) + 0xD800, code % 0x400 + 0xDC00)\n      );\n    } return elements.join('');\n  }\n});\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"relative w-1/4 h-full overflow-y-auto text-sm bg-white dark:bg-slate-900 border-slate-50 dark:border-slate-800/50\",class:_vm.showAvatar ? 'border-l border-solid ' : 'border-r border-solid'},[_c('ContactInfo',{attrs:{\"show-close-button\":_vm.showCloseButton,\"show-avatar\":_vm.showAvatar,\"contact\":_vm.contact,\"close-icon-name\":\"dismiss\"},on:{\"panelClose\":_vm.onClose,\"togglePanel\":_vm.onClose}}),_vm._v(\" \"),_c('Draggable',{staticClass:\"list-group\",attrs:{\"list\":_vm.contactSidebarItems,\"disabled\":!_vm.dragEnabled,\"ghost-class\":\"ghost\"},on:{\"start\":function($event){_vm.dragging = true},\"end\":_vm.onDragEnd}},[_c('transition-group',_vm._l((_vm.contactSidebarItems),function(element){return _c('div',{key:element.name,staticClass:\"list-group-item\"},[(element.name === 'contact_attributes')?_c('div',[_c('AccordionItem',{attrs:{\"title\":_vm.$t('CONVERSATION_SIDEBAR.ACCORDION.CONTACT_ATTRIBUTES'),\"is-open\":_vm.isContactSidebarItemOpen('is_ct_custom_attr_open'),\"compact\":\"\"},on:{\"click\":value => _vm.toggleSidebarUIState('is_ct_custom_attr_open', value)}},[_c('CustomAttributes',{attrs:{\"contact-id\":_vm.contact.id,\"attribute-type\":\"contact_attribute\",\"attribute-from\":\"contact_panel\",\"custom-attributes\":_vm.contact.custom_attributes,\"empty-state-message\":_vm.$t('CONTACT_PANEL.SIDEBAR_SECTIONS.NO_RECORDS_FOUND')}})],1)],1):_vm._e(),_vm._v(\" \"),(element.name === 'contact_labels')?_c('div',[_c('AccordionItem',{attrs:{\"title\":_vm.$t('CONTACT_PANEL.SIDEBAR_SECTIONS.CONTACT_LABELS'),\"is-open\":_vm.isContactSidebarItemOpen('is_ct_labels_open')},on:{\"click\":value => _vm.toggleSidebarUIState('is_ct_labels_open', value)}},[_c('ContactLabel',{staticClass:\"contact-labels\",attrs:{\"contact-id\":_vm.contact.id}})],1)],1):_vm._e(),_vm._v(\" \"),(element.name === 'previous_conversation')?_c('div',[_c('AccordionItem',{attrs:{\"title\":_vm.$t('CONTACT_PANEL.SIDEBAR_SECTIONS.PREVIOUS_CONVERSATIONS'),\"is-open\":_vm.isContactSidebarItemOpen('is_ct_prev_conv_open')},on:{\"click\":value => _vm.toggleSidebarUIState('is_ct_prev_conv_open', value)}},[(_vm.contact.id)?_c('ContactConversations',{attrs:{\"contact-id\":_vm.contact.id,\"conversation-id\":\"\"}}):_vm._e()],1)],1):_vm._e()])}),0)],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelSelector.vue?vue&type=script&setup=true&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LabelSelector.vue?vue&type=script&setup=true&lang=js&\"","<script setup>\nimport { ref, computed } from 'vue';\nimport { useAdmin } from 'dashboard/composables/useAdmin';\nimport { useKeyboardEvents } from 'dashboard/composables/useKeyboardEvents';\nimport AddLabel from 'shared/components/ui/dropdown/AddLabel.vue';\nimport LabelDropdown from 'shared/components/ui/label/LabelDropdown.vue';\n\nconst props = defineProps({\n  allLabels: {\n    type: Array,\n    default: () => [],\n  },\n  savedLabels: {\n    type: Array,\n    default: () => [],\n  },\n});\n\nconst emit = defineEmits(['add', 'remove']);\n\nconst { isAdmin } = useAdmin();\n\nconst showSearchDropdownLabel = ref(false);\n\nconst selectedLabels = computed(() => {\n  return props.savedLabels.map(label => label.title);\n});\n\nconst addItem = label => {\n  emit('add', label);\n};\n\nconst removeItem = label => {\n  emit('remove', label);\n};\n\nconst toggleLabels = () => {\n  showSearchDropdownLabel.value = !showSearchDropdownLabel.value;\n};\n\nconst closeDropdownLabel = () => {\n  showSearchDropdownLabel.value = false;\n};\n\nconst keyboardEvents = {\n  KeyL: {\n    action: e => {\n      toggleLabels();\n      e.preventDefault();\n    },\n  },\n  Escape: {\n    action: () => closeDropdownLabel(),\n    allowOnFocusedInput: true,\n  },\n};\n\nuseKeyboardEvents(keyboardEvents);\n</script>\n\n<template>\n  <div v-on-clickaway=\"closeDropdownLabel\" class=\"relative leading-6\">\n    <AddLabel @add=\"toggleLabels\" />\n    <woot-label\n      v-for=\"label in savedLabels\"\n      :key=\"label.id\"\n      :title=\"label.title\"\n      :description=\"label.description\"\n      show-close\n      :color=\"label.color\"\n      variant=\"smooth\"\n      @click=\"removeItem\"\n    />\n    <div class=\"absolute w-full top-7\">\n      <div\n        :class=\"{ 'dropdown-pane--open': showSearchDropdownLabel }\"\n        class=\"!box-border !w-full dropdown-pane\"\n      >\n        <LabelDropdown\n          v-if=\"showSearchDropdownLabel\"\n          :account-labels=\"allLabels\"\n          :selected-labels=\"selectedLabels\"\n          :allow-creation=\"isAdmin\"\n          @add=\"addItem\"\n          @remove=\"removeItem\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n","<script>\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\nimport LabelSelector from 'dashboard/components/widgets/LabelSelector.vue';\n\nexport default {\n  components: { LabelSelector },\n  props: {\n    contactId: {\n      type: [String, Number],\n      required: true,\n    },\n  },\n\n  computed: {\n    savedLabels() {\n      const availableContactLabels = this.$store.getters[\n        'contactLabels/getContactLabels'\n      ](this.contactId);\n      return this.allLabels.filter(({ title }) =>\n        availableContactLabels.includes(title)\n      );\n    },\n\n    ...mapGetters({\n      allLabels: 'labels/getLabels',\n    }),\n  },\n\n  watch: {\n    contactId(newContactId, prevContactId) {\n      if (newContactId && newContactId !== prevContactId) {\n        this.fetchLabels(newContactId);\n      }\n    },\n  },\n\n  mounted() {\n    const { contactId } = this;\n    this.fetchLabels(contactId);\n  },\n\n  methods: {\n    async onUpdateLabels(selectedLabels) {\n      try {\n        await this.$store.dispatch('contactLabels/update', {\n          contactId: this.contactId,\n          labels: selectedLabels,\n        });\n      } catch (error) {\n        useAlert(this.$t('CONTACT_PANEL.LABELS.CONTACT.ERROR'));\n      }\n    },\n\n    addItem(value) {\n      const result = this.savedLabels.map(item => item.title);\n      result.push(value.title);\n      this.onUpdateLabels(result);\n    },\n\n    removeItem(value) {\n      const result = this.savedLabels\n        .map(label => label.title)\n        .filter(label => label !== value);\n      this.onUpdateLabels(result);\n    },\n\n    async fetchLabels(contactId) {\n      if (!contactId) {\n        return;\n      }\n      this.$store.dispatch('contactLabels/get', contactId);\n    },\n  },\n};\n</script>\n\n<template>\n  <LabelSelector\n    :all-labels=\"allLabels\"\n    :saved-labels=\"savedLabels\"\n    @add=\"addItem\"\n    @remove=\"removeItem\"\n  />\n</template>\n","import { render, staticRenderFns } from \"./LabelSelector.vue?vue&type=template&id=4e5fa3c4&\"\nimport script from \"./LabelSelector.vue?vue&type=script&setup=true&lang=js&\"\nexport * from \"./LabelSelector.vue?vue&type=script&setup=true&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return _c('div',{directives:[{name:\"on-clickaway\",rawName:\"v-on-clickaway\",value:(_setup.closeDropdownLabel),expression:\"closeDropdownLabel\"}],staticClass:\"relative leading-6\"},[_c(_setup.AddLabel,{on:{\"add\":_setup.toggleLabels}}),_vm._v(\" \"),_vm._l((_vm.savedLabels),function(label){return _c('woot-label',{key:label.id,attrs:{\"title\":label.title,\"description\":label.description,\"show-close\":\"\",\"color\":label.color,\"variant\":\"smooth\"},on:{\"click\":_setup.removeItem}})}),_vm._v(\" \"),_c('div',{staticClass:\"absolute w-full top-7\"},[_c('div',{staticClass:\"!box-border !w-full dropdown-pane\",class:{ 'dropdown-pane--open': _setup.showSearchDropdownLabel }},[(_setup.showSearchDropdownLabel)?_c(_setup.LabelDropdown,{attrs:{\"account-labels\":_vm.allLabels,\"selected-labels\":_setup.selectedLabels,\"allow-creation\":_setup.isAdmin},on:{\"add\":_setup.addItem,\"remove\":_setup.removeItem}}):_vm._e()],1)])],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactLabels.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactLabels.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ContactLabels.vue?vue&type=template&id=03a6280c&\"\nimport script from \"./ContactLabels.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactLabels.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('LabelSelector',{attrs:{\"all-labels\":_vm.allLabels,\"saved-labels\":_vm.savedLabels},on:{\"add\":_vm.addItem,\"remove\":_vm.removeItem}})\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfoPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfoPanel.vue?vue&type=script&lang=js&\"","<script>\nimport AccordionItem from 'dashboard/components/Accordion/AccordionItem.vue';\nimport ContactConversations from 'dashboard/routes/dashboard/conversation/ContactConversations.vue';\nimport ContactInfo from 'dashboard/routes/dashboard/conversation/contact/ContactInfo.vue';\nimport ContactLabel from 'dashboard/routes/dashboard/contacts/components/ContactLabels.vue';\nimport CustomAttributes from 'dashboard/routes/dashboard/conversation/customAttributes/CustomAttributes.vue';\nimport draggable from 'vuedraggable';\nimport { useUISettings } from 'dashboard/composables/useUISettings';\n\nexport default {\n  components: {\n    AccordionItem,\n    ContactConversations,\n    ContactInfo,\n    ContactLabel,\n    CustomAttributes,\n    Draggable: draggable,\n  },\n  props: {\n    contact: {\n      type: Object,\n      default: () => ({}),\n    },\n    onClose: {\n      type: Function,\n      default: () => {},\n    },\n    showAvatar: {\n      type: Boolean,\n      default: true,\n    },\n    showCloseButton: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  setup() {\n    const {\n      updateUISettings,\n      isContactSidebarItemOpen,\n      contactSidebarItemsOrder,\n      toggleSidebarUIState,\n    } = useUISettings();\n\n    return {\n      updateUISettings,\n      isContactSidebarItemOpen,\n      contactSidebarItemsOrder,\n      toggleSidebarUIState,\n    };\n  },\n  data() {\n    return {\n      dragEnabled: true,\n      contactSidebarItems: [],\n      dragging: false,\n    };\n  },\n  computed: {\n    hasContactAttributes() {\n      const { custom_attributes: customAttributes } = this.contact;\n      return customAttributes && Object.keys(customAttributes).length;\n    },\n  },\n  mounted() {\n    this.contactSidebarItems = this.contactSidebarItemsOrder;\n  },\n  methods: {\n    onDragEnd() {\n      this.dragging = false;\n      this.updateUISettings({\n        contact_sidebar_items_order: this.contactSidebarItems,\n      });\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"relative w-1/4 h-full overflow-y-auto text-sm bg-white dark:bg-slate-900 border-slate-50 dark:border-slate-800/50\"\n    :class=\"showAvatar ? 'border-l border-solid ' : 'border-r border-solid'\"\n  >\n    <ContactInfo\n      :show-close-button=\"showCloseButton\"\n      :show-avatar=\"showAvatar\"\n      :contact=\"contact\"\n      close-icon-name=\"dismiss\"\n      @panelClose=\"onClose\"\n      @togglePanel=\"onClose\"\n    />\n    <Draggable\n      :list=\"contactSidebarItems\"\n      :disabled=\"!dragEnabled\"\n      class=\"list-group\"\n      ghost-class=\"ghost\"\n      @start=\"dragging = true\"\n      @end=\"onDragEnd\"\n    >\n      <transition-group>\n        <div\n          v-for=\"element in contactSidebarItems\"\n          :key=\"element.name\"\n          class=\"list-group-item\"\n        >\n          <div v-if=\"element.name === 'contact_attributes'\">\n            <AccordionItem\n              :title=\"$t('CONVERSATION_SIDEBAR.ACCORDION.CONTACT_ATTRIBUTES')\"\n              :is-open=\"isContactSidebarItemOpen('is_ct_custom_attr_open')\"\n              compact\n              @click=\"\n                value => toggleSidebarUIState('is_ct_custom_attr_open', value)\n              \"\n            >\n              <CustomAttributes\n                :contact-id=\"contact.id\"\n                attribute-type=\"contact_attribute\"\n                attribute-from=\"contact_panel\"\n                :custom-attributes=\"contact.custom_attributes\"\n                :empty-state-message=\"\n                  $t('CONTACT_PANEL.SIDEBAR_SECTIONS.NO_RECORDS_FOUND')\n                \"\n              />\n            </AccordionItem>\n          </div>\n          <div v-if=\"element.name === 'contact_labels'\">\n            <AccordionItem\n              :title=\"$t('CONTACT_PANEL.SIDEBAR_SECTIONS.CONTACT_LABELS')\"\n              :is-open=\"isContactSidebarItemOpen('is_ct_labels_open')\"\n              @click=\"value => toggleSidebarUIState('is_ct_labels_open', value)\"\n            >\n              <ContactLabel :contact-id=\"contact.id\" class=\"contact-labels\" />\n            </AccordionItem>\n          </div>\n          <div v-if=\"element.name === 'previous_conversation'\">\n            <AccordionItem\n              :title=\"\n                $t('CONTACT_PANEL.SIDEBAR_SECTIONS.PREVIOUS_CONVERSATIONS')\n              \"\n              :is-open=\"isContactSidebarItemOpen('is_ct_prev_conv_open')\"\n              @click=\"\n                value => toggleSidebarUIState('is_ct_prev_conv_open', value)\n              \"\n            >\n              <ContactConversations\n                v-if=\"contact.id\"\n                :contact-id=\"contact.id\"\n                conversation-id=\"\"\n              />\n            </AccordionItem>\n          </div>\n        </div>\n      </transition-group>\n    </Draggable>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n::v-deep {\n  .contact--profile {\n    @apply pb-3 mb-4;\n  }\n}\n\n.list-group {\n  .list-group-item {\n    @apply bg-white dark:bg-slate-900;\n  }\n}\n\n.conversation--details {\n  @apply py-0 px-4;\n}\n</style>\n","import { render, staticRenderFns } from \"./ContactInfoPanel.vue?vue&type=template&id=69730bf8&scoped=true&\"\nimport script from \"./ContactInfoPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ContactInfoPanel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ContactInfoPanel.vue?vue&type=style&index=0&id=69730bf8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"69730bf8\",\n  null\n  \n)\n\nexport default component.exports","import toInteger from \"../_lib/toInteger/index.js\";\nimport requiredArgs from \"../_lib/requiredArgs/index.js\";\nvar MILLISECONDS_IN_HOUR = 3600000;\nvar MILLISECONDS_IN_MINUTE = 60000;\nvar DEFAULT_ADDITIONAL_DIGITS = 2;\nvar patterns = {\n  dateTimeDelimiter: /[T ]/,\n  timeZoneDelimiter: /[Z ]/i,\n  timezone: /([Z+-].*)$/\n};\nvar dateRegex = /^-?(?:(\\d{3})|(\\d{2})(?:-?(\\d{2}))?|W(\\d{2})(?:-?(\\d{1}))?|)$/;\nvar timeRegex = /^(\\d{2}(?:[.,]\\d*)?)(?::?(\\d{2}(?:[.,]\\d*)?))?(?::?(\\d{2}(?:[.,]\\d*)?))?$/;\nvar timezoneRegex = /^([+-])(\\d{2})(?::?(\\d{2}))?$/;\n/**\n * @name parseISO\n * @category Common Helpers\n * @summary Parse ISO string\n *\n * @description\n * Parse the given string in ISO 8601 format and return an instance of Date.\n *\n * Function accepts complete ISO 8601 formats as well as partial implementations.\n * ISO 8601: http://en.wikipedia.org/wiki/ISO_8601\n *\n * If the argument isn't a string, the function cannot parse the string or\n * the values are invalid, it returns Invalid Date.\n *\n * ### v2.0.0 breaking changes:\n *\n * - [Changes that are common for the whole library](https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#Common-Changes).\n *\n * - The previous `parse` implementation was renamed to `parseISO`.\n *\n *   ```javascript\n *   // Before v2.0.0\n *   parse('2016-01-01')\n *\n *   // v2.0.0 onward\n *   parseISO('2016-01-01')\n *   ```\n *\n * - `parseISO` now validates separate date and time values in ISO-8601 strings\n *   and returns `Invalid Date` if the date is invalid.\n *\n *   ```javascript\n *   parseISO('2018-13-32')\n *   //=> Invalid Date\n *   ```\n *\n * - `parseISO` now doesn't fall back to `new Date` constructor\n *   if it fails to parse a string argument. Instead, it returns `Invalid Date`.\n *\n * @param {String} argument - the value to convert\n * @param {Object} [options] - an object with options.\n * @param {0|1|2} [options.additionalDigits=2] - the additional number of digits in the extended year format\n * @returns {Date} the parsed date in the local time zone\n * @throws {TypeError} 1 argument required\n * @throws {RangeError} `options.additionalDigits` must be 0, 1 or 2\n *\n * @example\n * // Convert string '2014-02-11T11:30:30' to date:\n * var result = parseISO('2014-02-11T11:30:30')\n * //=> Tue Feb 11 2014 11:30:30\n *\n * @example\n * // Convert string '+02014101' to date,\n * // if the additional number of digits in the extended year format is 1:\n * var result = parseISO('+02014101', { additionalDigits: 1 })\n * //=> Fri Apr 11 2014 00:00:00\n */\n\nexport default function parseISO(argument, dirtyOptions) {\n  requiredArgs(1, arguments);\n  var options = dirtyOptions || {};\n  var additionalDigits = options.additionalDigits == null ? DEFAULT_ADDITIONAL_DIGITS : toInteger(options.additionalDigits);\n\n  if (additionalDigits !== 2 && additionalDigits !== 1 && additionalDigits !== 0) {\n    throw new RangeError('additionalDigits must be 0, 1 or 2');\n  }\n\n  if (!(typeof argument === 'string' || Object.prototype.toString.call(argument) === '[object String]')) {\n    return new Date(NaN);\n  }\n\n  var dateStrings = splitDateString(argument);\n  var date;\n\n  if (dateStrings.date) {\n    var parseYearResult = parseYear(dateStrings.date, additionalDigits);\n    date = parseDate(parseYearResult.restDateString, parseYearResult.year);\n  }\n\n  if (isNaN(date) || !date) {\n    return new Date(NaN);\n  }\n\n  var timestamp = date.getTime();\n  var time = 0;\n  var offset;\n\n  if (dateStrings.time) {\n    time = parseTime(dateStrings.time);\n\n    if (isNaN(time) || time === null) {\n      return new Date(NaN);\n    }\n  }\n\n  if (dateStrings.timezone) {\n    offset = parseTimezone(dateStrings.timezone);\n\n    if (isNaN(offset)) {\n      return new Date(NaN);\n    }\n  } else {\n    var dirtyDate = new Date(timestamp + time); // js parsed string assuming it's in UTC timezone\n    // but we need it to be parsed in our timezone\n    // so we use utc values to build date in our timezone.\n    // Year values from 0 to 99 map to the years 1900 to 1999\n    // so set year explicitly with setFullYear.\n\n    var result = new Date(0);\n    result.setFullYear(dirtyDate.getUTCFullYear(), dirtyDate.getUTCMonth(), dirtyDate.getUTCDate());\n    result.setHours(dirtyDate.getUTCHours(), dirtyDate.getUTCMinutes(), dirtyDate.getUTCSeconds(), dirtyDate.getUTCMilliseconds());\n    return result;\n  }\n\n  return new Date(timestamp + time + offset);\n}\n\nfunction splitDateString(dateString) {\n  var dateStrings = {};\n  var array = dateString.split(patterns.dateTimeDelimiter);\n  var timeString; // The regex match should only return at maximum two array elements.\n  // [date], [time], or [date, time].\n\n  if (array.length > 2) {\n    return dateStrings;\n  }\n\n  if (/:/.test(array[0])) {\n    dateStrings.date = null;\n    timeString = array[0];\n  } else {\n    dateStrings.date = array[0];\n    timeString = array[1];\n\n    if (patterns.timeZoneDelimiter.test(dateStrings.date)) {\n      dateStrings.date = dateString.split(patterns.timeZoneDelimiter)[0];\n      timeString = dateString.substr(dateStrings.date.length, dateString.length);\n    }\n  }\n\n  if (timeString) {\n    var token = patterns.timezone.exec(timeString);\n\n    if (token) {\n      dateStrings.time = timeString.replace(token[1], '');\n      dateStrings.timezone = token[1];\n    } else {\n      dateStrings.time = timeString;\n    }\n  }\n\n  return dateStrings;\n}\n\nfunction parseYear(dateString, additionalDigits) {\n  var regex = new RegExp('^(?:(\\\\d{4}|[+-]\\\\d{' + (4 + additionalDigits) + '})|(\\\\d{2}|[+-]\\\\d{' + (2 + additionalDigits) + '})$)');\n  var captures = dateString.match(regex); // Invalid ISO-formatted year\n\n  if (!captures) return {\n    year: null\n  };\n  var year = captures[1] && parseInt(captures[1]);\n  var century = captures[2] && parseInt(captures[2]);\n  return {\n    year: century == null ? year : century * 100,\n    restDateString: dateString.slice((captures[1] || captures[2]).length)\n  };\n}\n\nfunction parseDate(dateString, year) {\n  // Invalid ISO-formatted year\n  if (year === null) return null;\n  var captures = dateString.match(dateRegex); // Invalid ISO-formatted string\n\n  if (!captures) return null;\n  var isWeekDate = !!captures[4];\n  var dayOfYear = parseDateUnit(captures[1]);\n  var month = parseDateUnit(captures[2]) - 1;\n  var day = parseDateUnit(captures[3]);\n  var week = parseDateUnit(captures[4]);\n  var dayOfWeek = parseDateUnit(captures[5]) - 1;\n\n  if (isWeekDate) {\n    if (!validateWeekDate(year, week, dayOfWeek)) {\n      return new Date(NaN);\n    }\n\n    return dayOfISOWeekYear(year, week, dayOfWeek);\n  } else {\n    var date = new Date(0);\n\n    if (!validateDate(year, month, day) || !validateDayOfYearDate(year, dayOfYear)) {\n      return new Date(NaN);\n    }\n\n    date.setUTCFullYear(year, month, Math.max(dayOfYear, day));\n    return date;\n  }\n}\n\nfunction parseDateUnit(value) {\n  return value ? parseInt(value) : 1;\n}\n\nfunction parseTime(timeString) {\n  var captures = timeString.match(timeRegex);\n  if (!captures) return null; // Invalid ISO-formatted time\n\n  var hours = parseTimeUnit(captures[1]);\n  var minutes = parseTimeUnit(captures[2]);\n  var seconds = parseTimeUnit(captures[3]);\n\n  if (!validateTime(hours, minutes, seconds)) {\n    return NaN;\n  }\n\n  return hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE + seconds * 1000;\n}\n\nfunction parseTimeUnit(value) {\n  return value && parseFloat(value.replace(',', '.')) || 0;\n}\n\nfunction parseTimezone(timezoneString) {\n  if (timezoneString === 'Z') return 0;\n  var captures = timezoneString.match(timezoneRegex);\n  if (!captures) return 0;\n  var sign = captures[1] === '+' ? -1 : 1;\n  var hours = parseInt(captures[2]);\n  var minutes = captures[3] && parseInt(captures[3]) || 0;\n\n  if (!validateTimezone(hours, minutes)) {\n    return NaN;\n  }\n\n  return sign * (hours * MILLISECONDS_IN_HOUR + minutes * MILLISECONDS_IN_MINUTE);\n}\n\nfunction dayOfISOWeekYear(isoWeekYear, week, day) {\n  var date = new Date(0);\n  date.setUTCFullYear(isoWeekYear, 0, 4);\n  var fourthOfJanuaryDay = date.getUTCDay() || 7;\n  var diff = (week - 1) * 7 + day + 1 - fourthOfJanuaryDay;\n  date.setUTCDate(date.getUTCDate() + diff);\n  return date;\n} // Validation functions\n// February is null to handle the leap year (using ||)\n\n\nvar daysInMonths = [31, null, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31];\n\nfunction isLeapYearIndex(year) {\n  return year % 400 === 0 || year % 4 === 0 && year % 100;\n}\n\nfunction validateDate(year, month, date) {\n  return month >= 0 && month <= 11 && date >= 1 && date <= (daysInMonths[month] || (isLeapYearIndex(year) ? 29 : 28));\n}\n\nfunction validateDayOfYearDate(year, dayOfYear) {\n  return dayOfYear >= 1 && dayOfYear <= (isLeapYearIndex(year) ? 366 : 365);\n}\n\nfunction validateWeekDate(_year, week, day) {\n  return week >= 1 && week <= 53 && day >= 0 && day <= 6;\n}\n\nfunction validateTime(hours, minutes, seconds) {\n  if (hours === 24) {\n    return minutes === 0 && seconds === 0;\n  }\n\n  return seconds >= 0 && seconds < 60 && minutes >= 0 && minutes < 60 && hours >= 0 && hours < 25;\n}\n\nfunction validateTimezone(_hours, minutes) {\n  return minutes >= 0 && minutes <= 59;\n}","export const APP_BASE_URL = '';\n\nexport const MESSAGE_STATUS = {\n  FAILED: 'failed',\n  SUCCESS: 'success',\n  PROGRESS: 'progress',\n};\n\nexport const MESSAGE_TYPE = {\n  INCOMING: 0,\n  OUTGOING: 1,\n  ACTIVITY: 2,\n  TEMPLATE: 3,\n};\n\nexport const WOOT_PREFIX = 'chatwoot-widget:';\n","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ContactInfoPanel.vue?vue&type=style&index=0&id=69730bf8&prod&lang=scss&scoped=true&\"","// Process [@mention](mention://user/1/Pranav)\nconst USER_MENTIONS_REGEX = /mention:\\/\\/(user|team)\\/(\\d+)\\/(.+)/gm;\n\nconst buildMentionTokens = () => (state, silent) => {\n  var label;\n  var labelEnd;\n  var labelStart;\n  var pos;\n  var res;\n  var token;\n  var href = '';\n  var max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5b /* [ */) {\n    return false;\n  }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) {\n    return false;\n  }\n\n  label = state.src.slice(labelStart, labelEnd);\n  pos = labelEnd + 1;\n\n  if (pos < max && state.src.charCodeAt(pos) === 0x28 /* ( */) {\n    pos += 1;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n    pos += 1;\n  }\n\n  if (!href.match(new RegExp(USER_MENTIONS_REGEX))) {\n    return false;\n  }\n\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token = state.push('mention', '');\n    token.href = href;\n    token.content = label;\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n\n  return true;\n};\n\nconst renderMentions = () => (tokens, idx) => {\n  return `<span class=\"prosemirror-mention-node\">${tokens[idx].content}</span>`;\n};\n\nexport default function mentionPlugin(md) {\n  md.renderer.rules.mention = renderMentions(md);\n  md.inline.ruler.before('link', 'mention', buildMentionTokens(md));\n}\n","import mila from 'markdown-it-link-attributes';\nimport mentionPlugin from './markdownIt/link';\n\nconst setImageHeight = inlineToken => {\n  const imgSrc = inlineToken.attrGet('src');\n  if (!imgSrc) return;\n  const url = new URL(imgSrc);\n  const height = url.searchParams.get('cw_image_height');\n  if (!height) return;\n  inlineToken.attrSet('style', `height: ${height};`);\n};\n\nconst processInlineToken = blockToken => {\n  blockToken.children.forEach(inlineToken => {\n    if (inlineToken.type === 'image') {\n      setImageHeight(inlineToken);\n    }\n  });\n};\n\nconst imgResizeManager = md => {\n  // Custom rule for image resize in markdown\n  // If the image url has a query param cw_image_height, then add a style attribute to the image\n  md.core.ruler.after('inline', 'add-image-height', state => {\n    state.tokens.forEach(blockToken => {\n      if (blockToken.type === 'inline') {\n        processInlineToken(blockToken);\n      }\n    });\n  });\n};\n\nconst md = require('markdown-it')({\n  html: false,\n  xhtmlOut: true,\n  breaks: true,\n  langPrefix: 'language-',\n  linkify: true,\n  typographer: true,\n  quotes: '\\u201c\\u201d\\u2018\\u2019',\n  maxNesting: 20,\n})\n  .use(mentionPlugin)\n  .use(imgResizeManager)\n  .use(mila, {\n    attrs: {\n      class: 'link',\n      rel: 'noreferrer noopener nofollow',\n      target: '_blank',\n    },\n  });\n\nconst TWITTER_USERNAME_REGEX = /(^|[^@\\w])@(\\w{1,15})\\b/g;\nconst TWITTER_USERNAME_REPLACEMENT = '$1[@$2](http://twitter.com/$2)';\nconst TWITTER_HASH_REGEX = /(^|\\s)#(\\w+)/g;\nconst TWITTER_HASH_REPLACEMENT = '$1[#$2](https://twitter.com/hashtag/$2)';\n\nclass MessageFormatter {\n  constructor(message, isATweet = false, isAPrivateNote = false) {\n    this.message = message || '';\n    this.isAPrivateNote = isAPrivateNote;\n    this.isATweet = isATweet;\n  }\n\n  formatMessage() {\n    let updatedMessage = this.message;\n    if (this.isATweet && !this.isAPrivateNote) {\n      updatedMessage = updatedMessage.replace(\n        TWITTER_USERNAME_REGEX,\n        TWITTER_USERNAME_REPLACEMENT\n      );\n      updatedMessage = updatedMessage.replace(\n        TWITTER_HASH_REGEX,\n        TWITTER_HASH_REPLACEMENT\n      );\n    }\n    return md.render(updatedMessage);\n  }\n\n  get formattedMessage() {\n    return this.formatMessage();\n  }\n\n  get plainText() {\n    const strippedOutHtml = new DOMParser().parseFromString(\n      this.formattedMessage,\n      'text/html'\n    );\n    return strippedOutHtml.body.textContent || '';\n  }\n}\n\nexport default MessageFormatter;\n","import MessageFormatter from '../helpers/MessageFormatter';\n\n/**\n * A composable providing utility functions for message formatting.\n *\n * @returns {Object} A set of functions for message formatting.\n */\nexport const useMessageFormatter = () => {\n  /**\n   * Formats a message based on specified conditions.\n   *\n   * @param {string} message - The message to be formatted.\n   * @param {boolean} isATweet - Whether the message is a tweet.\n   * @param {boolean} isAPrivateNote - Whether the message is a private note.\n   * @returns {string} - The formatted message.\n   */\n  const formatMessage = (message, isATweet, isAPrivateNote) => {\n    const messageFormatter = new MessageFormatter(\n      message,\n      isATweet,\n      isAPrivateNote\n    );\n    return messageFormatter.formattedMessage;\n  };\n\n  /**\n   * Converts a message to plain text.\n   *\n   * @param {string} message - The message to be converted.\n   * @param {boolean} isATweet - Whether the message is a tweet.\n   * @returns {string} - The plain text message.\n   */\n  const getPlainText = (message, isATweet) => {\n    const messageFormatter = new MessageFormatter(message, isATweet);\n    return messageFormatter.plainText;\n  };\n\n  /**\n   * Truncates a description to a maximum length of 100 characters.\n   *\n   * @param {string} [description=''] - The description to be truncated.\n   * @returns {string} - The truncated description.\n   */\n  const truncateMessage = (description = '') => {\n    if (description.length < 100) {\n      return description;\n    }\n\n    return `${description.slice(0, 97)}...`;\n  };\n\n  /**\n   * Highlights occurrences of a search term within given content.\n   *\n   * @param {string} [content=''] - The content in which to search.\n   * @param {string} [searchTerm=''] - The term to search for.\n   * @param {string} [highlightClass=''] - The CSS class to apply to the highlighted term.\n   * @returns {string} - The content with highlighted terms.\n   */\n  const highlightContent = (\n    content = '',\n    searchTerm = '',\n    highlightClass = ''\n  ) => {\n    const plainTextContent = getPlainText(content);\n\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n    const escapedSearchTerm = searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n    return plainTextContent.replace(\n      new RegExp(`(${escapedSearchTerm})`, 'ig'),\n      `<span class=\"${highlightClass}\">$1</span>`\n    );\n  };\n\n  return {\n    formatMessage,\n    getPlainText,\n    truncateMessage,\n    highlightContent,\n  };\n};\n"],"sourceRoot":""}