(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{1505:function(t,e,n){"use strict";var o=n(250),a={__name:"BackButton",props:{backUrl:{type:[String,Object],default:""},buttonLabel:{type:String,default:""},compact:{type:Boolean,default:!1}},setup:function(t){var e=t,n=e.compact?"text-sm text-slate-600 dark:text-slate-300":"text-base text-woot-500 dark:text-woot-500";return{__sfc:!0,props:e,goBack:function(){""!==e.backUrl?o.a.push(e.backUrl):o.a.go(-1)},buttonStyleClass:n}}},s=n(8),r=Object(s.a)(a,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("button",{staticClass:"flex items-center p-0 font-normal cursor-pointer",class:n.buttonStyleClass,on:{"!click":function(t){return n.goBack.apply(null,arguments)}}},[e("fluent-icon",{staticClass:"-ml-1",attrs:{icon:"chevron-left"}}),t._v("\n  "+t._s(t.buttonLabel||t.$t("GENERAL_SETTINGS.BACK"))+"\n")],1)}),[],!1,null,null,null);e.a=r.exports},1575:function(t,e,n){"use strict";var o=n(358),a={components:{BackButton:n(1505).a},props:{headerTitle:{default:"",type:String},buttonRoute:{default:"",type:String},buttonText:{default:"",type:String},icon:{default:"",type:String},showBackButton:{type:Boolean,default:!1},showNewButton:{type:Boolean,default:!1},backUrl:{type:[String,Object],default:""},backButtonLabel:{type:String,default:""},showSidemenuIcon:{type:Boolean,default:!0}},setup:function(){return{isAdmin:Object(o.a)().isAdmin}},computed:{iconClass:function(){return"icon ".concat(this.icon," header--icon")}}},s=n(8),r=Object(s.a)(a,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex justify-between items-center h-14 min-h-[3.5rem] px-4 py-2 bg-white dark:bg-slate-900 border-b border-slate-50 dark:border-slate-800/50"},[e("h1",{staticClass:"flex items-center mb-0 text-2xl text-slate-900 dark:text-slate-100"},[t.showSidemenuIcon?e("woot-sidemenu-icon"):t._e(),t._v(" "),t.showBackButton?e("BackButton",{staticClass:"ml-2 mr-4",attrs:{"button-label":t.backButtonLabel,"back-url":t.backUrl}}):t._e(),t._v(" "),t.icon?e("fluent-icon",{staticClass:"hidden ml-1 mr-2 rtl:ml-2 rtl:mr-1 md:block",class:t.iconClass,attrs:{icon:t.icon}}):t._e(),t._v(" "),t._t("default"),t._v(" "),e("span",{staticClass:"text-2xl font-medium text-slate-900 dark:text-slate-100"},[t._v("\n      "+t._s(t.headerTitle)+"\n    ")])],2),t._v(" "),t.showNewButton&&t.isAdmin?e("router-link",{staticClass:"button success button--fixed-top px-3.5 py-1 rounded-[5px] flex gap-2",attrs:{to:t.buttonRoute}},[e("fluent-icon",{attrs:{icon:"add-circle"}}),t._v(" "),e("span",{staticClass:"button__content"},[t._v("\n      "+t._s(t.buttonText)+"\n    ")])],1):t._e()],1)}),[],!1,null,null,null);e.a=r.exports},1882:function(t,e,n){},1883:function(t,e,n){},2136:function(t,e,n){"use strict";n(1882)},2137:function(t,e,n){"use strict";n(1883)},2212:function(t,e,n){"use strict";n.r(e);n(51),n(24),n(10),n(21),n(29),n(23),n(30);var o=n(38),a=n(1925),s=n(5),r=n(283),c=n(864),i={__name:"AddNote",emits:["add"],setup:function(t,e){var n=e.emit,o=Object(s.ref)(""),a=Object(s.computed)((function(){return""===o.value})),i=function(){""!==o.value&&n("add",o.value),o.value=""},l={"$mod+Enter":{action:function(){return i()},allowOnFocusedInput:!0}};return Object(r.a)(l),{__sfc:!0,emit:n,noteContent:o,buttonDisabled:a,onAdd:i,keyboardEvents:l,WootMessageEditor:c.a}}},l=(n(2136),n(8)),u=Object(l.a)(i,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"flex flex-col flex-grow p-4 mb-2 overflow-hidden bg-white border border-solid rounded-md shadow-sm border-slate-75 dark:border-slate-700 dark:bg-slate-900 text-slate-700 dark:text-slate-100"},[e(n.WootMessageEditor,{staticClass:"input--note",attrs:{placeholder:t.$t("NOTES.ADD.PLACEHOLDER"),"enable-suggestions":!1},model:{value:n.noteContent,callback:function(t){n.noteContent=t},expression:"noteContent"}}),t._v(" "),e("div",{staticClass:"flex justify-end w-full"},[e("woot-button",{attrs:{"color-scheme":"warning",title:t.$t("NOTES.ADD.TITLE"),"is-disabled":n.buttonDisabled},on:{click:n.onAdd}},[t._v("\n      "+t._s(t.$t("NOTES.ADD.BUTTON"))+" "+t._s("(\u2318\u23ce)")+"\n    ")])],1)],1)}),[],!1,null,"1f89b92a",null).exports,d=(n(44),n(248)),f=n(861),b=n(862),p={components:{Thumbnail:d.a},props:{id:{type:Number,default:0},note:{type:String,default:""},user:{type:Object,default:function(){}},createdAt:{type:Number,default:0}},setup:function(){return{formatMessage:Object(f.a)().formatMessage}},data:function(){return{showDeleteModal:!1}},computed:{readableTime:function(){return Object(b.b)(this.createdAt)},noteAuthor:function(){return this.user||{}},noteAuthorName:function(){return this.noteAuthor.name||this.$t("APP_GLOBAL.DELETED_USER")}},methods:{toggleDeleteModal:function(){this.showDeleteModal=!this.showDeleteModal},onDelete:function(){this.$emit("delete",this.id)},confirmDeletion:function(){this.onDelete(),this.closeDelete()},closeDelete:function(){this.showDeleteModal=!1}}},h=(n(2137),Object(l.a)(p,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex flex-col flex-grow p-4 mb-2 overflow-hidden bg-white border border-solid rounded-md shadow-sm border-slate-75 dark:border-slate-700 dark:bg-slate-900 text-slate-700 dark:text-slate-100 note-wrap"},[e("div",{staticClass:"flex items-end justify-between gap-1 text-xs"},[e("div",{staticClass:"flex items-center"},[e("Thumbnail",{attrs:{title:t.noteAuthorName,src:t.noteAuthor.thumbnail,username:t.noteAuthorName,size:"20px"}}),t._v(" "),e("div",{staticClass:"my-0 mx-1 p-0.5 flex flex-row gap-1"},[e("span",{staticClass:"font-medium text-slate-800 dark:text-slate-100"},[t._v("\n          "+t._s(t.noteAuthorName)+"\n        ")]),t._v(" "),e("span",{staticClass:"text-slate-700 dark:text-slate-100"},[t._v("\n          "+t._s(t.$t("NOTES.LIST.LABEL"))+"\n        ")]),t._v(" "),e("span",{staticClass:"font-medium text-slate-700 dark:text-slate-100"},[t._v("\n          "+t._s(t.readableTime)+"\n        ")])])],1),t._v(" "),e("div",{staticClass:"flex invisible actions"},[e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$t("NOTES.CONTENT_HEADER.DELETE"),expression:"$t('NOTES.CONTENT_HEADER.DELETE')"}],attrs:{variant:"smooth",size:"tiny",icon:"delete","color-scheme":"secondary"},on:{click:t.toggleDeleteModal}})],1),t._v(" "),t.showDeleteModal?e("woot-delete-modal",{attrs:{show:t.showDeleteModal,"on-close":t.closeDelete,"on-confirm":t.confirmDeletion,title:t.$t("DELETE_NOTE.CONFIRM.TITLE"),message:t.$t("DELETE_NOTE.CONFIRM.MESSAGE"),"confirm-text":t.$t("DELETE_NOTE.CONFIRM.YES"),"reject-text":t.$t("DELETE_NOTE.CONFIRM.NO")},on:{"update:show":function(e){t.showDeleteModal=e}}}):t._e()],1),t._v(" "),e("p",{directives:[{name:"dompurify-html",rawName:"v-dompurify-html",value:t.formatMessage(t.note||""),expression:"formatMessage(note || '')"}],staticClass:"mt-4 note__content"})])}),[],!1,null,"7c3aa848",null).exports),m=n(198),_={components:{AddNote:u,ContactNote:h,Spinner:m.a},props:{notes:{type:Array,default:function(){return[]}},isFetching:{type:Boolean,default:!1}},methods:{onAddNote:function(t){this.$emit("add",t)},onEditNote:function(t){this.$emit("edit",t)},onDeleteNote:function(t){this.$emit("delete",t)}}};function v(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?v(Object(n),!0).forEach((function(e){g(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function g(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var x={components:{NoteList:Object(l.a)(_,(function(){var t=this,e=t._self._c;return e("div",[e("AddNote",{on:{add:t.onAddNote}}),t._v(" "),t._l(t.notes,(function(n){return e("ContactNote",{key:n.id,attrs:{id:n.id,note:n.content,user:n.user,"created-at":n.created_at},on:{edit:t.onEditNote,delete:t.onDeleteNote}})})),t._v(" "),t.isFetching?e("div",{staticClass:"text-center p-4 text-base"},[e("Spinner",{attrs:{size:""}}),t._v(" "),e("span",[t._v(t._s(t.$t("NOTES.FETCHING_NOTES")))])],1):t.notes.length?t._e():e("div",{staticClass:"text-center p-4 text-base"},[e("span",[t._v(t._s(t.$t("NOTES.NOT_AVAILABLE")))])])],2)}),[],!1,null,null,null).exports},props:{contactId:{type:Number,required:!0}},computed:O(O({},Object(o.mapGetters)({uiFlags:"contactNotes/getUIFlags"})),{},{notes:function(){return this.$store.getters["contactNotes/getAllNotesByContact"](this.contactId)}}),mounted:function(){this.fetchContactNotes()},methods:{fetchContactNotes:function(){var t=this.contactId;t&&this.$store.dispatch("contactNotes/get",{contactId:t})},onAdd:function(t){var e=this.contactId;this.$store.dispatch("contactNotes/create",{content:t,contactId:e})},onDelete:function(t){var e=this.contactId;this.$store.dispatch("contactNotes/delete",{noteId:t,contactId:e})}}},w=Object(l.a)(x,(function(){var t=this;return(0,t._self._c)("NoteList",{attrs:{"is-fetching":t.uiFlags.isFetching,notes:t.notes},on:{add:t.onAdd,delete:t.onDelete}})}),[],!1,null,null,null).exports,E=n(1575);function y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function C(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?y(Object(n),!0).forEach((function(e){N(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function N(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var T={components:{ContactInfoPanel:a.a,ContactNotes:w,SettingsHeader:E.a,Spinner:m.a,Thumbnail:d.a},props:{contactId:{type:[String,Number],required:!0}},data:function(){return{selectedTabIndex:0}},computed:C(C({},Object(o.mapGetters)({uiFlags:"contacts/getUIFlags"})),{},{tabs:function(){return[{key:0,name:this.$t("NOTES.HEADER.TITLE")}]},showEmptySearchResult:function(){return!!this.searchQuery&&0===this.records.length},contact:function(){return this.$store.getters["contacts/getContact"](this.contactId)},backUrl:function(){return"/app/accounts/".concat(this.$route.params.accountId,"/contacts")}}),mounted:function(){this.fetchContactDetails()},methods:{onClickTabChange:function(t){this.selectedTabIndex=t},fetchContactDetails:function(){var t=this.contactId;this.$store.dispatch("contacts/show",{id:t})}}},k=Object(l.a)(T,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex justify-between flex-col h-full m-0 flex-1 bg-white dark:bg-slate-900"},[e("SettingsHeader",{attrs:{"button-route":"new","header-title":t.contact.name,"show-back-button":"","back-button-label":t.$t("CONTACT_PROFILE.BACK_BUTTON"),"back-url":t.backUrl,"show-new-button":!1}},[t.contact.thumbnail?e("Thumbnail",{staticClass:"mr-2 rtl:mr-0 rtl:ml-2",attrs:{src:t.contact.thumbnail,username:t.contact.name,size:"32px"}}):t._e()],1),t._v(" "),t.uiFlags.isFetchingItem?e("div",{staticClass:"text-center p-4 text-base h-full"},[e("Spinner",{attrs:{size:""}}),t._v(" "),e("span",[t._v(t._s(t.$t("CONTACT_PROFILE.LOADING")))])],1):t.contact.id?e("div",{staticClass:"overflow-hidden flex-1 min-w-0"},[e("div",{staticClass:"flex flex-wrap ml-auto mr-auto max-w-full h-full"},[e("ContactInfoPanel",{attrs:{"show-close-button":!1,"show-avatar":!1,contact:t.contact}}),t._v(" "),e("div",{staticClass:"w-3/4 h-full"},[e("woot-tabs",{attrs:{index:t.selectedTabIndex},on:{change:t.onClickTabChange}},t._l(t.tabs,(function(t){return e("woot-tabs-item",{key:t.key,attrs:{name:t.name,"show-badge":!1}})})),1),t._v(" "),e("div",{staticClass:"bg-slate-25 dark:bg-slate-800 h-[calc(100%-40px)] p-4 overflow-auto"},[0===t.selectedTabIndex?e("ContactNotes",{attrs:{"contact-id":Number(t.contactId)}}):t._e()],1)],1)],1)]):t._e()],1)}),[],!1,null,null,null);e.default=k.exports}}]);
//# sourceMappingURL=62-44b55ca70886320da1da.chunk.js.map