(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1513:function(t,e,n){},1517:function(t,e,n){},1519:function(t,e,n){"use strict";n(21),n(75),n(91),n(44),n(54),n(284);var i=n(359),r=n(360),a=n(248),o={components:{WootDropdownItem:i.a,WootDropdownMenu:r.a,Thumbnail:a.a},props:{options:{type:Array,default:function(){return[]}},selectedItems:{type:Array,default:function(){return[]}},hasThumbnail:{type:Boolean,default:!0},inputPlaceholder:{type:String,default:"Search"},noSearchResult:{type:String,default:"No results found"}},data:function(){return{search:""}},computed:{filteredOptions:function(){var t=this;return this.options.filter((function(e){return e.name.toLowerCase().includes(t.search.toLowerCase())}))},noResult:function(){return 0===this.filteredOptions.length&&""!==this.search}},mounted:function(){this.focusInput()},methods:{onclick:function(t){this.$emit("click",t)},focusInput:function(){this.$refs.searchbar.focus()},isActive:function(t){return this.selectedItems.some((function(e){return e&&t.id===e.id}))}}},s=(n(1527),n(8)),c=Object(s.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"dropdown-wrap"},[e("div",{staticClass:"mb-2 flex-shrink-0 flex-grow-0 flex-auto max-h-8"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.search,expression:"search"}],ref:"searchbar",staticClass:"search-input",attrs:{type:"text",autofocus:"true",placeholder:t.inputPlaceholder},domProps:{value:t.search},on:{input:function(e){e.target.composing||(t.search=e.target.value)}}})]),t._v(" "),e("div",{staticClass:"flex justify-start items-start flex-auto overflow-auto"},[e("div",{staticClass:"w-full max-h-[10rem]"},[e("WootDropdownMenu",t._l(t.filteredOptions,(function(n){return e("WootDropdownItem",{key:n.id},[e("woot-button",{staticClass:"multiselect-dropdown--item",class:{active:t.isActive(n)},attrs:{variant:t.isActive(n)?"hollow":"clear","color-scheme":"secondary"},on:{click:()=>t.onclick(n)}},[e("div",{staticClass:"flex items-center gap-1.5"},[t.hasThumbnail?e("Thumbnail",{attrs:{src:n.thumbnail,size:"24px",username:n.name,status:n.availability_status,"has-border":""}}):t._e(),t._v(" "),e("div",{staticClass:"flex items-center justify-between w-full min-w-0 gap-2"},[e("span",{staticClass:"leading-4 my-0 overflow-hidden whitespace-nowrap text-ellipsis text-sm",attrs:{title:n.name}},[t._v("\n                  "+t._s(n.name)+"\n                ")]),t._v(" "),t.isActive(n)?e("fluent-icon",{attrs:{icon:"checkmark"}}):t._e()],1)],1)])],1)})),1),t._v(" "),t.noResult?e("h4",{staticClass:"w-full justify-center items-center flex text-slate-500 dark:text-slate-300 py-2 px-2.5 overflow-hidden whitespace-nowrap text-ellipsis text-sm"},[t._v("\n        "+t._s(t.noSearchResult)+"\n      ")]):t._e()],1)])])}),[],!1,null,"b1626936",null);e.a=c.exports},1527:function(t,e,n){"use strict";n(1513)},1534:function(t,e,n){"use strict";var i=n(248),r=n(1519),a={components:{Thumbnail:i.a,MultiselectDropdownItems:r.a},props:{options:{type:Array,default:function(){return[]}},selectedItem:{type:Object,default:function(){return{}}},hasThumbnail:{type:Boolean,default:!0},multiselectorTitle:{type:String,default:""},multiselectorPlaceholder:{type:String,default:"None"},noSearchResult:{type:String,default:"No results found"},inputPlaceholder:{type:String,default:"Search"}},data:function(){return{showSearchDropdown:!1}},computed:{hasValue:function(){return!(!this.selectedItem||!this.selectedItem.id)}},methods:{toggleDropdown:function(){this.showSearchDropdown=!this.showSearchDropdown},onCloseDropdown:function(){this.showSearchDropdown=!1},onClickSelectItem:function(t){this.$emit("click",t),this.onCloseDropdown()}}},o=(n(1567),n(8)),s=Object(o.a)(a,(function(){var t=this,e=t._self._c;return e("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.onCloseDropdown,expression:"onCloseDropdown"}],staticClass:"relative w-full mb-2",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"])?null:t.onCloseDropdown.apply(null,arguments)}}},[e("woot-button",{staticClass:"w-full border border-solid border-slate-100 dark:border-slate-700 px-2 hover:border-slate-75 dark:hover:border-slate-600",attrs:{variant:"hollow","color-scheme":"secondary"},on:{click:t.toggleDropdown}},[e("div",{staticClass:"flex gap-1"},[t.hasValue&&t.hasThumbnail?e("Thumbnail",{attrs:{src:t.selectedItem.thumbnail,size:"24px",status:t.selectedItem.availability_status,username:t.selectedItem.name}}):t._e(),t._v(" "),e("div",{staticClass:"flex justify-between w-full min-w-0 items-center"},[t.hasValue?e("h4",{staticClass:"items-center leading-tight overflow-hidden whitespace-nowrap text-ellipsis text-sm text-slate-800 dark:text-slate-100",attrs:{title:t.selectedItem.name}},[t._v("\n          "+t._s(t.selectedItem.name)+"\n        ")]):e("h4",{staticClass:"text-ellipsis text-sm text-slate-800 dark:text-slate-100"},[t._v("\n          "+t._s(t.multiselectorPlaceholder)+"\n        ")]),t._v(" "),t.showSearchDropdown?e("i",{staticClass:"icon ion-chevron-up text-slate-600 mr-1"}):e("i",{staticClass:"icon ion-chevron-down text-slate-600 mr-1"})])],1)]),t._v(" "),e("div",{staticClass:"dropdown-pane",class:{"dropdown-pane--open":t.showSearchDropdown}},[e("div",{staticClass:"flex justify-between items-center mb-1"},[e("h4",{staticClass:"text-sm text-slate-800 dark:text-slate-100 m-0 overflow-hidden whitespace-nowrap text-ellipsis"},[t._v("\n        "+t._s(t.multiselectorTitle)+"\n      ")]),t._v(" "),e("woot-button",{attrs:{icon:"dismiss",size:"tiny","color-scheme":"secondary",variant:"clear"},on:{click:t.onCloseDropdown}})],1),t._v(" "),t.showSearchDropdown?e("MultiselectDropdownItems",{attrs:{options:t.options,"selected-items":[t.selectedItem],"has-thumbnail":t.hasThumbnail,"input-placeholder":t.inputPlaceholder,"no-search-result":t.noSearchResult},on:{click:t.onClickSelectItem}}):t._e()],1)],1)}),[],!1,null,"1a2cccac",null);e.a=s.exports},1567:function(t,e,n){"use strict";n(1517)},1891:function(t,e,n){},1892:function(t,e,n){},1893:function(t,e,n){},1894:function(t,e,n){},1926:function(t,e,n){"use strict";var i=n(275),r=n(879),a=(n(23),n(75),n(91),n(9),n(22),n(33),n(186)),o=n(42);function s(t,e,n,i,r,a,o){try{var s=t[a](o),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(i,r)}function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(Object(n),!0).forEach((function(e){u(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function u(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e,n){n.state.doc.descendants((function(i,r){if("image"===i.type.name&&i.attrs.src===t){var a=n.state.tr.setNodeMarkup(r,null,l(l({},i.attrs),{},{src:e}));n.dispatch(a)}}))}var p=function(t){return new o.Plugin({props:{handlePaste:function(e,n,i){var r=[];i.content.descendants((function(t){"image"===t.type.name&&r.push(t.attrs.src)})),Promise.all(r.map(function(){var n,i=(n=regeneratorRuntime.mark((function n(i){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t(i);case 3:r=n.sent,d(i,r,e),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.error("Error uploading image:",n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})),function(){var t=this,e=arguments;return new Promise((function(i,r){var a=n.apply(t,e);function o(t){s(a,i,r,o,c,"next",t)}function c(t){s(a,i,r,o,c,"throw",t)}o(void 0)}))});return function(t){return i.apply(this,arguments)}}()))}}})},h=n(866),f=n(64),m=n(719),E=n(889);function v(t,e,n,i,r,a,o){try{var s=t[a](o),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(i,r)}function T(t){return function(){var e=this,n=arguments;return new Promise((function(i,r){var a=t.apply(e,n);function o(t){v(a,i,r,o,s,"next",t)}function s(t){v(a,i,r,o,s,"throw",t)}o(void 0)}))}}var _=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=arguments.length>4?arguments[4]:void 0;return a.EditorState.create({doc:new a.ArticleMarkdownTransformer(a.fullSchema).parse(t),plugins:Object(a.buildEditor)({schema:a.fullSchema,placeholder:e,methods:i,plugins:n,enabledMenuOptions:r})})},g={mixins:[E.a],props:{value:{type:String,default:""},editorId:{type:String,default:""},placeholder:{type:String,default:""},enabledMenuOptions:{type:Array,default:function(){return[]}}},setup:function(){var t=Object(m.a)();return{uiSettings:t.uiSettings,updateUISettings:t.updateUISettings}},data:function(){return{editorView:null,state:void 0,plugins:[p(this.handleImageUpload)]}},computed:{contentFromEditor:function(){return this.editorView?a.ArticleMarkdownSerializer.serialize(this.editorView.state.doc):""}},watch:{value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";t!==this.contentFromEditor&&this.reloadState()},editorId:function(){this.reloadState()}},created:function(){this.state=_(this.value,this.placeholder,this.plugins,{onImageUpload:this.openFileBrowser},this.enabledMenuOptions)},mounted:function(){this.createEditorView(),this.editorView.updateState(this.state),this.focusEditorInputField()},methods:{openFileBrowser:function(){this.$refs.imageUploadInput.click()},handleImageUpload:function(t){var e=this;return T(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$store.dispatch("articles/uploadExternalImage",{portalSlug:e.$route.params.portalSlug,url:t});case 3:return i=n.sent,n.abrupt("return",i);case 7:return n.prev=7,n.t0=n.catch(0),Object(f.a)(e.$t("HELP_CENTER.ARTICLE_EDITOR.IMAGE_UPLOAD.UN_AUTHORIZED_ERROR")),n.abrupt("return","");case 11:case"end":return n.stop()}}),n,null,[[0,7]])})))()},onFileChange:function(){var t=this.$refs.imageUploadInput.files[0];Object(h.a)(t,4)?this.uploadImageToStorage(t):Object(f.a)(this.$t("HELP_CENTER.ARTICLE_EDITOR.IMAGE_UPLOAD.ERROR_FILE_SIZE",{size:4})),this.$refs.imageUploadInput.value=""},uploadImageToStorage:function(t){var e=this;return T(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$store.dispatch("articles/attachImage",{portalSlug:e.$route.params.portalSlug,file:t});case 3:(i=n.sent)&&e.onImageUploadStart(i),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),Object(f.a)(e.$t("HELP_CENTER.ARTICLE_EDITOR.IMAGE_UPLOAD.ERROR"));case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},onImageUploadStart:function(t){var e=this.editorView.state.selection.from,n=this.editorView.state.schema.nodes.image.create({src:t}),i=this.editorView.state.schema.node("paragraph");if(n){var r=this.editorView.state.tr.replaceSelectionWith(i).insert(e+1,n);this.editorView.dispatch(r.scrollIntoView()),this.focusEditorInputField()}},reloadState:function(){this.state=_(this.value,this.placeholder,this.plugins,{onImageUpload:this.openFileBrowser},this.enabledMenuOptions),this.editorView.updateState(this.state),this.focusEditorInputField()},createEditorView:function(){var t=this;this.editorView=new a.EditorView(this.$refs.editor,{state:this.state,dispatchTransaction:function(e){t.state=t.state.apply(e),t.emitOnChange()},handleDOMEvents:{keyup:function(){t.onKeyup()},keydown:function(e,n){t.onKeydown(n)},focus:function(){t.onFocus()},blur:function(){t.onBlur()},paste:function(e,n){var i=n.clipboardData.files;i.length>0&&(i.forEach((function(e){e.type.includes("image")&&t.uploadImageToStorage(e)})),n.preventDefault())}}})},handleKeyEvents:function(){},focusEditorInputField:function(){var t=this.editorView.state.tr,e=a.Selection.atEnd(t.doc);this.editorView.dispatch(t.setSelection(e)),this.editorView.focus()},emitOnChange:function(){this.editorView.updateState(this.state),this.$emit("input",this.contentFromEditor)},onKeyup:function(){this.$emit("keyup")},onKeydown:function(){this.$emit("keydown")},onBlur:function(){this.$emit("blur")},onFocus:function(){this.$emit("focus")}}},w=g,S=(n(2146),n(8)),C=Object(S.a)(w,(function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"editor-root editor--article"},[e("input",{ref:"imageUploadInput",attrs:{type:"file",accept:"image/png, image/jpeg, image/jpg, image/gif, image/webp",hidden:""},on:{change:t.onFileChange}}),t._v(" "),e("div",{ref:"editor"})])])}),[],!1,null,null,null).exports,A=n(832),b={components:{WootArticleEditor:C,ResizableTextArea:r.a},props:{article:{type:Object,default:function(){return{}}}},data:function(){return{articleTitle:"",articleContent:"",saveArticle:function(){},customEditorMenuOptions:A.a}},mounted:function(){var t=this;this.articleTitle=this.article.title,this.articleContent=this.article.content,this.saveArticle=Object(i.c)((function(e){t.$emit("saveArticle",e)}),300,!1)},methods:{onFocus:function(){this.$emit("focus")},onBlur:function(){this.$emit("blur")},onTitleInput:function(){this.saveArticle({title:this.articleTitle})},onContentInput:function(){this.saveArticle({content:this.articleContent})}}},R=(n(2147),Object(S.a)(b,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"edit-article--container"},[e("ResizableTextArea",{staticClass:"article-heading",attrs:{type:"text",rows:1,placeholder:t.$t("HELP_CENTER.EDIT_ARTICLE.TITLE_PLACEHOLDER")},on:{focus:t.onFocus,blur:t.onBlur,input:t.onTitleInput},model:{value:t.articleTitle,callback:function(e){t.articleTitle=e},expression:"articleTitle"}}),t._v(" "),e("WootArticleEditor",{staticClass:"article-content",attrs:{placeholder:t.$t("HELP_CENTER.EDIT_ARTICLE.CONTENT_PLACEHOLDER"),"enabled-menu-options":t.customEditorMenuOptions},on:{focus:t.onFocus,blur:t.onBlur,input:t.onContentInput},model:{value:t.articleContent,callback:function(e){t.articleContent=e},expression:"articleContent"}})],1)}),[],!1,null,"7f7c3bfc",null));e.a=R.exports},1930:function(t,e,n){"use strict";n(9),n(22),n(33);var i=n(64),r=n(155),a=n(94);function o(t,e,n,i,r,a,o){try{var s=t[a](o),c=s.value}catch(l){return void n(l)}s.done?e(c):Promise.resolve(c).then(i,r)}var s=r.b.ARTICLE_STATUS_TYPES,c={props:{isSidebarOpen:{type:Boolean,default:!0},backButtonLabel:{type:String,default:""},isUpdating:{type:Boolean,default:!1},isSaved:{type:Boolean,default:!1},enableOpenSidebarButton:{type:Boolean,default:!1}},data:function(){return{showActionsDropdown:!1,alertMessage:"",ARTICLE_STATUS_TYPES:s}},computed:{statusText:function(){return this.isUpdating?this.$t("HELP_CENTER.EDIT_HEADER.SAVING"):this.$t("HELP_CENTER.EDIT_HEADER.SAVED")},articleSlug:function(){return this.$route.params.articleSlug},currentPortalSlug:function(){return this.$route.params.portalSlug},currentArticleStatus:function(){return this.$store.getters["articles/articleStatus"](this.articleSlug)},isPublishedArticle:function(){return"published"===this.currentArticleStatus},isArchivedArticle:function(){return"archived"===this.currentArticleStatus}},methods:{onClickGoBack:function(){this.$emit("back")},showPreview:function(){this.$emit("show")},onClickAdd:function(){this.$emit("add")},updateArticleStatus:function(t){var e,n=this;return(e=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.$store.dispatch("articles/update",{portalSlug:n.currentPortalSlug,articleId:n.articleSlug,status:t});case 3:n.$emit("updateMeta"),n.statusUpdateSuccessMessage(t),n.closeActionsDropdown(),t===n.ARTICLE_STATUS_TYPES.ARCHIVE?n.$track(a.i.ARCHIVE_ARTICLE,{uiFrom:"header"}):t===n.ARTICLE_STATUS_TYPES.PUBLISH&&n.$track(a.i.PUBLISH_ARTICLE),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n.alertMessage=(null===e.t0||void 0===e.t0?void 0:e.t0.message)||n.statusUpdateErrorMessage(t);case 12:return e.prev=12,Object(i.a)(n.alertMessage),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})),function(){var t=this,n=arguments;return new Promise((function(i,r){var a=e.apply(t,n);function s(t){o(a,i,r,s,c,"next",t)}function c(t){o(a,i,r,s,c,"throw",t)}s(void 0)}))})()},statusUpdateSuccessMessage:function(t){t===this.ARTICLE_STATUS_TYPES.PUBLISH?this.alertMessage=this.$t("HELP_CENTER.PUBLISH_ARTICLE.API.SUCCESS"):t===this.ARTICLE_STATUS_TYPES.ARCHIVE&&(this.alertMessage=this.$t("HELP_CENTER.ARCHIVE_ARTICLE.API.SUCCESS"))},statusUpdateErrorMessage:function(t){t===this.ARTICLE_STATUS_TYPES.PUBLISH?this.alertMessage=this.$t("HELP_CENTER.PUBLISH_ARTICLE.API.ERROR"):t===this.ARTICLE_STATUS_TYPES.ARCHIVE&&(this.alertMessage=this.$t("HELP_CENTER.ARCHIVE_ARTICLE.API.ERROR"))},openSidebar:function(){this.$emit("open")},closeSidebar:function(){this.$emit("close")},openActionsDropdown:function(){this.showActionsDropdown=!this.showActionsDropdown},closeActionsDropdown:function(){this.showActionsDropdown=!1}}},l=c,u=(n(2145),n(8)),d=Object(u.a)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"flex items-center justify-between w-full h-16"},[e("div",{staticClass:"flex items-center"},[e("woot-button",{staticClass:"back-button",attrs:{icon:"chevron-left",variant:"clear",size:"small","color-scheme":"primary"},on:{click:t.onClickGoBack}},[t._v("\n      "+t._s(t.backButtonLabel)+"\n    ")])],1),t._v(" "),e("div",{staticClass:"flex items-center gap-1"},[t.isUpdating||t.isSaved?e("span",{staticClass:"items-center ml-4 mr-1 text-xs draft-status rtl:ml-2 rtl:mr-4 text-slate-400 dark:text-slate-300"},[t._v("\n      "+t._s(t.statusText)+"\n    ")]):t._e(),t._v(" "),e("woot-button",{attrs:{"class-names":"article--buttons relative",icon:"globe","color-scheme":"secondary",variant:"hollow",size:"small"},on:{click:t.showPreview}},[t._v("\n      "+t._s(t.$t("HELP_CENTER.EDIT_HEADER.PREVIEW"))+"\n    ")]),t._v(" "),t.isSidebarOpen?t._e():e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top-end",value:t.$t("HELP_CENTER.EDIT_HEADER.OPEN_SIDEBAR"),expression:"$t('HELP_CENTER.EDIT_HEADER.OPEN_SIDEBAR')",modifiers:{"top-end":!0}}],attrs:{icon:"pane-open","class-names":"article--buttons relative sidebar-button",variant:"hollow",size:"small","color-scheme":"secondary","is-disabled":t.enableOpenSidebarButton},on:{click:t.openSidebar}}),t._v(" "),t.isSidebarOpen?e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top-end",value:t.$t("HELP_CENTER.EDIT_HEADER.CLOSE_SIDEBAR"),expression:"$t('HELP_CENTER.EDIT_HEADER.CLOSE_SIDEBAR')",modifiers:{"top-end":!0}}],attrs:{icon:"pane-close","class-names":"article--buttons relative",variant:"hollow",size:"small","color-scheme":"secondary"},on:{click:t.closeSidebar}}):t._e(),t._v(" "),e("div",{staticClass:"relative article--buttons"},[e("div",{staticClass:"button-group"},[e("woot-button",{attrs:{"class-names":"publish-button",size:"small",icon:"checkmark","color-scheme":"primary","is-disabled":!t.articleSlug||t.isPublishedArticle},on:{click:function(e){return t.updateArticleStatus(t.ARTICLE_STATUS_TYPES.PUBLISH)}}},[t._v("\n          "+t._s(t.$t("HELP_CENTER.EDIT_HEADER.PUBLISH_BUTTON"))+"\n        ")]),t._v(" "),e("woot-button",{attrs:{size:"small",icon:"chevron-down","is-disabled":!t.articleSlug||t.isArchivedArticle},on:{click:t.openActionsDropdown}})],1),t._v(" "),t.showActionsDropdown?e("div",{directives:[{name:"on-clickaway",rawName:"v-on-clickaway",value:t.closeActionsDropdown,expression:"closeActionsDropdown"}],staticClass:"dropdown-pane dropdown-pane--open"},[e("woot-dropdown-menu",[e("woot-dropdown-item",[e("woot-button",{attrs:{variant:"clear","color-scheme":"secondary",size:"small",icon:"book-clock"},on:{click:function(e){return t.updateArticleStatus(t.ARTICLE_STATUS_TYPES.ARCHIVE)}}},[t._v("\n              "+t._s(t.$t("HELP_CENTER.EDIT_HEADER.MOVE_TO_ARCHIVE_BUTTON"))+"\n            ")])],1)],1)],1):t._e()])],1)])}),[],!1,null,"ebaaa726",null);e.a=d.exports},1931:function(t,e,n){"use strict";n(81),n(44),n(10),n(32),n(21),n(54),n(249),n(720),n(75),n(91),n(14),n(9),n(722),n(17),n(20),n(24),n(29),n(23),n(30),n(34),n(65),n(59);var i=n(1534),r=n(38),a=n(275),o=n(327);function s(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return c(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){d(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function d(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var p={components:{MultiselectDropdown:i.a},props:{article:{type:Object,default:function(){return{}}}},data:function(){return{metaTitle:"",metaDescription:"",metaTags:[],metaOptions:[],tagInputValue:""}},computed:u(u({},Object(r.mapGetters)({categories:"categories/allCategories",agents:"agents/getAgents"})),{},{assignedAuthor:function(){var t;return null===(t=this.article)||void 0===t?void 0:t.author},selectedCategory:function(){var t;return null===(t=this.article)||void 0===t?void 0:t.category},allTags:function(){return this.metaTags.map((function(t){return t.name}))}}),watch:{article:{handler:function(){if(!Object(o.f)(this.article.meta||{})){var t=this.article.meta,e=t.title,n=void 0===e?"":e,i=t.description,r=void 0===i?"":i,a=t.tags,s=void 0===a?[]:a;this.metaTitle=n,this.metaDescription=r,this.metaTags=this.formattedTags({tags:s})}},deep:!0,immediate:!0}},mounted:function(){var t=this;this.saveArticle=Object(a.c)((function(){t.$emit("saveArticle",{meta:{title:t.metaTitle,description:t.metaDescription,tags:t.allTags}})}),1e3,!1)},methods:{formattedTags:function(t){return t.tags.map((function(t){return{name:t}}))},addTagValue:function(t){var e,n=this,i=t.split(",").map((function(t){return t.trim()})).filter((function(t){return t&&!n.allTags.includes(t)}));(e=this.metaTags).push.apply(e,s(this.formattedTags({tags:s(new Set(i))}))),this.saveArticle()},removeTag:function(){this.saveArticle()},handleSearchChange:function(t){this.tagInputValue=t},onBlur:function(){this.tagInputValue&&this.addTagValue(this.tagInputValue)},onClickSelectCategory:function(t){var e=t.id;this.$emit("saveArticle",{category_id:e})},onClickAssignAuthor:function(t){var e=t.id;this.$emit("saveArticle",{author_id:e}),this.updateMeta()},onChangeMetaInput:function(){this.saveArticle()},onClickArchiveArticle:function(){this.$emit("archiveArticle"),this.updateMeta()},onClickDeleteArticle:function(){this.$emit("deleteArticle"),this.updateMeta()},updateMeta:function(){this.$emit("updateMeta")}}},h=(n(2148),n(8)),f=Object(h.a)(p,(function(){var t=this,e=t._self._c;return e("transition",{attrs:{name:"popover-animation"}},[e("div",{staticClass:"min-w-[15rem] max-w-[22.5rem] p-6 overflow-y-auto border-l rtl:border-r rtl:border-l-0 border-solid border-slate-50 dark:border-slate-700"},[e("h3",{staticClass:"text-base text-slate-800 dark:text-slate-100"},[t._v("\n      "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.TITLE"))+"\n    ")]),t._v(" "),e("div",{staticClass:"mt-4 mb-6"},[e("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.CATEGORY.LABEL"))+"\n        "),e("MultiselectDropdown",{attrs:{options:t.categories,"selected-item":t.selectedCategory,"has-thumbnail":!1,"multiselector-title":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.CATEGORY.TITLE"),"multiselector-placeholder":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.CATEGORY.PLACEHOLDER"),"no-search-result":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.CATEGORY.NO_RESULT"),"input-placeholder":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.CATEGORY.SEARCH_PLACEHOLDER")},on:{click:t.onClickSelectCategory}})],1),t._v(" "),e("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.AUTHOR.LABEL"))+"\n        "),e("MultiselectDropdown",{attrs:{options:t.agents,"selected-item":t.assignedAuthor,"multiselector-title":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.AUTHOR.TITLE"),"multiselector-placeholder":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.AUTHOR.PLACEHOLDER"),"no-search-result":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.AUTHOR.NO_RESULT"),"input-placeholder":t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.AUTHOR.SEARCH_PLACEHOLDER")},on:{click:t.onClickAssignAuthor}})],1),t._v(" "),e("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_TITLE.LABEL"))+"\n        "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.metaTitle,expression:"metaTitle"}],attrs:{rows:"3",type:"text",placeholder:t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_TITLE.PLACEHOLDER")},domProps:{value:t.metaTitle},on:{input:[function(e){e.target.composing||(t.metaTitle=e.target.value)},t.onChangeMetaInput]}})]),t._v(" "),e("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_DESCRIPTION.LABEL"))+"\n        "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.metaDescription,expression:"metaDescription"}],staticClass:"text-sm",attrs:{rows:"3",type:"text",placeholder:t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_DESCRIPTION.PLACEHOLDER")},domProps:{value:t.metaDescription},on:{input:[function(e){e.target.composing||(t.metaDescription=e.target.value)},t.onChangeMetaInput]}})]),t._v(" "),e("label",[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_TAGS.LABEL"))+"\n        "),e("multiselect",{attrs:{placeholder:t.$t("HELP_CENTER.ARTICLE_SETTINGS.FORM.META_TAGS.PLACEHOLDER"),label:"name",options:t.metaOptions,"track-by":"name",multiple:"",taggable:"","close-on-select":!1},on:{"search-change":t.handleSearchChange,close:t.onBlur,tag:t.addTagValue,remove:t.removeTag},model:{value:t.metaTags,callback:function(e){t.metaTags=e},expression:"metaTags"}})],1)]),t._v(" "),e("div",{staticClass:"flex flex-col"},[e("woot-button",{attrs:{icon:"archive",size:"small",variant:"clear","color-scheme":"secondary"},on:{click:t.onClickArchiveArticle}},[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.BUTTONS.ARCHIVE"))+"\n      ")]),t._v(" "),e("woot-button",{attrs:{icon:"delete",size:"small",variant:"clear","color-scheme":"alert"},on:{click:t.onClickDeleteArticle}},[t._v("\n        "+t._s(t.$t("HELP_CENTER.ARTICLE_SETTINGS.BUTTONS.DELETE"))+"\n      ")])],1)])])}),[],!1,null,"2c80f608",null);e.a=f.exports},2145:function(t,e,n){"use strict";n(1891)},2146:function(t,e,n){"use strict";n(1892)},2147:function(t,e,n){"use strict";n(1893)},2148:function(t,e,n){"use strict";n(1894)}}]);
//# sourceMappingURL=15-4b702eea20e53fa568b3.chunk.js.map