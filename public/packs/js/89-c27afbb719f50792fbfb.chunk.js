(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{1505:function(t,e,n){"use strict";var a=n(250),r={__name:"BackButton",props:{backUrl:{type:[String,Object],default:""},buttonLabel:{type:String,default:""},compact:{type:Boolean,default:!1}},setup:function(t){var e=t,n=e.compact?"text-sm text-slate-600 dark:text-slate-300":"text-base text-woot-500 dark:text-woot-500";return{__sfc:!0,props:e,goBack:function(){""!==e.backUrl?a.a.push(e.backUrl):a.a.go(-1)},buttonStyleClass:n}}},o=n(8),s=Object(o.a)(r,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("button",{staticClass:"flex items-center p-0 font-normal cursor-pointer",class:n.buttonStyleClass,on:{"!click":function(t){return n.goBack.apply(null,arguments)}}},[e("fluent-icon",{staticClass:"-ml-1",attrs:{icon:"chevron-left"}}),t._v("\n  "+t._s(t.buttonLabel||t.$t("GENERAL_SETTINGS.BACK"))+"\n")],1)}),[],!1,null,null,null);e.a=s.exports},1506:function(t,e,n){"use strict";var a=n(197),r=n(5),o={__name:"CustomBrandPolicyWrapper",props:{showOnCustomBrandedInstance:{type:Boolean,default:!0}},setup:function(t){var e=t,n=Object(a.c)(),o=n["globalConfig/isACustomBrandedInstance"],s=Object(r.computed)((function(){return e.showOnCustomBrandedInstance||!o.value}));return{__sfc:!0,props:e,getters:n,isACustomBrandedInstance:o,shouldShowContent:s}}},s=n(8),l=Object(s.a)(o,(function(){var t=this,e=t._self._c;return t._self._setupProxy.shouldShowContent?e("div",[t._t("default")],2):t._e()}),[],!1,null,null,null).exports,i={agent_bots:"https://chwt.app/hc/agent-bots",agents:"https://chwt.app/hc/agents",audit_logs:"https://chwt.app/hc/audit-logs",campaigns:"https://chwt.app/hc/campaigns",canned_responses:"https://chwt.app/hc/canned",channel_email:"https://chwt.app/hc/email",channel_facebook:"https://chwt.app/hc/fb",custom_attributes:"https://chwt.app/hc/custom-attributes",dashboard_apps:"https://chwt.app/hc/dashboard-apps",help_center:"https://chwt.app/hc/help-center",inboxes:"https://chwt.app/hc/inboxes",integrations:"https://chwt.app/hc/integrations",labels:"https://chwt.app/hc/labels",macros:"https://chwt.app/hc/macros",message_reply_to:"https://chwt.app/hc/reply-to",reports:"https://chwt.app/hc/reports",sla:"https://chwt.app/hc/sla",captain:"https://chwt.app/hc/captain",team_management:"https://chwt.app/hc/teams",webhook:"https://chwt.app/hc/webhooks"};var u=n(1505),c={__name:"BaseSettingsHeader",props:{title:{type:String,required:!0},description:{type:String,required:!0},iconName:{type:String,default:""},linkText:{type:String,default:""},featureName:{type:String,default:""},backButtonLabel:{type:String,default:""}},setup:function(t){var e;return{__sfc:!0,props:t,helpURL:(e=t.featureName,i[e]),openInNewTab:function(t){t&&window.open(t,"_blank","noopener noreferrer")},CustomBrandPolicyWrapper:l,BackButton:u.a}}},d=Object(s.a)(c,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"flex flex-col items-start w-full gap-2 pt-4"},[t.backButtonLabel?e(n.BackButton,{attrs:{compact:"","button-label":t.backButtonLabel}}):t._e(),t._v(" "),e("div",{staticClass:"flex items-center justify-between w-full gap-4"},[e("div",{staticClass:"flex items-center gap-3"},[t.iconName?e("div",{staticClass:"flex items-center w-10 h-10 p-1 rounded-full bg-woot-25/60 dark:bg-woot-900/60"},[e("div",{staticClass:"flex items-center justify-center w-full h-full rounded-full bg-woot-75/70 dark:bg-woot-800/40"},[e("fluent-icon",{staticClass:"flex-shrink-0 text-woot-500 dark:text-woot-500",attrs:{size:"14",icon:t.iconName,type:"outline"}})],1)]):t._e(),t._v(" "),e("h1",{staticClass:"text-2xl font-semibold font-interDisplay tracking-[0.3px] text-slate-900 dark:text-slate-25"},[t._v("\n        "+t._s(t.title)+"\n      ")])]),t._v(" "),e("div",{staticClass:"hidden gap-2 sm:flex"},[t._t("actions")],2)]),t._v(" "),e("div",{staticClass:"flex flex-col gap-3 text-slate-600 dark:text-slate-300 w-full"},[e("p",{staticClass:"mb-0 text-base font-normal line-clamp-5 sm:line-clamp-none max-w-3xl tracking-[-0.1px]"},[t._t("description",(function(){return[t._v(t._s(t.description))]}))],2),t._v(" "),e(n.CustomBrandPolicyWrapper,{attrs:{"show-on-custom-branded-instance":!1}},[n.helpURL&&t.linkText?e("a",{staticClass:"sm:inline-flex hidden gap-1 w-fit items-center text-woot-500 dark:text-woot-500 text-sm font-medium hover:underline",attrs:{href:n.helpURL,target:"_blank",rel:"noopener noreferrer"}},[t._v("\n        "+t._s(t.linkText)+"\n        "),e("fluent-icon",{staticClass:"flex-shrink-0 text-woot-500 dark:text-woot-500",attrs:{size:"16",icon:"chevron-right",type:"outline"}})],1):t._e()])],1),t._v(" "),e("div",{staticClass:"flex items-start justify-start w-full gap-3 sm:hidden flex-wrap"},[t._t("actions"),t._v(" "),e(n.CustomBrandPolicyWrapper,{attrs:{"show-on-custom-branded-instance":!1}},[n.helpURL&&t.linkText?e("woot-button",{staticClass:"flex-row-reverse rounded-md min-w-0 !bg-slate-50 !text-slate-900 dark:!text-white dark:!bg-slate-800",attrs:{"color-scheme":"secondary",icon:"arrow-outwards"},on:{click:function(t){return n.openInNewTab(n.helpURL)}}},[t._v("\n        "+t._s(t.linkText)+"\n      ")]):t._e()],1)],2)],1)}),[],!1,null,null,null);e.a=d.exports},1508:function(t,e,n){"use strict";var a={__name:"SettingsLayout",props:{isLoading:{type:Boolean,default:!1},noRecordsFound:{type:Boolean,default:!1},loadingMessage:{type:String,default:""},noRecordsMessage:{type:String,default:""}},setup:function(t){return{__sfc:!0}}},r=n(8),o=Object(r.a)(a,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"flex flex-col w-full h-full gap-10 font-inter"},[t._t("header"),t._v(" "),e("div",[t._t("preBody"),t._v(" "),t.isLoading?t._t("loading",(function(){return[e("woot-loading-state",{attrs:{message:t.loadingMessage}})]})):t.noRecordsFound?e("p",{staticClass:"flex-1 text-slate-700 dark:text-slate-100 flex items-center justify-center text-base"},[t._v("\n      "+t._s(t.noRecordsMessage)+"\n    ")]):t._t("body"),t._v(" "),t._t("default")],2)],2)}),[],!1,null,null,null);e.a=o.exports},2224:function(t,e,n){"use strict";n.r(e);n(33),n(41),n(44),n(140),n(21),n(9),n(22);var a=n(64),r=n(5),o=n(248),s=n(356),l=n(197),i=(n(81),n(325),n(75),n(91),n(10),n(32),n(34),n(14),n(17),n(20),n(65),n(59),n(116)),u=n(58),c=n(870);function d(t,e,n,a,r,o,s){try{var l=t[o](s),i=l.value}catch(u){return void n(u)}l.done?e(i):Promise.resolve(i).then(a,r)}function p(t){return function(t){if(Array.isArray(t))return f(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return f(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var m={__name:"AddAgent",emits:["close"],setup:function(t,e){var n=e.emit,o=Object(l.b)(),f=Object(s.a)().t,m=Object(r.ref)(""),v=Object(r.ref)(""),_=Object(r.ref)("agent"),g={agentName:{required:u.f},agentEmail:{required:u.f,email:u.b},selectedRoleId:{required:u.f}},T=Object(i.a)(g,{agentName:m,agentEmail:v,selectedRoleId:_}),E=Object(l.a)("agents/getUIFlags"),b=Object(l.a)("customRole/getCustomRoles"),A=Object(r.computed)((function(){var t=[{id:"administrator",name:"administrator",label:f("AGENT_MGMT.AGENT_TYPES.ADMINISTRATOR")},{id:"agent",name:"agent",label:f("AGENT_MGMT.AGENT_TYPES.AGENT")}],e=b.value.map((function(t){return{id:t.id,name:"custom_".concat(t.id),label:t.name}}));return[].concat(t,p(e))})),h=Object(r.computed)((function(){return A.value.find((function(t){return t.id===_.value||t.name===_.value}))})),M=function(){var t,e=(t=regeneratorRuntime.mark((function t(){var e,r,s,l,i,u,c,d,p,_,g;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(T.value.$touch(),!T.value.$invalid){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,e={name:m.value,email:v.value},h.value.name.startsWith("custom_")?e.custom_role_id=h.value.id:e.role=h.value.name,t.next=8,o.dispatch("agents/create",e);case 8:Object(a.a)(f("AGENT_MGMT.ADD.API.SUCCESS_MESSAGE")),n("close"),t.next=22;break;case 12:t.prev=12,t.t0=t.catch(3),s=t.t0.response,l=(s=void 0===s?{}:s).data,i=(l=void 0===l?{}:l).error,u=void 0===i?"":i,c=l.attributes,d=void 0===c?[]:c,p=l.message,_=void 0===p?"":p,g="",g=422!==(null===t.t0||void 0===t.t0||null===(r=t.t0.response)||void 0===r?void 0:r.status)||d.includes("base")?f("AGENT_MGMT.ADD.API.ERROR_MESSAGE"):f("AGENT_MGMT.ADD.API.EXIST_MESSAGE"),Object(a.a)(u||_||g);case 22:case"end":return t.stop()}}),t,null,[[3,12]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function s(t){d(o,a,r,s,l,"next",t)}function l(t){d(o,a,r,s,l,"throw",t)}s(void 0)}))});return function(){return e.apply(this,arguments)}}();return{__sfc:!0,emit:n,store:o,t:f,agentName:m,agentEmail:v,selectedRoleId:_,rules:g,v$:T,uiFlags:E,getCustomRoles:b,roles:A,selectedRole:h,addAgent:M,WootSubmitButton:c.a}}},v=m,_=n(8),g=Object(_.a)(v,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"flex flex-col h-auto overflow-auto"},[e("woot-modal-header",{attrs:{"header-title":t.$t("AGENT_MGMT.ADD.TITLE"),"header-content":t.$t("AGENT_MGMT.ADD.DESC")}}),t._v(" "),e("form",{staticClass:"flex flex-col items-start w-full",on:{submit:function(t){return t.preventDefault(),n.addAgent.apply(null,arguments)}}},[e("div",{staticClass:"w-full"},[e("label",{class:{error:n.v$.agentName.$error}},[t._v("\n        "+t._s(t.$t("AGENT_MGMT.ADD.FORM.NAME.LABEL"))+"\n        "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:n.agentName,expression:"agentName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:t.$t("AGENT_MGMT.ADD.FORM.NAME.PLACEHOLDER")},domProps:{value:n.agentName},on:{input:[function(t){t.target.composing||(n.agentName=t.target.value.trim())},n.v$.agentName.$touch],blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),e("div",{staticClass:"w-full"},[e("label",{class:{error:n.v$.selectedRoleId.$error}},[t._v("\n        "+t._s(t.$t("AGENT_MGMT.ADD.FORM.AGENT_TYPE.LABEL"))+"\n        "),e("select",{directives:[{name:"model",rawName:"v-model",value:n.selectedRoleId,expression:"selectedRoleId"}],on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));n.selectedRoleId=t.target.multiple?e:e[0]},n.v$.selectedRoleId.$touch]}},t._l(n.roles,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v("\n            "+t._s(n.label)+"\n          ")])})),0),t._v(" "),n.v$.selectedRoleId.$error?e("span",{staticClass:"message"},[t._v("\n          "+t._s(t.$t("AGENT_MGMT.ADD.FORM.AGENT_TYPE.ERROR"))+"\n        ")]):t._e()])]),t._v(" "),e("div",{staticClass:"w-full"},[e("label",{class:{error:n.v$.agentEmail.$error}},[t._v("\n        "+t._s(t.$t("AGENT_MGMT.ADD.FORM.EMAIL.LABEL"))+"\n        "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:n.agentEmail,expression:"agentEmail",modifiers:{trim:!0}}],attrs:{type:"email",placeholder:t.$t("AGENT_MGMT.ADD.FORM.EMAIL.PLACEHOLDER")},domProps:{value:n.agentEmail},on:{input:[function(t){t.target.composing||(n.agentEmail=t.target.value.trim())},n.v$.agentEmail.$touch],blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),e("div",{staticClass:"flex flex-row justify-end w-full gap-2 px-0 py-2"},[e("div",{staticClass:"w-full"},[e(n.WootSubmitButton,{attrs:{disabled:n.v$.$invalid||n.uiFlags.isCreating,"button-text":t.$t("AGENT_MGMT.ADD.FORM.SUBMIT"),loading:n.uiFlags.isCreating}}),t._v(" "),e("button",{staticClass:"button clear",on:{click:function(t){return t.preventDefault(),n.emit("close")}}},[t._v("\n          "+t._s(t.$t("AGENT_MGMT.ADD.CANCEL_BUTTON_TEXT"))+"\n        ")])],1)])])],1)}),[],!1,null,null,null),T=g.exports,E=(n(51),n(176)),b=n(155);function A(t,e,n,a,r,o,s){try{var l=t[o](s),i=l.value}catch(u){return void n(u)}l.done?e(i):Promise.resolve(i).then(a,r)}function h(t){return function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function s(t){A(o,a,r,s,l,"next",t)}function l(t){A(o,a,r,s,l,"throw",t)}s(void 0)}))}}function M(t){return function(t){if(Array.isArray(t))return w(t)}(t)||function(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"===typeof t)return w(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var y={__name:"EditAgent",props:{id:{type:Number,required:!0},name:{type:String,required:!0},email:{type:String,default:""},type:{type:String,default:""},availability:{type:String,default:""},customRoleId:{type:Number,default:null}},emits:["close"],setup:function(t,e){var n=e.emit,o=t,d=b.b.AVAILABILITY_STATUS_KEYS,p=Object(l.b)(),f=Object(s.a)().t,m=Object(r.ref)(o.name),v=Object(r.ref)(o.availability),_=Object(r.ref)(o.customRoleId||o.type),g=Object(r.ref)({email:o.email}),T={agentName:{required:u.f,minLength:Object(u.d)(1)},selectedRoleId:{required:u.f},agentAvailability:{required:u.f}},A=Object(i.a)(T,{agentName:m,selectedRoleId:_,agentAvailability:v}),w=Object(r.computed)((function(){return"".concat(f("AGENT_MGMT.EDIT.TITLE")," - ").concat(o.name)})),y=Object(l.a)("agents/getUIFlags"),x=Object(l.a)("customRole/getCustomRoles"),N=Object(r.computed)((function(){var t=[{id:"administrator",name:"administrator",label:f("AGENT_MGMT.AGENT_TYPES.ADMINISTRATOR")},{id:"agent",name:"agent",label:f("AGENT_MGMT.AGENT_TYPES.AGENT")}],e=x.value.map((function(t){return{id:t.id,name:"custom_".concat(t.id),label:t.name}}));return[].concat(t,M(e))})),G=Object(r.computed)((function(){return N.value.find((function(t){return t.id===_.value||t.name===_.value}))})),R=Object(r.computed)((function(){return f("PROFILE_SETTINGS.FORM.AVAILABILITY.STATUSES_LIST").map((function(t,e){return{label:t,value:d[e],disabled:o.availability===d[e]}}))})),S=function(){var t=h(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A.value.$touch(),!A.value.$invalid){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,e={id:o.id,name:m.value,availability:v.value},G.value.name.startsWith("custom_")?e.custom_role_id=G.value.id:(e.role=G.value.name,e.custom_role_id=null),t.next=8,p.dispatch("agents/update",e);case 8:Object(a.a)(f("AGENT_MGMT.EDIT.API.SUCCESS_MESSAGE")),n("close"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),Object(a.a)(f("AGENT_MGMT.EDIT.API.ERROR_MESSAGE"));case 15:case"end":return t.stop()}}),t,null,[[3,12]])})));return function(){return t.apply(this,arguments)}}(),O=function(){var t=h(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,E.a.resetPassword(g.value);case 3:Object(a.a)(f("AGENT_MGMT.EDIT.PASSWORD_RESET.ADMIN_SUCCESS_MESSAGE")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),Object(a.a)(f("AGENT_MGMT.EDIT.PASSWORD_RESET.ERROR_MESSAGE"));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(){return t.apply(this,arguments)}}();return{__sfc:!0,props:o,emit:n,AVAILABILITY_STATUS_KEYS:d,store:p,t:f,agentName:m,agentAvailability:v,selectedRoleId:_,agentCredentials:g,rules:T,v$:A,pageTitle:w,uiFlags:y,getCustomRoles:x,roles:N,selectedRole:G,availabilityStatuses:R,editAgent:S,resetPassword:O,WootSubmitButton:c.a}}},x=y,N=Object(_.a)(x,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"flex flex-col h-auto overflow-auto"},[e("woot-modal-header",{attrs:{"header-title":n.pageTitle}}),t._v(" "),e("form",{staticClass:"w-full",on:{submit:function(t){return t.preventDefault(),n.editAgent.apply(null,arguments)}}},[e("div",{staticClass:"w-full"},[e("label",{class:{error:n.v$.agentName.$error}},[t._v("\n        "+t._s(t.$t("AGENT_MGMT.EDIT.FORM.NAME.LABEL"))+"\n        "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:n.agentName,expression:"agentName",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:t.$t("AGENT_MGMT.EDIT.FORM.NAME.PLACEHOLDER")},domProps:{value:n.agentName},on:{input:[function(t){t.target.composing||(n.agentName=t.target.value.trim())},n.v$.agentName.$touch],blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),e("div",{staticClass:"w-full"},[e("label",{class:{error:n.v$.selectedRoleId.$error}},[t._v("\n        "+t._s(t.$t("AGENT_MGMT.EDIT.FORM.AGENT_TYPE.LABEL"))+"\n        "),e("select",{directives:[{name:"model",rawName:"v-model",value:n.selectedRoleId,expression:"selectedRoleId"}],on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));n.selectedRoleId=t.target.multiple?e:e[0]},n.v$.selectedRoleId.$touch]}},t._l(n.roles,(function(n){return e("option",{key:n.id,domProps:{value:n.id}},[t._v("\n            "+t._s(n.label)+"\n          ")])})),0),t._v(" "),n.v$.selectedRoleId.$error?e("span",{staticClass:"message"},[t._v("\n          "+t._s(t.$t("AGENT_MGMT.EDIT.FORM.AGENT_TYPE.ERROR"))+"\n        ")]):t._e()])]),t._v(" "),e("div",{staticClass:"w-full"},[e("label",{class:{error:n.v$.agentAvailability.$error}},[t._v("\n        "+t._s(t.$t("PROFILE_SETTINGS.FORM.AVAILABILITY.LABEL"))+"\n        "),e("select",{directives:[{name:"model",rawName:"v-model",value:n.agentAvailability,expression:"agentAvailability"}],on:{change:[function(t){var e=Array.prototype.filter.call(t.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));n.agentAvailability=t.target.multiple?e:e[0]},n.v$.agentAvailability.$touch]}},t._l(n.availabilityStatuses,(function(n){return e("option",{key:n.value,domProps:{value:n.value}},[t._v("\n            "+t._s(n.label)+"\n          ")])})),0),t._v(" "),n.v$.agentAvailability.$error?e("span",{staticClass:"message"},[t._v("\n          "+t._s(t.$t("AGENT_MGMT.EDIT.FORM.AGENT_AVAILABILITY.ERROR"))+"\n        ")]):t._e()])]),t._v(" "),e("div",{staticClass:"flex flex-row justify-end w-full gap-2 px-0 py-2"},[e("div",{staticClass:"w-[50%]"},[e(n.WootSubmitButton,{attrs:{disabled:n.v$.$invalid||n.uiFlags.isUpdating,"button-text":t.$t("AGENT_MGMT.EDIT.FORM.SUBMIT"),loading:n.uiFlags.isUpdating}}),t._v(" "),e("button",{staticClass:"button clear",on:{click:function(t){return t.preventDefault(),n.emit("close")}}},[t._v("\n          "+t._s(t.$t("AGENT_MGMT.EDIT.CANCEL_BUTTON_TEXT"))+"\n        ")])],1),t._v(" "),e("div",{staticClass:"w-[50%] text-right"},[e("woot-button",{attrs:{icon:"lock-closed",variant:"clear"},on:{click:function(t){return t.preventDefault(),n.resetPassword.apply(null,arguments)}}},[t._v("\n          "+t._s(t.$t("AGENT_MGMT.EDIT.PASSWORD_RESET.ADMIN_RESET_BUTTON"))+"\n        ")])],1)])])],1)}),[],!1,null,null,null),G=N.exports,R=n(1506),S=n(1508);function O(t,e,n,a,r,o,s){try{var l=t[o](s),i=l.value}catch(u){return void n(u)}l.done?e(i):Promise.resolve(i).then(a,r)}var I={__name:"Index",setup:function(t){var e=Object(l.c)(),n=Object(l.b)(),i=Object(s.a)().t,u=Object(r.ref)({}),c=Object(r.ref)(!1),d=Object(r.ref)(!1),p=Object(r.ref)(!1),f=Object(r.ref)({message:""}),m=Object(r.ref)({}),v=Object(r.computed)((function(){return"".concat(i("AGENT_MGMT.DELETE.CONFIRM.YES")," ").concat(m.value.name)})),_=Object(r.computed)((function(){return"".concat(i("AGENT_MGMT.DELETE.CONFIRM.NO")," ").concat(m.value.name)})),g=Object(r.computed)((function(){return" ".concat(m.value.name,"?")})),E=Object(r.computed)((function(){return e["agents/getAgents"].value})),b=Object(r.computed)((function(){return e["agents/getUIFlags"].value})),A=Object(r.computed)((function(){return e.getCurrentUserID.value})),h=Object(l.a)("customRole/getCustomRoles");Object(r.onMounted)((function(){n.dispatch("agents/get"),n.dispatch("customRole/getCustomRole")}));var M=function(t){return h.value.find((function(e){return e.id===t.custom_role_id}))},w=Object(r.computed)((function(){return E.value.filter((function(t){return"administrator"===t.role&&t.confirmed}))})),y=function(t){u.value[m.value.id]=!1,m.value={},f.value.message=t,Object(a.a)(t)},x=function(){d.value=!1},N=function(){var t,e=(t=regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.dispatch("agents/delete",e);case 3:y(i("AGENT_MGMT.DELETE.API.SUCCESS_MESSAGE")),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),y(i("AGENT_MGMT.DELETE.API.ERROR_MESSAGE"));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})),function(){var e=this,n=arguments;return new Promise((function(a,r){var o=t.apply(e,n);function s(t){O(o,a,r,s,l,"next",t)}function l(t){O(o,a,r,s,l,"throw",t)}s(void 0)}))});return function(t){return e.apply(this,arguments)}}();return{__sfc:!0,getters:e,store:n,t:i,loading:u,showAddPopup:c,showDeletePopup:d,showEditPopup:p,agentAPI:f,currentAgent:m,deleteConfirmText:v,deleteRejectText:_,deleteMessage:g,agentList:E,uiFlags:b,currentUserId:A,customRoles:h,findCustomRole:M,getAgentRoleName:function(t){if(!t.custom_role_id)return i("AGENT_MGMT.AGENT_TYPES.".concat(t.role.toUpperCase()));var e=M(t);return e?e.name:""},getAgentRolePermissions:function(t){if(!t.custom_role_id)return[];var e=M(t);return(null===e||void 0===e?void 0:e.permissions)||[]},verifiedAdministrators:w,showEditAction:function(t){return A.value!==t.id},showDeleteAction:function(t){return A.value!==t.id&&(!t.confirmed||("administrator"!==t.role||1!==w.value.length))},showAlertMessage:y,openAddPopup:function(){c.value=!0},hideAddPopup:function(){c.value=!1},openEditPopup:function(t){p.value=!0,m.value=t},hideEditPopup:function(){p.value=!1},openDeletePopup:function(t){d.value=!0,m.value=t},closeDeletePopup:x,deleteAgent:N,confirmDeletion:function(){u.value[m.value.id]=!0,x(),N(m.value.id)},Thumbnail:o.a,AddAgent:T,EditAgent:G,BaseSettingsHeader:R.a,SettingsLayout:S.a}}},C=I,D=Object(_.a)(C,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e(n.SettingsLayout,{attrs:{"is-loading":n.uiFlags.isFetching,"loading-message":t.$t("AGENT_MGMT.LOADING"),"no-records-found":!n.agentList.length,"no-records-message":t.$t("AGENT_MGMT.LIST.404")},scopedSlots:t._u([{key:"header",fn:function(){return[e(n.BaseSettingsHeader,{attrs:{title:t.$t("AGENT_MGMT.HEADER"),description:t.$t("AGENT_MGMT.DESCRIPTION"),"link-text":t.$t("AGENT_MGMT.LEARN_MORE"),"feature-name":"agents"},scopedSlots:t._u([{key:"actions",fn:function(){return[e("woot-button",{staticClass:"rounded-md button nice",attrs:{icon:"add-circle"},on:{click:n.openAddPopup}},[t._v("\n          "+t._s(t.$t("AGENT_MGMT.HEADER_BTN_TXT"))+"\n        ")])]},proxy:!0}])})]},proxy:!0},{key:"body",fn:function(){return[e("table",{staticClass:"divide-y divide-slate-75 dark:divide-slate-700"},[e("tbody",{staticClass:"divide-y divide-slate-50 dark:divide-slate-800 text-slate-700 dark:text-slate-300"},t._l(n.agentList,(function(a,r){return e("tr",{key:a.email},[e("td",{staticClass:"py-4 ltr:pr-4 rtl:pl-4"},[e("div",{staticClass:"flex flex-row items-center gap-4"},[e(n.Thumbnail,{attrs:{src:a.thumbnail,username:a.name,size:"40px",status:a.availability_status}}),t._v(" "),e("div",[e("span",{staticClass:"block font-medium capitalize"},[t._v("\n                  "+t._s(a.name)+"\n                ")]),t._v(" "),e("span",[t._v(t._s(a.email))])])],1)]),t._v(" "),e("td",{staticClass:"relative py-4 ltr:pr-4 rtl:pl-4"},[e("span",{staticClass:"block font-medium w-fit",class:{"hover:text-gray-900 group cursor-pointer":a.custom_role_id}},[t._v("\n              "+t._s(n.getAgentRoleName(a))+"\n\n              "),e("div",{staticClass:"absolute left-0 z-10 hidden max-w-[300px] w-auto bg-white rounded-xl border border-slate-50 shadow-lg top-14 md:top-12 dark:bg-slate-800 dark:border-slate-700",class:{"group-hover:block":a.custom_role_id}},[e("div",{staticClass:"flex flex-col gap-1 p-4"},[e("span",{staticClass:"font-semibold"},[t._v("\n                    "+t._s(t.$t("AGENT_MGMT.LIST.AVAILABLE_CUSTOM_ROLE"))+"\n                  ")]),t._v(" "),e("ul",{staticClass:"pl-4 mb-0 list-disc"},t._l(n.getAgentRolePermissions(a),(function(n){return e("li",{key:n,staticClass:"font-normal"},[t._v("\n                      "+t._s(t.$t(`CUSTOM_ROLE.PERMISSIONS.${n.toUpperCase()}`))+"\n                    ")])})),0)])])])]),t._v(" "),e("td",{staticClass:"py-4 ltr:pr-4 rtl:pl-4"},[a.confirmed?e("span",[t._v("\n              "+t._s(t.$t("AGENT_MGMT.LIST.VERIFIED"))+"\n            ")]):t._e(),t._v(" "),a.confirmed?t._e():e("span",[t._v("\n              "+t._s(t.$t("AGENT_MGMT.LIST.VERIFICATION_PENDING"))+"\n            ")])]),t._v(" "),e("td",{staticClass:"py-4"},[e("div",{staticClass:"flex justify-end gap-1"},[n.showEditAction(a)?e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("AGENT_MGMT.EDIT.BUTTON_TEXT"),expression:"$t('AGENT_MGMT.EDIT.BUTTON_TEXT')",modifiers:{top:!0}}],attrs:{variant:"smooth",size:"tiny","color-scheme":"secondary",icon:"edit","class-names":"grey-btn"},on:{click:function(t){return n.openEditPopup(a)}}}):t._e(),t._v(" "),n.showDeleteAction(a)?e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("AGENT_MGMT.DELETE.BUTTON_TEXT"),expression:"$t('AGENT_MGMT.DELETE.BUTTON_TEXT')",modifiers:{top:!0}}],attrs:{variant:"smooth","color-scheme":"alert",size:"tiny",icon:"dismiss-circle","class-names":"grey-btn","is-loading":n.loading[a.id]},on:{click:function(t){return n.openDeletePopup(a,r)}}}):t._e()],1)])])})),0)])]},proxy:!0}])},[t._v(" "),t._v(" "),e("woot-modal",{attrs:{show:n.showAddPopup,"on-close":n.hideAddPopup},on:{"update:show":function(t){n.showAddPopup=t}}},[e(n.AddAgent,{on:{close:n.hideAddPopup}})],1),t._v(" "),e("woot-modal",{attrs:{show:n.showEditPopup,"on-close":n.hideEditPopup},on:{"update:show":function(t){n.showEditPopup=t}}},[n.showEditPopup?e(n.EditAgent,{attrs:{id:n.currentAgent.id,name:n.currentAgent.name,type:n.currentAgent.role,email:n.currentAgent.email,availability:n.currentAgent.availability_status,"custom-role-id":n.currentAgent.custom_role_id},on:{close:n.hideEditPopup}}):t._e()],1),t._v(" "),e("woot-delete-modal",{attrs:{show:n.showDeletePopup,"on-close":n.closeDeletePopup,"on-confirm":n.confirmDeletion,title:t.$t("AGENT_MGMT.DELETE.CONFIRM.TITLE"),message:t.$t("AGENT_MGMT.DELETE.CONFIRM.MESSAGE"),"message-value":n.deleteMessage,"confirm-text":n.deleteConfirmText,"reject-text":n.deleteRejectText},on:{"update:show":function(t){n.showDeletePopup=t}}})],1)}),[],!1,null,null,null);e.default=D.exports}}]);
//# sourceMappingURL=89-c27afbb719f50792fbfb.chunk.js.map