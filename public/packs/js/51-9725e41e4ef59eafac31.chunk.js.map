{"version":3,"sources":["webpack:///./app/javascript/dashboard/components/widgets/InboxName.vue?d4fb","webpack:///./app/javascript/dashboard/components/widgets/InboxName.vue?bb5f","webpack:///app/javascript/dashboard/components/widgets/InboxName.vue","webpack:///./app/javascript/dashboard/components/widgets/InboxName.vue","webpack:///./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue?66b3","webpack:///./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue?392e","webpack:///app/javascript/dashboard/components/widgets/UserAvatarWithName.vue","webpack:///./app/javascript/dashboard/components/widgets/UserAvatarWithName.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/EditCampaign.vue?8091","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/Campaign.vue?47d0","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/AddCampaign.vue?db69","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/Index.vue?9638","webpack:///./app/javascript/shared/constants/campaign.js","webpack:///./app/javascript/shared/composables/useCampaign.js","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/CampaignCard.vue?2d66","webpack:///app/javascript/dashboard/routes/dashboard/settings/campaigns/CampaignCard.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/CampaignCard.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/CampaignCard.vue?4ff7","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/CampaignsTable.vue?936f","webpack:///app/javascript/dashboard/routes/dashboard/settings/campaigns/CampaignsTable.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/CampaignsTable.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/CampaignsTable.vue?bb83","webpack:///app/javascript/dashboard/routes/dashboard/settings/campaigns/EditCampaign.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/EditCampaign.vue?d991","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/EditCampaign.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/EditCampaign.vue?95b6","webpack:///app/javascript/dashboard/routes/dashboard/settings/campaigns/Campaign.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/Campaign.vue?99d8","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/Campaign.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/Campaign.vue?6473","webpack:///./app/javascript/dashboard/components/ui/DateTimePicker.vue?3678","webpack:///app/javascript/dashboard/components/ui/DateTimePicker.vue","webpack:///./app/javascript/dashboard/components/ui/DateTimePicker.vue","webpack:///./app/javascript/dashboard/components/ui/DateTimePicker.vue?28b8","webpack:///app/javascript/dashboard/routes/dashboard/settings/campaigns/AddCampaign.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/AddCampaign.vue?1e22","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/AddCampaign.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/AddCampaign.vue?13fe","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/Index.vue?05b8","webpack:///app/javascript/dashboard/routes/dashboard/settings/campaigns/Index.vue","webpack:///./app/javascript/dashboard/routes/dashboard/settings/campaigns/Index.vue","webpack:///./app/javascript/shared/helpers/markdownIt/link.js","webpack:///./app/javascript/shared/helpers/MessageFormatter.js","webpack:///./app/javascript/shared/composables/useMessageFormatter.js"],"names":["component","_vm","this","_c","_self","staticClass","attrs","computedInboxClass","_v","_s","inbox","name","user","thumbnail","size","availability_status","class","textClass","CAMPAIGN_TYPES","useCampaign","route","useRoute","campaignType","computed","ongoing_campaigns","one_off","isOngoingType","value","isOneOffType","campaign","title","directives","rawName","formatMessage","message","expression","on","$event","$emit","$t","_e","campaignStatus","colorScheme","sender","trigger_rules","url","messageStamp","Date","scheduled_at","emptyMessage","_l","key","id","pageTitle","preventDefault","editCampaign","apply","arguments","error","v$","$error","$touch","model","callback","$$v","editor_warning","selectedInbox","$$selectedVal","Array","prototype","filter","call","target","options","o","selected","map","_value","multiple","onChangeInbox","item","domProps","selectedSender","endPoint","timeOnPage","isArray","enabled","_i","$$a","$$el","$$c","checked","$$i","concat","slice","triggerOnlyDuringBusinessHours","uiFlags","isCreating","onClose","campaigns","showEmptyResult","isFetching","type","openEditPopup","openDeletePopup","showEditPopup","hideEditPopup","selectedCampaign","showDeleteConfirmationPopup","closeDeletePopup","confirmDeletion","confirmText","placeholder","disableBeforeToday","handleChange","addCampaign","composing","selectedAudience","audienceList","scheduledAt","onChange","openAddPopup","buttonText","showAddPopup","hideAddPopup","USER_MENTIONS_REGEX","processInlineToken","blockToken","children","forEach","inlineToken","imgSrc","attrGet","height","URL","searchParams","get","attrSet","setImageHeight","md","require","html","xhtmlOut","breaks","langPrefix","linkify","typographer","quotes","maxNesting","use","renderer","rules","mention","tokens","idx","content","inline","ruler","before","state","silent","label","labelEnd","labelStart","pos","res","token","href","max","posMax","src","charCodeAt","helpers","parseLinkLabel","parseLinkDestination","ok","normalizeLink","str","validateLink","match","RegExp","push","core","after","mila","rel","TWITTER_USERNAME_REGEX","TWITTER_HASH_REGEX","MessageFormatter","isATweet","isAPrivateNote","updatedMessage","replace","render","DOMParser","parseFromString","formattedMessage","body","textContent","useMessageFormatter","getPlainText","plainText","truncateMessage","description","length","highlightContent","searchTerm","highlightClass","plainTextContent","escapedSearchTerm"],"mappings":"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","file":"js/51-9725e41e4ef59eafac31.chunk.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"inbox--name inline-flex items-center py-0.5 px-0 leading-3 whitespace-nowrap font-medium bg-none text-slate-600 dark:text-slate-500 text-xs my-0 mx-2.5\"},[_c('fluent-icon',{staticClass:\"mr-0.5 rtl:ml-0.5 rtl:mr-0\",attrs:{\"icon\":_vm.computedInboxClass,\"size\":\"12\"}}),_vm._v(\"\\n  \"+_vm._s(_vm.inbox.name)+\"\\n\")],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InboxName.vue?vue&type=script&lang=js&\"","<script>\nimport { getInboxClassByType } from 'dashboard/helper/inbox';\n\nexport default {\n  props: {\n    inbox: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  computed: {\n    computedInboxClass() {\n      const { phone_number: phoneNumber, channel_type: type } = this.inbox;\n      const classByType = getInboxClassByType(type, phoneNumber);\n      return classByType;\n    },\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"inbox--name inline-flex items-center py-0.5 px-0 leading-3 whitespace-nowrap font-medium bg-none text-slate-600 dark:text-slate-500 text-xs my-0 mx-2.5\"\n  >\n    <fluent-icon\n      class=\"mr-0.5 rtl:ml-0.5 rtl:mr-0\"\n      :icon=\"computedInboxClass\"\n      size=\"12\"\n    />\n    {{ inbox.name }}\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./InboxName.vue?vue&type=template&id=83dbb14a&\"\nimport script from \"./InboxName.vue?vue&type=script&lang=js&\"\nexport * from \"./InboxName.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex items-center gap-1.5 text-left\"},[_c('Thumbnail',{attrs:{\"src\":_vm.user.thumbnail,\"size\":_vm.size,\"username\":_vm.user.name,\"status\":_vm.user.availability_status}}),_vm._v(\" \"),_c('h6',{staticClass:\"my-0 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis text-capitalize\",class:_vm.textClass},[_vm._v(\"\\n    \"+_vm._s(_vm.user.name)+\"\\n  \")])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAvatarWithName.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UserAvatarWithName.vue?vue&type=script&lang=js&\"","<script>\nimport Thumbnail from 'dashboard/components/widgets/Thumbnail.vue';\n\nexport default {\n  components: {\n    Thumbnail,\n  },\n  props: {\n    user: {\n      type: Object,\n      default: () => {},\n    },\n    size: {\n      type: String,\n      default: '20px',\n    },\n    textClass: {\n      type: String,\n      default: 'text-xs text-slate-600',\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex items-center gap-1.5 text-left\">\n    <Thumbnail\n      :src=\"user.thumbnail\"\n      :size=\"size\"\n      :username=\"user.name\"\n      :status=\"user.availability_status\"\n    />\n    <h6\n      class=\"my-0 dark:text-slate-100 overflow-hidden whitespace-nowrap text-ellipsis text-capitalize\"\n      :class=\"textClass\"\n    >\n      {{ user.name }}\n    </h6>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./UserAvatarWithName.vue?vue&type=template&id=1cbb3548&\"\nimport script from \"./UserAvatarWithName.vue?vue&type=script&lang=js&\"\nexport * from \"./UserAvatarWithName.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCampaign.vue?vue&type=style&index=0&id=2d3c4a2e&prod&lang=scss&scoped=true&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Campaign.vue?vue&type=style&index=0&id=0ff9f02e&prod&scoped=true&lang=scss&\"","export * from \"-!../../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js!../../../../../../../node_modules/css-loader/dist/cjs.js??ref--3-1!../../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../node_modules/postcss-loader/dist/cjs.js??ref--3-2!../../../../../../../node_modules/sass-loader/dist/cjs.js??ref--3-3!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCampaign.vue?vue&type=style&index=0&id=c3e22780&prod&lang=scss&scoped=true&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 p-4 overflow-auto\"},[_c('woot-button',{attrs:{\"color-scheme\":\"success\",\"class-names\":\"button--fixed-top\",\"icon\":\"add-circle\"},on:{\"click\":_vm.openAddPopup}},[_vm._v(\"\\n    \"+_vm._s(_vm.buttonText)+\"\\n  \")]),_vm._v(\" \"),_c('Campaign'),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showAddPopup,\"on-close\":_vm.hideAddPopup},on:{\"update:show\":function($event){_vm.showAddPopup=$event}}},[_c('AddCampaign',{on:{\"onClose\":_vm.hideAddPopup}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const CAMPAIGN_TYPES = {\n  ONGOING: 'ongoing',\n  ONE_OFF: 'one_off',\n};\n","import { computed } from 'vue';\nimport { useRoute } from 'dashboard/composables/route';\nimport { CAMPAIGN_TYPES } from '../constants/campaign';\n\n/**\n * Composable to manage campaign types.\n *\n * @returns {Object} - Computed properties for campaign type and its checks.\n */\nexport const useCampaign = () => {\n  const route = useRoute();\n\n  /**\n   * Computed property to determine the current campaign type based on the route name.\n   */\n  const campaignType = computed(() => {\n    const campaignTypeMap = {\n      ongoing_campaigns: CAMPAIGN_TYPES.ONGOING,\n      one_off: CAMPAIGN_TYPES.ONE_OFF,\n    };\n    return campaignTypeMap[route.name];\n  });\n\n  /**\n   * Computed property to check if the current campaign type is 'ongoing'.\n   */\n  const isOngoingType = computed(() => {\n    return campaignType.value === CAMPAIGN_TYPES.ONGOING;\n  });\n\n  /**\n   * Computed property to check if the current campaign type is 'one-off'.\n   */\n  const isOneOffType = computed(() => {\n    return campaignType.value === CAMPAIGN_TYPES.ONE_OFF;\n  });\n\n  return {\n    campaignType,\n    isOngoingType,\n    isOneOffType,\n  };\n};\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampaignCard.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampaignCard.vue?vue&type=script&lang=js&\"","<script>\nimport UserAvatarWithName from 'dashboard/components/widgets/UserAvatarWithName.vue';\nimport InboxName from 'dashboard/components/widgets/InboxName.vue';\nimport { useMessageFormatter } from 'shared/composables/useMessageFormatter';\nimport { messageStamp } from 'shared/helpers/timeHelper';\n\nexport default {\n  components: {\n    UserAvatarWithName,\n    InboxName,\n  },\n  props: {\n    campaign: {\n      type: Object,\n      required: true,\n    },\n    isOngoingType: {\n      type: Boolean,\n      default: true,\n    },\n  },\n  setup() {\n    const { formatMessage } = useMessageFormatter();\n    return {\n      formatMessage,\n    };\n  },\n  computed: {\n    campaignStatus() {\n      if (this.isOngoingType) {\n        return this.campaign.enabled\n          ? this.$t('CAMPAIGN.LIST.STATUS.ENABLED')\n          : this.$t('CAMPAIGN.LIST.STATUS.DISABLED');\n      }\n\n      return this.campaign.campaign_status === 'completed'\n        ? this.$t('CAMPAIGN.LIST.STATUS.COMPLETED')\n        : this.$t('CAMPAIGN.LIST.STATUS.ACTIVE');\n    },\n    colorScheme() {\n      if (this.isOngoingType) {\n        return this.campaign.enabled ? 'success' : 'secondary';\n      }\n      return this.campaign.campaign_status === 'completed'\n        ? 'secondary'\n        : 'success';\n    },\n  },\n  methods: {\n    messageStamp,\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"px-5 py-4 mb-2 bg-white border rounded-md dark:bg-slate-800 border-slate-50 dark:border-slate-900\"\n  >\n    <div class=\"flex flex-row items-start justify-between\">\n      <div class=\"flex flex-col\">\n        <div\n          class=\"mb-1 -mt-1 text-base font-medium text-slate-900 dark:text-slate-100\"\n        >\n          {{ campaign.title }}\n        </div>\n        <div\n          v-dompurify-html=\"formatMessage(campaign.message)\"\n          class=\"text-sm line-clamp-1 [&>p]:mb-0\"\n        />\n      </div>\n      <div class=\"flex flex-row space-x-4\">\n        <woot-button\n          v-if=\"isOngoingType\"\n          variant=\"link\"\n          icon=\"edit\"\n          color-scheme=\"secondary\"\n          size=\"small\"\n          @click=\"$emit('edit', campaign)\"\n        >\n          {{ $t('CAMPAIGN.LIST.BUTTONS.EDIT') }}\n        </woot-button>\n        <woot-button\n          variant=\"link\"\n          icon=\"dismiss-circle\"\n          size=\"small\"\n          color-scheme=\"secondary\"\n          @click=\"$emit('delete', campaign)\"\n        >\n          {{ $t('CAMPAIGN.LIST.BUTTONS.DELETE') }}\n        </woot-button>\n      </div>\n    </div>\n\n    <div class=\"flex flex-row items-center mt-5 space-x-3\">\n      <woot-label\n        small\n        :title=\"campaignStatus\"\n        :color-scheme=\"colorScheme\"\n        class=\"mr-3 text-xs\"\n      />\n      <InboxName :inbox=\"campaign.inbox\" class=\"mb-1 ltr:ml-0 rtl:mr-0\" />\n      <UserAvatarWithName\n        v-if=\"campaign.sender\"\n        :user=\"campaign.sender\"\n        class=\"mb-1\"\n      />\n      <div\n        v-if=\"campaign.trigger_rules.url\"\n        class=\"w-1/4 mb-1 text-xs text-woot-600 text-truncate\"\n      >\n        {{ campaign.trigger_rules.url }}\n      </div>\n      <div\n        v-if=\"campaign.scheduled_at\"\n        class=\"mb-1 text-xs text-slate-700 dark:text-slate-500\"\n      >\n        {{ messageStamp(new Date(campaign.scheduled_at), 'LLL d, h:mm a') }}\n      </div>\n    </div>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./CampaignCard.vue?vue&type=template&id=986d14b4&\"\nimport script from \"./CampaignCard.vue?vue&type=script&lang=js&\"\nexport * from \"./CampaignCard.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"px-5 py-4 mb-2 bg-white border rounded-md dark:bg-slate-800 border-slate-50 dark:border-slate-900\"},[_c('div',{staticClass:\"flex flex-row items-start justify-between\"},[_c('div',{staticClass:\"flex flex-col\"},[_c('div',{staticClass:\"mb-1 -mt-1 text-base font-medium text-slate-900 dark:text-slate-100\"},[_vm._v(\"\\n        \"+_vm._s(_vm.campaign.title)+\"\\n      \")]),_vm._v(\" \"),_c('div',{directives:[{name:\"dompurify-html\",rawName:\"v-dompurify-html\",value:(_vm.formatMessage(_vm.campaign.message)),expression:\"formatMessage(campaign.message)\"}],staticClass:\"text-sm line-clamp-1 [&>p]:mb-0\"})]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row space-x-4\"},[(_vm.isOngoingType)?_c('woot-button',{attrs:{\"variant\":\"link\",\"icon\":\"edit\",\"color-scheme\":\"secondary\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.$emit('edit', _vm.campaign)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.LIST.BUTTONS.EDIT'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),_c('woot-button',{attrs:{\"variant\":\"link\",\"icon\":\"dismiss-circle\",\"size\":\"small\",\"color-scheme\":\"secondary\"},on:{\"click\":function($event){return _vm.$emit('delete', _vm.campaign)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.LIST.BUTTONS.DELETE'))+\"\\n      \")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row items-center mt-5 space-x-3\"},[_c('woot-label',{staticClass:\"mr-3 text-xs\",attrs:{\"small\":\"\",\"title\":_vm.campaignStatus,\"color-scheme\":_vm.colorScheme}}),_vm._v(\" \"),_c('InboxName',{staticClass:\"mb-1 ltr:ml-0 rtl:mr-0\",attrs:{\"inbox\":_vm.campaign.inbox}}),_vm._v(\" \"),(_vm.campaign.sender)?_c('UserAvatarWithName',{staticClass:\"mb-1\",attrs:{\"user\":_vm.campaign.sender}}):_vm._e(),_vm._v(\" \"),(_vm.campaign.trigger_rules.url)?_c('div',{staticClass:\"w-1/4 mb-1 text-xs text-woot-600 text-truncate\"},[_vm._v(\"\\n      \"+_vm._s(_vm.campaign.trigger_rules.url)+\"\\n    \")]):_vm._e(),_vm._v(\" \"),(_vm.campaign.scheduled_at)?_c('div',{staticClass:\"mb-1 text-xs text-slate-700 dark:text-slate-500\"},[_vm._v(\"\\n      \"+_vm._s(_vm.messageStamp(new Date(_vm.campaign.scheduled_at), 'LLL d, h:mm a'))+\"\\n    \")]):_vm._e()],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampaignsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CampaignsTable.vue?vue&type=script&lang=js&\"","<script>\nimport Spinner from 'shared/components/Spinner.vue';\nimport EmptyState from 'dashboard/components/widgets/EmptyState.vue';\nimport { useCampaign } from 'shared/composables/useCampaign';\nimport CampaignCard from './CampaignCard.vue';\n\nexport default {\n  components: {\n    EmptyState,\n    Spinner,\n    CampaignCard,\n  },\n  props: {\n    campaigns: {\n      type: Array,\n      default: () => [],\n    },\n    showEmptyResult: {\n      type: Boolean,\n      default: false,\n    },\n    isLoading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  setup() {\n    const { isOngoingType } = useCampaign();\n    return { isOngoingType };\n  },\n  computed: {\n    currentInboxId() {\n      return this.$route.params.inboxId;\n    },\n    inbox() {\n      return this.$store.getters['inboxes/getInbox'](this.currentInboxId);\n    },\n    inboxes() {\n      if (this.isOngoingType) {\n        return this.$store.getters['inboxes/getWebsiteInboxes'];\n      }\n      return this.$store.getters['inboxes/getTwilioInboxes'];\n    },\n    emptyMessage() {\n      if (this.isOngoingType) {\n        return this.inboxes.length\n          ? this.$t('CAMPAIGN.ONGOING.404')\n          : this.$t('CAMPAIGN.ONGOING.INBOXES_NOT_FOUND');\n      }\n\n      return this.inboxes.length\n        ? this.$t('CAMPAIGN.ONE_OFF.404')\n        : this.$t('CAMPAIGN.ONE_OFF.INBOXES_NOT_FOUND');\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex items-center flex-col\">\n    <div v-if=\"isLoading\" class=\"items-center flex text-base justify-center\">\n      <Spinner color-scheme=\"primary\" />\n      <span>{{ $t('CAMPAIGN.LIST.LOADING_MESSAGE') }}</span>\n    </div>\n    <div v-else class=\"w-full\">\n      <EmptyState v-if=\"showEmptyResult\" :title=\"emptyMessage\" />\n      <div v-else class=\"w-full\">\n        <CampaignCard\n          v-for=\"campaign in campaigns\"\n          :key=\"campaign.id\"\n          :campaign=\"campaign\"\n          :is-ongoing-type=\"isOngoingType\"\n          @edit=\"campaign => $emit('edit', campaign)\"\n          @delete=\"campaign => $emit('delete', campaign)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./CampaignsTable.vue?vue&type=template&id=67235a56&\"\nimport script from \"./CampaignsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./CampaignsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex items-center flex-col\"},[(_vm.isLoading)?_c('div',{staticClass:\"items-center flex text-base justify-center\"},[_c('Spinner',{attrs:{\"color-scheme\":\"primary\"}}),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.$t('CAMPAIGN.LIST.LOADING_MESSAGE')))])],1):_c('div',{staticClass:\"w-full\"},[(_vm.showEmptyResult)?_c('EmptyState',{attrs:{\"title\":_vm.emptyMessage}}):_c('div',{staticClass:\"w-full\"},_vm._l((_vm.campaigns),function(campaign){return _c('CampaignCard',{key:campaign.id,attrs:{\"campaign\":campaign,\"is-ongoing-type\":_vm.isOngoingType},on:{\"edit\":campaign => _vm.$emit('edit', campaign),\"delete\":campaign => _vm.$emit('delete', campaign)}})}),1)],1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required } from '@vuelidate/validators';\nimport { useAlert } from 'dashboard/composables';\nimport WootMessageEditor from 'dashboard/components/widgets/WootWriter/Editor.vue';\nimport { useCampaign } from 'shared/composables/useCampaign';\nimport { URLPattern } from 'urlpattern-polyfill';\n\nexport default {\n  components: {\n    WootMessageEditor,\n  },\n  props: {\n    selectedCampaign: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  setup() {\n    const { isOngoingType } = useCampaign();\n    return { v$: useVuelidate(), isOngoingType };\n  },\n  data() {\n    return {\n      title: '',\n      message: '',\n      selectedSender: '',\n      selectedInbox: null,\n      endPoint: '',\n      timeOnPage: 10,\n      triggerOnlyDuringBusinessHours: false,\n      show: true,\n      enabled: true,\n      senderList: [],\n    };\n  },\n  validations: {\n    title: {\n      required,\n    },\n    message: {\n      required,\n    },\n    selectedSender: {\n      required,\n    },\n    endPoint: {\n      required,\n      shouldBeAValidURLPattern(value) {\n        try {\n          // eslint-disable-next-line\n          new URLPattern(value);\n          return true;\n        } catch (error) {\n          return false;\n        }\n      },\n      shouldStartWithHTTP(value) {\n        if (value) {\n          return value.startsWith('https://') || value.startsWith('http://');\n        }\n        return false;\n      },\n    },\n    timeOnPage: {\n      required,\n    },\n    selectedInbox: {\n      required,\n    },\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'campaigns/getUIFlags',\n      inboxes: 'inboxes/getTwilioInboxes',\n    }),\n    inboxes() {\n      if (this.isOngoingType) {\n        return this.$store.getters['inboxes/getWebsiteInboxes'];\n      }\n      return this.$store.getters['inboxes/getSMSInboxes'];\n    },\n    pageTitle() {\n      return `${this.$t('CAMPAIGN.EDIT.TITLE')} - ${\n        this.selectedCampaign.title\n      }`;\n    },\n    sendersAndBotList() {\n      return [\n        {\n          id: 0,\n          name: 'Bot',\n        },\n        ...this.senderList,\n      ];\n    },\n  },\n  mounted() {\n    this.setFormValues();\n  },\n  methods: {\n    onClose() {\n      this.$emit('onClose');\n    },\n\n    async loadInboxMembers() {\n      try {\n        const response = await this.$store.dispatch('inboxMembers/get', {\n          inboxId: this.selectedInbox,\n        });\n        const {\n          data: { payload: inboxMembers },\n        } = response;\n        this.senderList = inboxMembers;\n      } catch (error) {\n        const errorMessage =\n          error?.response?.message || this.$t('CAMPAIGN.ADD.API.ERROR_MESSAGE');\n        useAlert(errorMessage);\n      }\n    },\n    onChangeInbox() {\n      this.loadInboxMembers();\n    },\n    setFormValues() {\n      const {\n        title,\n        message,\n        enabled,\n        trigger_only_during_business_hours: triggerOnlyDuringBusinessHours,\n        inbox: { id: inboxId },\n        trigger_rules: { url: endPoint, time_on_page: timeOnPage },\n        sender,\n      } = this.selectedCampaign;\n      this.title = title;\n      this.message = message;\n      this.endPoint = endPoint;\n      this.timeOnPage = timeOnPage;\n      this.selectedInbox = inboxId;\n      this.triggerOnlyDuringBusinessHours = triggerOnlyDuringBusinessHours;\n      this.selectedSender = (sender && sender.id) || 0;\n      this.enabled = enabled;\n      this.loadInboxMembers();\n    },\n    async editCampaign() {\n      this.v$.$touch();\n      if (this.v$.$invalid) {\n        return;\n      }\n      try {\n        await this.$store.dispatch('campaigns/update', {\n          id: this.selectedCampaign.id,\n          title: this.title,\n          message: this.message,\n          inbox_id: this.selectedInbox,\n          trigger_only_during_business_hours:\n            // eslint-disable-next-line prettier/prettier\n            this.triggerOnlyDuringBusinessHours,\n          sender_id: this.selectedSender || null,\n          enabled: this.enabled,\n          trigger_rules: {\n            url: this.endPoint,\n            time_on_page: this.timeOnPage,\n          },\n        });\n        useAlert(this.$t('CAMPAIGN.EDIT.API.SUCCESS_MESSAGE'));\n        this.onClose();\n      } catch (error) {\n        useAlert(this.$t('CAMPAIGN.EDIT.API.ERROR_MESSAGE'));\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col h-auto overflow-auto\">\n    <woot-modal-header :header-title=\"pageTitle\" />\n    <form class=\"flex flex-col w-full\" @submit.prevent=\"editCampaign\">\n      <div class=\"w-full\">\n        <woot-input\n          v-model=\"title\"\n          :label=\"$t('CAMPAIGN.ADD.FORM.TITLE.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: v$.title.$error }\"\n          :error=\"v$.title.$error ? $t('CAMPAIGN.ADD.FORM.TITLE.ERROR') : ''\"\n          :placeholder=\"$t('CAMPAIGN.ADD.FORM.TITLE.PLACEHOLDER')\"\n          @blur=\"v$.title.$touch\"\n        />\n        <div class=\"editor-wrap\">\n          <label>\n            {{ $t('CAMPAIGN.ADD.FORM.MESSAGE.LABEL') }}\n          </label>\n          <WootMessageEditor\n            v-model=\"message\"\n            class=\"message-editor\"\n            is-format-mode\n            :class=\"{ editor_warning: v$.message.$error }\"\n            :placeholder=\"$t('CAMPAIGN.ADD.FORM.MESSAGE.PLACEHOLDER')\"\n            @input=\"v$.message.$touch\"\n          />\n          <span v-if=\"v$.message.$error\" class=\"editor-warning__message\">\n            {{ $t('CAMPAIGN.ADD.FORM.MESSAGE.ERROR') }}\n          </span>\n        </div>\n\n        <label :class=\"{ error: v$.selectedInbox.$error }\">\n          {{ $t('CAMPAIGN.ADD.FORM.INBOX.LABEL') }}\n          <select v-model=\"selectedInbox\" @change=\"onChangeInbox($event)\">\n            <option v-for=\"item in inboxes\" :key=\"item.id\" :value=\"item.id\">\n              {{ item.name }}\n            </option>\n          </select>\n          <span v-if=\"v$.selectedInbox.$error\" class=\"message\">\n            {{ $t('CAMPAIGN.ADD.FORM.INBOX.ERROR') }}\n          </span>\n        </label>\n\n        <label :class=\"{ error: v$.selectedSender.$error }\">\n          {{ $t('CAMPAIGN.ADD.FORM.SENT_BY.LABEL') }}\n          <select v-model=\"selectedSender\">\n            <option\n              v-for=\"sender in sendersAndBotList\"\n              :key=\"sender.name\"\n              :value=\"sender.id\"\n            >\n              {{ sender.name }}\n            </option>\n          </select>\n          <span v-if=\"v$.selectedSender.$error\" class=\"message\">\n            {{ $t('CAMPAIGN.ADD.FORM.SENT_BY.ERROR') }}\n          </span>\n        </label>\n        <woot-input\n          v-model=\"endPoint\"\n          :label=\"$t('CAMPAIGN.ADD.FORM.END_POINT.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: v$.endPoint.$error }\"\n          :error=\"\n            v$.endPoint.$error ? $t('CAMPAIGN.ADD.FORM.END_POINT.ERROR') : ''\n          \"\n          :placeholder=\"$t('CAMPAIGN.ADD.FORM.END_POINT.PLACEHOLDER')\"\n          @blur=\"v$.endPoint.$touch\"\n        />\n        <woot-input\n          v-model=\"timeOnPage\"\n          :label=\"$t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: v$.timeOnPage.$error }\"\n          :error=\"\n            v$.timeOnPage.$error\n              ? $t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.ERROR')\n              : ''\n          \"\n          :placeholder=\"$t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.PLACEHOLDER')\"\n          @blur=\"v$.timeOnPage.$touch\"\n        />\n        <label>\n          <input\n            v-model=\"enabled\"\n            type=\"checkbox\"\n            value=\"enabled\"\n            name=\"enabled\"\n          />\n          {{ $t('CAMPAIGN.ADD.FORM.ENABLED') }}\n        </label>\n        <label v-if=\"isOngoingType\">\n          <input\n            v-model=\"triggerOnlyDuringBusinessHours\"\n            type=\"checkbox\"\n            value=\"triggerOnlyDuringBusinessHours\"\n            name=\"triggerOnlyDuringBusinessHours\"\n          />\n          {{ $t('CAMPAIGN.ADD.FORM.TRIGGER_ONLY_BUSINESS_HOURS') }}\n        </label>\n      </div>\n      <div class=\"flex flex-row justify-end w-full gap-2 px-0 py-2\">\n        <woot-button :is-loading=\"uiFlags.isCreating\">\n          {{ $t('CAMPAIGN.EDIT.UPDATE_BUTTON_TEXT') }}\n        </woot-button>\n        <woot-button variant=\"clear\" @click.prevent=\"onClose\">\n          {{ $t('CAMPAIGN.ADD.CANCEL_BUTTON_TEXT') }}\n        </woot-button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n::v-deep .ProseMirror-woot-style {\n  height: 5rem;\n}\n\n.message-editor {\n  @apply px-3;\n\n  ::v-deep {\n    .ProseMirror-menubar {\n      @apply rounded-tl-[4px];\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCampaign.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditCampaign.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EditCampaign.vue?vue&type=template&id=2d3c4a2e&scoped=true&\"\nimport script from \"./EditCampaign.vue?vue&type=script&lang=js&\"\nexport * from \"./EditCampaign.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EditCampaign.vue?vue&type=style&index=0&id=2d3c4a2e&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"2d3c4a2e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col h-auto overflow-auto\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.pageTitle}}),_vm._v(\" \"),_c('form',{staticClass:\"flex flex-col w-full\",on:{\"submit\":function($event){$event.preventDefault();return _vm.editCampaign.apply(null, arguments)}}},[_c('div',{staticClass:\"w-full\"},[_c('woot-input',{class:{ error: _vm.v$.title.$error },attrs:{\"label\":_vm.$t('CAMPAIGN.ADD.FORM.TITLE.LABEL'),\"type\":\"text\",\"error\":_vm.v$.title.$error ? _vm.$t('CAMPAIGN.ADD.FORM.TITLE.ERROR') : '',\"placeholder\":_vm.$t('CAMPAIGN.ADD.FORM.TITLE.PLACEHOLDER')},on:{\"blur\":_vm.v$.title.$touch},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_vm._v(\" \"),_c('div',{staticClass:\"editor-wrap\"},[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.MESSAGE.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('WootMessageEditor',{staticClass:\"message-editor\",class:{ editor_warning: _vm.v$.message.$error },attrs:{\"is-format-mode\":\"\",\"placeholder\":_vm.$t('CAMPAIGN.ADD.FORM.MESSAGE.PLACEHOLDER')},on:{\"input\":_vm.v$.message.$touch},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),_vm._v(\" \"),(_vm.v$.message.$error)?_c('span',{staticClass:\"editor-warning__message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.MESSAGE.ERROR'))+\"\\n        \")]):_vm._e()],1),_vm._v(\" \"),_c('label',{class:{ error: _vm.v$.selectedInbox.$error }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.INBOX.LABEL'))+\"\\n        \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedInbox),expression:\"selectedInbox\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedInbox=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.onChangeInbox($event)}]}},_vm._l((_vm.inboxes),function(item){return _c('option',{key:item.id,domProps:{\"value\":item.id}},[_vm._v(\"\\n            \"+_vm._s(item.name)+\"\\n          \")])}),0),_vm._v(\" \"),(_vm.v$.selectedInbox.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.INBOX.ERROR'))+\"\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('label',{class:{ error: _vm.v$.selectedSender.$error }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.SENT_BY.LABEL'))+\"\\n        \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedSender),expression:\"selectedSender\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedSender=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.sendersAndBotList),function(sender){return _c('option',{key:sender.name,domProps:{\"value\":sender.id}},[_vm._v(\"\\n            \"+_vm._s(sender.name)+\"\\n          \")])}),0),_vm._v(\" \"),(_vm.v$.selectedSender.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.SENT_BY.ERROR'))+\"\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('woot-input',{class:{ error: _vm.v$.endPoint.$error },attrs:{\"label\":_vm.$t('CAMPAIGN.ADD.FORM.END_POINT.LABEL'),\"type\":\"text\",\"error\":_vm.v$.endPoint.$error ? _vm.$t('CAMPAIGN.ADD.FORM.END_POINT.ERROR') : '',\"placeholder\":_vm.$t('CAMPAIGN.ADD.FORM.END_POINT.PLACEHOLDER')},on:{\"blur\":_vm.v$.endPoint.$touch},model:{value:(_vm.endPoint),callback:function ($$v) {_vm.endPoint=$$v},expression:\"endPoint\"}}),_vm._v(\" \"),_c('woot-input',{class:{ error: _vm.v$.timeOnPage.$error },attrs:{\"label\":_vm.$t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.LABEL'),\"type\":\"text\",\"error\":_vm.v$.timeOnPage.$error\n            ? _vm.$t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.ERROR')\n            : '',\"placeholder\":_vm.$t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.PLACEHOLDER')},on:{\"blur\":_vm.v$.timeOnPage.$touch},model:{value:(_vm.timeOnPage),callback:function ($$v) {_vm.timeOnPage=$$v},expression:\"timeOnPage\"}}),_vm._v(\" \"),_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enabled),expression:\"enabled\"}],attrs:{\"type\":\"checkbox\",\"value\":\"enabled\",\"name\":\"enabled\"},domProps:{\"checked\":Array.isArray(_vm.enabled)?_vm._i(_vm.enabled,\"enabled\")>-1:(_vm.enabled)},on:{\"change\":function($event){var $$a=_vm.enabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"enabled\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.enabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.enabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.enabled=$$c}}}}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.ENABLED'))+\"\\n      \")]),_vm._v(\" \"),(_vm.isOngoingType)?_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.triggerOnlyDuringBusinessHours),expression:\"triggerOnlyDuringBusinessHours\"}],attrs:{\"type\":\"checkbox\",\"value\":\"triggerOnlyDuringBusinessHours\",\"name\":\"triggerOnlyDuringBusinessHours\"},domProps:{\"checked\":Array.isArray(_vm.triggerOnlyDuringBusinessHours)?_vm._i(_vm.triggerOnlyDuringBusinessHours,\"triggerOnlyDuringBusinessHours\")>-1:(_vm.triggerOnlyDuringBusinessHours)},on:{\"change\":function($event){var $$a=_vm.triggerOnlyDuringBusinessHours,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"triggerOnlyDuringBusinessHours\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.triggerOnlyDuringBusinessHours=$$a.concat([$$v]))}else{$$i>-1&&(_vm.triggerOnlyDuringBusinessHours=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.triggerOnlyDuringBusinessHours=$$c}}}}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.TRIGGER_ONLY_BUSINESS_HOURS'))+\"\\n      \")]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('woot-button',{attrs:{\"is-loading\":_vm.uiFlags.isCreating}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.EDIT.UPDATE_BUTTON_TEXT'))+\"\\n      \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"variant\":\"clear\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.CANCEL_BUTTON_TEXT'))+\"\\n      \")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { useAlert } from 'dashboard/composables';\nimport { useCampaign } from 'shared/composables/useCampaign';\nimport CampaignsTable from './CampaignsTable.vue';\nimport EditCampaign from './EditCampaign.vue';\nexport default {\n  components: {\n    CampaignsTable,\n    EditCampaign,\n  },\n  props: {\n    type: {\n      type: String,\n      default: '',\n    },\n  },\n  setup() {\n    const { campaignType } = useCampaign();\n    return { campaignType };\n  },\n  data() {\n    return {\n      showEditPopup: false,\n      selectedCampaign: {},\n      showDeleteConfirmationPopup: false,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'campaigns/getUIFlags',\n    }),\n    campaigns() {\n      return this.$store.getters['campaigns/getCampaigns'](this.campaignType);\n    },\n    showEmptyResult() {\n      const hasEmptyResults =\n        !this.uiFlags.isFetching && this.campaigns.length === 0;\n      return hasEmptyResults;\n    },\n  },\n  methods: {\n    openEditPopup(campaign) {\n      this.selectedCampaign = campaign;\n      this.showEditPopup = true;\n    },\n    hideEditPopup() {\n      this.showEditPopup = false;\n    },\n    openDeletePopup(campaign) {\n      this.showDeleteConfirmationPopup = true;\n      this.selectedCampaign = campaign;\n    },\n    closeDeletePopup() {\n      this.showDeleteConfirmationPopup = false;\n    },\n    confirmDeletion() {\n      this.closeDeletePopup();\n      const { id } = this.selectedCampaign;\n      this.deleteCampaign(id);\n    },\n    async deleteCampaign(id) {\n      try {\n        await this.$store.dispatch('campaigns/delete', id);\n        useAlert(this.$t('CAMPAIGN.DELETE.API.SUCCESS_MESSAGE'));\n      } catch (error) {\n        useAlert(this.$t('CAMPAIGN.DELETE.API.ERROR_MESSAGE'));\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex-1 overflow-auto\">\n    <CampaignsTable\n      :campaigns=\"campaigns\"\n      :show-empty-result=\"showEmptyResult\"\n      :is-loading=\"uiFlags.isFetching\"\n      :campaign-type=\"type\"\n      @edit=\"openEditPopup\"\n      @delete=\"openDeletePopup\"\n    />\n    <woot-modal :show.sync=\"showEditPopup\" :on-close=\"hideEditPopup\">\n      <EditCampaign\n        :selected-campaign=\"selectedCampaign\"\n        @onClose=\"hideEditPopup\"\n      />\n    </woot-modal>\n    <woot-delete-modal\n      :show.sync=\"showDeleteConfirmationPopup\"\n      :on-close=\"closeDeletePopup\"\n      :on-confirm=\"confirmDeletion\"\n      :title=\"$t('CAMPAIGN.DELETE.CONFIRM.TITLE')\"\n      :message=\"$t('CAMPAIGN.DELETE.CONFIRM.MESSAGE')\"\n      :confirm-text=\"$t('CAMPAIGN.DELETE.CONFIRM.YES')\"\n      :reject-text=\"$t('CAMPAIGN.DELETE.CONFIRM.NO')\"\n    />\n  </div>\n</template>\n\n<style scoped lang=\"scss\">\n.button-wrapper {\n  @apply flex justify-end pb-2.5;\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Campaign.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Campaign.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Campaign.vue?vue&type=template&id=0ff9f02e&scoped=true&\"\nimport script from \"./Campaign.vue?vue&type=script&lang=js&\"\nexport * from \"./Campaign.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Campaign.vue?vue&type=style&index=0&id=0ff9f02e&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0ff9f02e\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-1 overflow-auto\"},[_c('CampaignsTable',{attrs:{\"campaigns\":_vm.campaigns,\"show-empty-result\":_vm.showEmptyResult,\"is-loading\":_vm.uiFlags.isFetching,\"campaign-type\":_vm.type},on:{\"edit\":_vm.openEditPopup,\"delete\":_vm.openDeletePopup}}),_vm._v(\" \"),_c('woot-modal',{attrs:{\"show\":_vm.showEditPopup,\"on-close\":_vm.hideEditPopup},on:{\"update:show\":function($event){_vm.showEditPopup=$event}}},[_c('EditCampaign',{attrs:{\"selected-campaign\":_vm.selectedCampaign},on:{\"onClose\":_vm.hideEditPopup}})],1),_vm._v(\" \"),_c('woot-delete-modal',{attrs:{\"show\":_vm.showDeleteConfirmationPopup,\"on-close\":_vm.closeDeletePopup,\"on-confirm\":_vm.confirmDeletion,\"title\":_vm.$t('CAMPAIGN.DELETE.CONFIRM.TITLE'),\"message\":_vm.$t('CAMPAIGN.DELETE.CONFIRM.MESSAGE'),\"confirm-text\":_vm.$t('CAMPAIGN.DELETE.CONFIRM.YES'),\"reject-text\":_vm.$t('CAMPAIGN.DELETE.CONFIRM.NO')},on:{\"update:show\":function($event){_vm.showDeleteConfirmationPopup=$event}}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateTimePicker.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DateTimePicker.vue?vue&type=script&lang=js&\"","<script>\nimport addDays from 'date-fns/addDays';\nimport DatePicker from 'vue2-datepicker';\nexport default {\n  components: { DatePicker },\n  props: {\n    confirmText: {\n      type: String,\n      default: '',\n    },\n    placeholder: {\n      type: String,\n      default: '',\n    },\n    value: {\n      type: Date,\n      default: [],\n    },\n  },\n\n  methods: {\n    handleChange(value) {\n      this.$emit('change', value);\n    },\n    disableBeforeToday(date) {\n      const yesterdayDate = addDays(new Date(), -1);\n      return date < yesterdayDate;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"date-picker\">\n    <DatePicker\n      type=\"datetime\"\n      confirm\n      :clearable=\"false\"\n      :editable=\"false\"\n      :confirm-text=\"confirmText\"\n      :placeholder=\"placeholder\"\n      :value=\"value\"\n      :disabled-date=\"disableBeforeToday\"\n      @change=\"handleChange\"\n    />\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./DateTimePicker.vue?vue&type=template&id=5166cb6f&\"\nimport script from \"./DateTimePicker.vue?vue&type=script&lang=js&\"\nexport * from \"./DateTimePicker.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"date-picker\"},[_c('DatePicker',{attrs:{\"type\":\"datetime\",\"confirm\":\"\",\"clearable\":false,\"editable\":false,\"confirm-text\":_vm.confirmText,\"placeholder\":_vm.placeholder,\"value\":_vm.value,\"disabled-date\":_vm.disableBeforeToday},on:{\"change\":_vm.handleChange}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport { useVuelidate } from '@vuelidate/core';\nimport { required } from '@vuelidate/validators';\nimport { useAlert } from 'dashboard/composables';\nimport WootMessageEditor from 'dashboard/components/widgets/WootWriter/Editor.vue';\nimport { useCampaign } from 'shared/composables/useCampaign';\nimport WootDateTimePicker from 'dashboard/components/ui/DateTimePicker.vue';\nimport { URLPattern } from 'urlpattern-polyfill';\nimport { CAMPAIGNS_EVENTS } from '../../../../helper/AnalyticsHelper/events';\n\nexport default {\n  components: {\n    WootDateTimePicker,\n    WootMessageEditor,\n  },\n  setup() {\n    const { campaignType, isOngoingType, isOneOffType } = useCampaign();\n    return { v$: useVuelidate(), campaignType, isOngoingType, isOneOffType };\n  },\n  data() {\n    return {\n      title: '',\n      message: '',\n      selectedSender: 0,\n      selectedInbox: null,\n      endPoint: '',\n      timeOnPage: 10,\n      show: true,\n      enabled: true,\n      triggerOnlyDuringBusinessHours: false,\n      scheduledAt: null,\n      selectedAudience: [],\n      senderList: [],\n    };\n  },\n\n  validations() {\n    const commonValidations = {\n      title: {\n        required,\n      },\n      message: {\n        required,\n      },\n      selectedInbox: {\n        required,\n      },\n    };\n    if (this.isOngoingType) {\n      return {\n        ...commonValidations,\n        selectedSender: {\n          required,\n        },\n        endPoint: {\n          required,\n          shouldBeAValidURLPattern(value) {\n            try {\n              // eslint-disable-next-line\n              new URLPattern(value);\n              return true;\n            } catch (error) {\n              return false;\n            }\n          },\n          shouldStartWithHTTP(value) {\n            if (value) {\n              return (\n                value.startsWith('https://') || value.startsWith('http://')\n              );\n            }\n            return false;\n          },\n        },\n        timeOnPage: {\n          required,\n        },\n      };\n    }\n    return {\n      ...commonValidations,\n      selectedAudience: {\n        isEmpty() {\n          return !!this.selectedAudience.length;\n        },\n      },\n    };\n  },\n  computed: {\n    ...mapGetters({\n      uiFlags: 'campaigns/getUIFlags',\n      audienceList: 'labels/getLabels',\n    }),\n    inboxes() {\n      if (this.isOngoingType) {\n        return this.$store.getters['inboxes/getWebsiteInboxes'];\n      }\n      return this.$store.getters['inboxes/getSMSInboxes'];\n    },\n    sendersAndBotList() {\n      return [\n        {\n          id: 0,\n          name: 'Bot',\n        },\n        ...this.senderList,\n      ];\n    },\n  },\n  mounted() {\n    this.$track(CAMPAIGNS_EVENTS.OPEN_NEW_CAMPAIGN_MODAL, {\n      type: this.campaignType,\n    });\n  },\n  methods: {\n    onClose() {\n      this.$emit('onClose');\n    },\n    onChange(value) {\n      this.scheduledAt = value;\n    },\n    async onChangeInbox() {\n      try {\n        const response = await this.$store.dispatch('inboxMembers/get', {\n          inboxId: this.selectedInbox,\n        });\n        const {\n          data: { payload: inboxMembers },\n        } = response;\n        this.senderList = inboxMembers;\n      } catch (error) {\n        const errorMessage =\n          error?.response?.message || this.$t('CAMPAIGN.ADD.API.ERROR_MESSAGE');\n        useAlert(errorMessage);\n      }\n    },\n    getCampaignDetails() {\n      let campaignDetails = null;\n      if (this.isOngoingType) {\n        campaignDetails = {\n          title: this.title,\n          message: this.message,\n          inbox_id: this.selectedInbox,\n          sender_id: this.selectedSender || null,\n          enabled: this.enabled,\n          trigger_only_during_business_hours:\n            // eslint-disable-next-line prettier/prettier\n            this.triggerOnlyDuringBusinessHours,\n          trigger_rules: {\n            url: this.endPoint,\n            time_on_page: this.timeOnPage,\n          },\n        };\n      } else {\n        const audience = this.selectedAudience.map(item => {\n          return {\n            id: item.id,\n            type: 'Label',\n          };\n        });\n        campaignDetails = {\n          title: this.title,\n          message: this.message,\n          inbox_id: this.selectedInbox,\n          scheduled_at: this.scheduledAt,\n          audience,\n        };\n      }\n      return campaignDetails;\n    },\n    async addCampaign() {\n      this.v$.$touch();\n      if (this.v$.$invalid) {\n        return;\n      }\n      try {\n        const campaignDetails = this.getCampaignDetails();\n        await this.$store.dispatch('campaigns/create', campaignDetails);\n\n        // tracking this here instead of the store to track the type of campaign\n        this.$track(CAMPAIGNS_EVENTS.CREATE_CAMPAIGN, {\n          type: this.campaignType,\n        });\n\n        useAlert(this.$t('CAMPAIGN.ADD.API.SUCCESS_MESSAGE'));\n        this.onClose();\n      } catch (error) {\n        const errorMessage =\n          error?.response?.message || this.$t('CAMPAIGN.ADD.API.ERROR_MESSAGE');\n        useAlert(errorMessage);\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex flex-col h-auto overflow-auto\">\n    <woot-modal-header\n      :header-title=\"$t('CAMPAIGN.ADD.TITLE')\"\n      :header-content=\"$t('CAMPAIGN.ADD.DESC')\"\n    />\n    <form class=\"flex flex-col w-full\" @submit.prevent=\"addCampaign\">\n      <div class=\"w-full\">\n        <woot-input\n          v-model=\"title\"\n          :label=\"$t('CAMPAIGN.ADD.FORM.TITLE.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: v$.title.$error }\"\n          :error=\"v$.title.$error ? $t('CAMPAIGN.ADD.FORM.TITLE.ERROR') : ''\"\n          :placeholder=\"$t('CAMPAIGN.ADD.FORM.TITLE.PLACEHOLDER')\"\n          @blur=\"v$.title.$touch\"\n        />\n\n        <div v-if=\"isOngoingType\" class=\"editor-wrap\">\n          <label>\n            {{ $t('CAMPAIGN.ADD.FORM.MESSAGE.LABEL') }}\n          </label>\n          <div>\n            <WootMessageEditor\n              v-model=\"message\"\n              class=\"message-editor\"\n              :class=\"{ editor_warning: v$.message.$error }\"\n              :placeholder=\"$t('CAMPAIGN.ADD.FORM.MESSAGE.PLACEHOLDER')\"\n              @blur=\"v$.message.$touch\"\n            />\n            <span v-if=\"v$.message.$error\" class=\"editor-warning__message\">\n              {{ $t('CAMPAIGN.ADD.FORM.MESSAGE.ERROR') }}\n            </span>\n          </div>\n        </div>\n\n        <label v-else :class=\"{ error: v$.message.$error }\">\n          {{ $t('CAMPAIGN.ADD.FORM.MESSAGE.LABEL') }}\n          <textarea\n            v-model=\"message\"\n            rows=\"5\"\n            type=\"text\"\n            :placeholder=\"$t('CAMPAIGN.ADD.FORM.MESSAGE.PLACEHOLDER')\"\n            @blur=\"v$.message.$touch\"\n          />\n          <span v-if=\"v$.message.$error\" class=\"message\">\n            {{ $t('CAMPAIGN.ADD.FORM.MESSAGE.ERROR') }}\n          </span>\n        </label>\n\n        <label :class=\"{ error: v$.selectedInbox.$error }\">\n          {{ $t('CAMPAIGN.ADD.FORM.INBOX.LABEL') }}\n          <select v-model=\"selectedInbox\" @change=\"onChangeInbox($event)\">\n            <option v-for=\"item in inboxes\" :key=\"item.name\" :value=\"item.id\">\n              {{ item.name }}\n            </option>\n          </select>\n          <span v-if=\"v$.selectedInbox.$error\" class=\"message\">\n            {{ $t('CAMPAIGN.ADD.FORM.INBOX.ERROR') }}\n          </span>\n        </label>\n\n        <label\n          v-if=\"isOneOffType\"\n          class=\"multiselect-wrap--small\"\n          :class=\"{ error: v$.selectedAudience.$error }\"\n        >\n          {{ $t('CAMPAIGN.ADD.FORM.AUDIENCE.LABEL') }}\n          <multiselect\n            v-model=\"selectedAudience\"\n            :options=\"audienceList\"\n            track-by=\"id\"\n            label=\"title\"\n            multiple\n            :close-on-select=\"false\"\n            :clear-on-select=\"false\"\n            hide-selected\n            :placeholder=\"$t('CAMPAIGN.ADD.FORM.AUDIENCE.PLACEHOLDER')\"\n            selected-label\n            :select-label=\"$t('FORMS.MULTISELECT.ENTER_TO_SELECT')\"\n            :deselect-label=\"$t('FORMS.MULTISELECT.ENTER_TO_REMOVE')\"\n            @blur=\"v$.selectedAudience.$touch\"\n            @select=\"v$.selectedAudience.$touch\"\n          />\n          <span v-if=\"v$.selectedAudience.$error\" class=\"message\">\n            {{ $t('CAMPAIGN.ADD.FORM.AUDIENCE.ERROR') }}\n          </span>\n        </label>\n\n        <label\n          v-if=\"isOngoingType\"\n          :class=\"{ error: v$.selectedSender.$error }\"\n        >\n          {{ $t('CAMPAIGN.ADD.FORM.SENT_BY.LABEL') }}\n          <select v-model=\"selectedSender\">\n            <option\n              v-for=\"sender in sendersAndBotList\"\n              :key=\"sender.name\"\n              :value=\"sender.id\"\n            >\n              {{ sender.name }}\n            </option>\n          </select>\n          <span v-if=\"v$.selectedSender.$error\" class=\"message\">\n            {{ $t('CAMPAIGN.ADD.FORM.SENT_BY.ERROR') }}\n          </span>\n        </label>\n\n        <label v-if=\"isOneOffType\">\n          {{ $t('CAMPAIGN.ADD.FORM.SCHEDULED_AT.LABEL') }}\n          <WootDateTimePicker\n            :value=\"scheduledAt\"\n            :confirm-text=\"$t('CAMPAIGN.ADD.FORM.SCHEDULED_AT.CONFIRM')\"\n            :placeholder=\"$t('CAMPAIGN.ADD.FORM.SCHEDULED_AT.PLACEHOLDER')\"\n            @change=\"onChange\"\n          />\n        </label>\n\n        <woot-input\n          v-if=\"isOngoingType\"\n          v-model=\"endPoint\"\n          :label=\"$t('CAMPAIGN.ADD.FORM.END_POINT.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: v$.endPoint.$error }\"\n          :error=\"\n            v$.endPoint.$error ? $t('CAMPAIGN.ADD.FORM.END_POINT.ERROR') : ''\n          \"\n          :placeholder=\"$t('CAMPAIGN.ADD.FORM.END_POINT.PLACEHOLDER')\"\n          @blur=\"v$.endPoint.$touch\"\n        />\n        <woot-input\n          v-if=\"isOngoingType\"\n          v-model=\"timeOnPage\"\n          :label=\"$t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.LABEL')\"\n          type=\"text\"\n          :class=\"{ error: v$.timeOnPage.$error }\"\n          :error=\"\n            v$.timeOnPage.$error\n              ? $t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.ERROR')\n              : ''\n          \"\n          :placeholder=\"$t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.PLACEHOLDER')\"\n          @blur=\"v$.timeOnPage.$touch\"\n        />\n        <label v-if=\"isOngoingType\">\n          <input\n            v-model=\"enabled\"\n            type=\"checkbox\"\n            value=\"enabled\"\n            name=\"enabled\"\n          />\n          {{ $t('CAMPAIGN.ADD.FORM.ENABLED') }}\n        </label>\n        <label v-if=\"isOngoingType\">\n          <input\n            v-model=\"triggerOnlyDuringBusinessHours\"\n            type=\"checkbox\"\n            value=\"triggerOnlyDuringBusinessHours\"\n            name=\"triggerOnlyDuringBusinessHours\"\n          />\n          {{ $t('CAMPAIGN.ADD.FORM.TRIGGER_ONLY_BUSINESS_HOURS') }}\n        </label>\n      </div>\n\n      <div class=\"flex flex-row justify-end w-full gap-2 px-0 py-2\">\n        <woot-button :is-loading=\"uiFlags.isCreating\">\n          {{ $t('CAMPAIGN.ADD.CREATE_BUTTON_TEXT') }}\n        </woot-button>\n        <woot-button variant=\"clear\" @click.prevent=\"onClose\">\n          {{ $t('CAMPAIGN.ADD.CANCEL_BUTTON_TEXT') }}\n        </woot-button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n::v-deep .ProseMirror-woot-style {\n  height: 5rem;\n}\n\n.message-editor {\n  @apply px-3;\n\n  ::v-deep {\n    .ProseMirror-menubar {\n      @apply rounded-tl-[4px];\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCampaign.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddCampaign.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./AddCampaign.vue?vue&type=template&id=c3e22780&scoped=true&\"\nimport script from \"./AddCampaign.vue?vue&type=script&lang=js&\"\nexport * from \"./AddCampaign.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AddCampaign.vue?vue&type=style&index=0&id=c3e22780&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"c3e22780\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex flex-col h-auto overflow-auto\"},[_c('woot-modal-header',{attrs:{\"header-title\":_vm.$t('CAMPAIGN.ADD.TITLE'),\"header-content\":_vm.$t('CAMPAIGN.ADD.DESC')}}),_vm._v(\" \"),_c('form',{staticClass:\"flex flex-col w-full\",on:{\"submit\":function($event){$event.preventDefault();return _vm.addCampaign.apply(null, arguments)}}},[_c('div',{staticClass:\"w-full\"},[_c('woot-input',{class:{ error: _vm.v$.title.$error },attrs:{\"label\":_vm.$t('CAMPAIGN.ADD.FORM.TITLE.LABEL'),\"type\":\"text\",\"error\":_vm.v$.title.$error ? _vm.$t('CAMPAIGN.ADD.FORM.TITLE.ERROR') : '',\"placeholder\":_vm.$t('CAMPAIGN.ADD.FORM.TITLE.PLACEHOLDER')},on:{\"blur\":_vm.v$.title.$touch},model:{value:(_vm.title),callback:function ($$v) {_vm.title=$$v},expression:\"title\"}}),_vm._v(\" \"),(_vm.isOngoingType)?_c('div',{staticClass:\"editor-wrap\"},[_c('label',[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.MESSAGE.LABEL'))+\"\\n        \")]),_vm._v(\" \"),_c('div',[_c('WootMessageEditor',{staticClass:\"message-editor\",class:{ editor_warning: _vm.v$.message.$error },attrs:{\"placeholder\":_vm.$t('CAMPAIGN.ADD.FORM.MESSAGE.PLACEHOLDER')},on:{\"blur\":_vm.v$.message.$touch},model:{value:(_vm.message),callback:function ($$v) {_vm.message=$$v},expression:\"message\"}}),_vm._v(\" \"),(_vm.v$.message.$error)?_c('span',{staticClass:\"editor-warning__message\"},[_vm._v(\"\\n            \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.MESSAGE.ERROR'))+\"\\n          \")]):_vm._e()],1)]):_c('label',{class:{ error: _vm.v$.message.$error }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.MESSAGE.LABEL'))+\"\\n        \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.message),expression:\"message\"}],attrs:{\"rows\":\"5\",\"type\":\"text\",\"placeholder\":_vm.$t('CAMPAIGN.ADD.FORM.MESSAGE.PLACEHOLDER')},domProps:{\"value\":(_vm.message)},on:{\"blur\":_vm.v$.message.$touch,\"input\":function($event){if($event.target.composing)return;_vm.message=$event.target.value}}}),_vm._v(\" \"),(_vm.v$.message.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.MESSAGE.ERROR'))+\"\\n        \")]):_vm._e()]),_vm._v(\" \"),_c('label',{class:{ error: _vm.v$.selectedInbox.$error }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.INBOX.LABEL'))+\"\\n        \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedInbox),expression:\"selectedInbox\"}],on:{\"change\":[function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedInbox=$event.target.multiple ? $$selectedVal : $$selectedVal[0]},function($event){return _vm.onChangeInbox($event)}]}},_vm._l((_vm.inboxes),function(item){return _c('option',{key:item.name,domProps:{\"value\":item.id}},[_vm._v(\"\\n            \"+_vm._s(item.name)+\"\\n          \")])}),0),_vm._v(\" \"),(_vm.v$.selectedInbox.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.INBOX.ERROR'))+\"\\n        \")]):_vm._e()]),_vm._v(\" \"),(_vm.isOneOffType)?_c('label',{staticClass:\"multiselect-wrap--small\",class:{ error: _vm.v$.selectedAudience.$error }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.AUDIENCE.LABEL'))+\"\\n        \"),_c('multiselect',{attrs:{\"options\":_vm.audienceList,\"track-by\":\"id\",\"label\":\"title\",\"multiple\":\"\",\"close-on-select\":false,\"clear-on-select\":false,\"hide-selected\":\"\",\"placeholder\":_vm.$t('CAMPAIGN.ADD.FORM.AUDIENCE.PLACEHOLDER'),\"selected-label\":\"\",\"select-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_SELECT'),\"deselect-label\":_vm.$t('FORMS.MULTISELECT.ENTER_TO_REMOVE')},on:{\"blur\":_vm.v$.selectedAudience.$touch,\"select\":_vm.v$.selectedAudience.$touch},model:{value:(_vm.selectedAudience),callback:function ($$v) {_vm.selectedAudience=$$v},expression:\"selectedAudience\"}}),_vm._v(\" \"),(_vm.v$.selectedAudience.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.AUDIENCE.ERROR'))+\"\\n        \")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),(_vm.isOngoingType)?_c('label',{class:{ error: _vm.v$.selectedSender.$error }},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.SENT_BY.LABEL'))+\"\\n        \"),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.selectedSender),expression:\"selectedSender\"}],on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.selectedSender=$event.target.multiple ? $$selectedVal : $$selectedVal[0]}}},_vm._l((_vm.sendersAndBotList),function(sender){return _c('option',{key:sender.name,domProps:{\"value\":sender.id}},[_vm._v(\"\\n            \"+_vm._s(sender.name)+\"\\n          \")])}),0),_vm._v(\" \"),(_vm.v$.selectedSender.$error)?_c('span',{staticClass:\"message\"},[_vm._v(\"\\n          \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.SENT_BY.ERROR'))+\"\\n        \")]):_vm._e()]):_vm._e(),_vm._v(\" \"),(_vm.isOneOffType)?_c('label',[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.SCHEDULED_AT.LABEL'))+\"\\n        \"),_c('WootDateTimePicker',{attrs:{\"value\":_vm.scheduledAt,\"confirm-text\":_vm.$t('CAMPAIGN.ADD.FORM.SCHEDULED_AT.CONFIRM'),\"placeholder\":_vm.$t('CAMPAIGN.ADD.FORM.SCHEDULED_AT.PLACEHOLDER')},on:{\"change\":_vm.onChange}})],1):_vm._e(),_vm._v(\" \"),(_vm.isOngoingType)?_c('woot-input',{class:{ error: _vm.v$.endPoint.$error },attrs:{\"label\":_vm.$t('CAMPAIGN.ADD.FORM.END_POINT.LABEL'),\"type\":\"text\",\"error\":_vm.v$.endPoint.$error ? _vm.$t('CAMPAIGN.ADD.FORM.END_POINT.ERROR') : '',\"placeholder\":_vm.$t('CAMPAIGN.ADD.FORM.END_POINT.PLACEHOLDER')},on:{\"blur\":_vm.v$.endPoint.$touch},model:{value:(_vm.endPoint),callback:function ($$v) {_vm.endPoint=$$v},expression:\"endPoint\"}}):_vm._e(),_vm._v(\" \"),(_vm.isOngoingType)?_c('woot-input',{class:{ error: _vm.v$.timeOnPage.$error },attrs:{\"label\":_vm.$t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.LABEL'),\"type\":\"text\",\"error\":_vm.v$.timeOnPage.$error\n            ? _vm.$t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.ERROR')\n            : '',\"placeholder\":_vm.$t('CAMPAIGN.ADD.FORM.TIME_ON_PAGE.PLACEHOLDER')},on:{\"blur\":_vm.v$.timeOnPage.$touch},model:{value:(_vm.timeOnPage),callback:function ($$v) {_vm.timeOnPage=$$v},expression:\"timeOnPage\"}}):_vm._e(),_vm._v(\" \"),(_vm.isOngoingType)?_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.enabled),expression:\"enabled\"}],attrs:{\"type\":\"checkbox\",\"value\":\"enabled\",\"name\":\"enabled\"},domProps:{\"checked\":Array.isArray(_vm.enabled)?_vm._i(_vm.enabled,\"enabled\")>-1:(_vm.enabled)},on:{\"change\":function($event){var $$a=_vm.enabled,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"enabled\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.enabled=$$a.concat([$$v]))}else{$$i>-1&&(_vm.enabled=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.enabled=$$c}}}}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.ENABLED'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.isOngoingType)?_c('label',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.triggerOnlyDuringBusinessHours),expression:\"triggerOnlyDuringBusinessHours\"}],attrs:{\"type\":\"checkbox\",\"value\":\"triggerOnlyDuringBusinessHours\",\"name\":\"triggerOnlyDuringBusinessHours\"},domProps:{\"checked\":Array.isArray(_vm.triggerOnlyDuringBusinessHours)?_vm._i(_vm.triggerOnlyDuringBusinessHours,\"triggerOnlyDuringBusinessHours\")>-1:(_vm.triggerOnlyDuringBusinessHours)},on:{\"change\":function($event){var $$a=_vm.triggerOnlyDuringBusinessHours,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"triggerOnlyDuringBusinessHours\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.triggerOnlyDuringBusinessHours=$$a.concat([$$v]))}else{$$i>-1&&(_vm.triggerOnlyDuringBusinessHours=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.triggerOnlyDuringBusinessHours=$$c}}}}),_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.FORM.TRIGGER_ONLY_BUSINESS_HOURS'))+\"\\n      \")]):_vm._e()],1),_vm._v(\" \"),_c('div',{staticClass:\"flex flex-row justify-end w-full gap-2 px-0 py-2\"},[_c('woot-button',{attrs:{\"is-loading\":_vm.uiFlags.isCreating}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.CREATE_BUTTON_TEXT'))+\"\\n      \")]),_vm._v(\" \"),_c('woot-button',{attrs:{\"variant\":\"clear\"},on:{\"click\":function($event){$event.preventDefault();return _vm.onClose.apply(null, arguments)}}},[_vm._v(\"\\n        \"+_vm._s(_vm.$t('CAMPAIGN.ADD.CANCEL_BUTTON_TEXT'))+\"\\n      \")])],1)])],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../node_modules/babel-loader/lib/index.js??ref--7-0!../../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Index.vue?vue&type=script&lang=js&\"","<script>\nimport { useCampaign } from 'shared/composables/useCampaign';\nimport Campaign from './Campaign.vue';\nimport AddCampaign from './AddCampaign.vue';\n\nexport default {\n  components: {\n    Campaign,\n    AddCampaign,\n  },\n  setup() {\n    const { isOngoingType } = useCampaign();\n    return { isOngoingType };\n  },\n  data() {\n    return { showAddPopup: false };\n  },\n  computed: {\n    buttonText() {\n      if (this.isOngoingType) {\n        return this.$t('CAMPAIGN.HEADER_BTN_TXT.ONGOING');\n      }\n      return this.$t('CAMPAIGN.HEADER_BTN_TXT.ONE_OFF');\n    },\n  },\n  mounted() {\n    this.$store.dispatch('campaigns/get');\n  },\n  methods: {\n    openAddPopup() {\n      this.showAddPopup = true;\n    },\n    hideAddPopup() {\n      this.showAddPopup = false;\n    },\n  },\n};\n</script>\n\n<template>\n  <div class=\"flex-1 p-4 overflow-auto\">\n    <woot-button\n      color-scheme=\"success\"\n      class-names=\"button--fixed-top\"\n      icon=\"add-circle\"\n      @click=\"openAddPopup\"\n    >\n      {{ buttonText }}\n    </woot-button>\n    <Campaign />\n    <woot-modal :show.sync=\"showAddPopup\" :on-close=\"hideAddPopup\">\n      <AddCampaign @onClose=\"hideAddPopup\" />\n    </woot-modal>\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./Index.vue?vue&type=template&id=eeb904fa&\"\nimport script from \"./Index.vue?vue&type=script&lang=js&\"\nexport * from \"./Index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// Process [@mention](mention://user/1/Pranav)\nconst USER_MENTIONS_REGEX = /mention:\\/\\/(user|team)\\/(\\d+)\\/(.+)/gm;\n\nconst buildMentionTokens = () => (state, silent) => {\n  var label;\n  var labelEnd;\n  var labelStart;\n  var pos;\n  var res;\n  var token;\n  var href = '';\n  var max = state.posMax;\n\n  if (state.src.charCodeAt(state.pos) !== 0x5b /* [ */) {\n    return false;\n  }\n\n  labelStart = state.pos + 1;\n  labelEnd = state.md.helpers.parseLinkLabel(state, state.pos, true);\n\n  // parser failed to find ']', so it's not a valid link\n  if (labelEnd < 0) {\n    return false;\n  }\n\n  label = state.src.slice(labelStart, labelEnd);\n  pos = labelEnd + 1;\n\n  if (pos < max && state.src.charCodeAt(pos) === 0x28 /* ( */) {\n    pos += 1;\n    res = state.md.helpers.parseLinkDestination(state.src, pos, state.posMax);\n    if (res.ok) {\n      href = state.md.normalizeLink(res.str);\n      if (state.md.validateLink(href)) {\n        pos = res.pos;\n      } else {\n        href = '';\n      }\n    }\n    pos += 1;\n  }\n\n  if (!href.match(new RegExp(USER_MENTIONS_REGEX))) {\n    return false;\n  }\n\n  if (!silent) {\n    state.pos = labelStart;\n    state.posMax = labelEnd;\n\n    token = state.push('mention', '');\n    token.href = href;\n    token.content = label;\n  }\n\n  state.pos = pos;\n  state.posMax = max;\n\n  return true;\n};\n\nconst renderMentions = () => (tokens, idx) => {\n  return `<span class=\"prosemirror-mention-node\">${tokens[idx].content}</span>`;\n};\n\nexport default function mentionPlugin(md) {\n  md.renderer.rules.mention = renderMentions(md);\n  md.inline.ruler.before('link', 'mention', buildMentionTokens(md));\n}\n","import mila from 'markdown-it-link-attributes';\nimport mentionPlugin from './markdownIt/link';\n\nconst setImageHeight = inlineToken => {\n  const imgSrc = inlineToken.attrGet('src');\n  if (!imgSrc) return;\n  const url = new URL(imgSrc);\n  const height = url.searchParams.get('cw_image_height');\n  if (!height) return;\n  inlineToken.attrSet('style', `height: ${height};`);\n};\n\nconst processInlineToken = blockToken => {\n  blockToken.children.forEach(inlineToken => {\n    if (inlineToken.type === 'image') {\n      setImageHeight(inlineToken);\n    }\n  });\n};\n\nconst imgResizeManager = md => {\n  // Custom rule for image resize in markdown\n  // If the image url has a query param cw_image_height, then add a style attribute to the image\n  md.core.ruler.after('inline', 'add-image-height', state => {\n    state.tokens.forEach(blockToken => {\n      if (blockToken.type === 'inline') {\n        processInlineToken(blockToken);\n      }\n    });\n  });\n};\n\nconst md = require('markdown-it')({\n  html: false,\n  xhtmlOut: true,\n  breaks: true,\n  langPrefix: 'language-',\n  linkify: true,\n  typographer: true,\n  quotes: '\\u201c\\u201d\\u2018\\u2019',\n  maxNesting: 20,\n})\n  .use(mentionPlugin)\n  .use(imgResizeManager)\n  .use(mila, {\n    attrs: {\n      class: 'link',\n      rel: 'noreferrer noopener nofollow',\n      target: '_blank',\n    },\n  });\n\nconst TWITTER_USERNAME_REGEX = /(^|[^@\\w])@(\\w{1,15})\\b/g;\nconst TWITTER_USERNAME_REPLACEMENT = '$1[@$2](http://twitter.com/$2)';\nconst TWITTER_HASH_REGEX = /(^|\\s)#(\\w+)/g;\nconst TWITTER_HASH_REPLACEMENT = '$1[#$2](https://twitter.com/hashtag/$2)';\n\nclass MessageFormatter {\n  constructor(message, isATweet = false, isAPrivateNote = false) {\n    this.message = message || '';\n    this.isAPrivateNote = isAPrivateNote;\n    this.isATweet = isATweet;\n  }\n\n  formatMessage() {\n    let updatedMessage = this.message;\n    if (this.isATweet && !this.isAPrivateNote) {\n      updatedMessage = updatedMessage.replace(\n        TWITTER_USERNAME_REGEX,\n        TWITTER_USERNAME_REPLACEMENT\n      );\n      updatedMessage = updatedMessage.replace(\n        TWITTER_HASH_REGEX,\n        TWITTER_HASH_REPLACEMENT\n      );\n    }\n    return md.render(updatedMessage);\n  }\n\n  get formattedMessage() {\n    return this.formatMessage();\n  }\n\n  get plainText() {\n    const strippedOutHtml = new DOMParser().parseFromString(\n      this.formattedMessage,\n      'text/html'\n    );\n    return strippedOutHtml.body.textContent || '';\n  }\n}\n\nexport default MessageFormatter;\n","import MessageFormatter from '../helpers/MessageFormatter';\n\n/**\n * A composable providing utility functions for message formatting.\n *\n * @returns {Object} A set of functions for message formatting.\n */\nexport const useMessageFormatter = () => {\n  /**\n   * Formats a message based on specified conditions.\n   *\n   * @param {string} message - The message to be formatted.\n   * @param {boolean} isATweet - Whether the message is a tweet.\n   * @param {boolean} isAPrivateNote - Whether the message is a private note.\n   * @returns {string} - The formatted message.\n   */\n  const formatMessage = (message, isATweet, isAPrivateNote) => {\n    const messageFormatter = new MessageFormatter(\n      message,\n      isATweet,\n      isAPrivateNote\n    );\n    return messageFormatter.formattedMessage;\n  };\n\n  /**\n   * Converts a message to plain text.\n   *\n   * @param {string} message - The message to be converted.\n   * @param {boolean} isATweet - Whether the message is a tweet.\n   * @returns {string} - The plain text message.\n   */\n  const getPlainText = (message, isATweet) => {\n    const messageFormatter = new MessageFormatter(message, isATweet);\n    return messageFormatter.plainText;\n  };\n\n  /**\n   * Truncates a description to a maximum length of 100 characters.\n   *\n   * @param {string} [description=''] - The description to be truncated.\n   * @returns {string} - The truncated description.\n   */\n  const truncateMessage = (description = '') => {\n    if (description.length < 100) {\n      return description;\n    }\n\n    return `${description.slice(0, 97)}...`;\n  };\n\n  /**\n   * Highlights occurrences of a search term within given content.\n   *\n   * @param {string} [content=''] - The content in which to search.\n   * @param {string} [searchTerm=''] - The term to search for.\n   * @param {string} [highlightClass=''] - The CSS class to apply to the highlighted term.\n   * @returns {string} - The content with highlighted terms.\n   */\n  const highlightContent = (\n    content = '',\n    searchTerm = '',\n    highlightClass = ''\n  ) => {\n    const plainTextContent = getPlainText(content);\n\n    // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Guide/Regular_Expressions#escaping\n    const escapedSearchTerm = searchTerm.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&');\n\n    return plainTextContent.replace(\n      new RegExp(`(${escapedSearchTerm})`, 'ig'),\n      `<span class=\"${highlightClass}\">$1</span>`\n    );\n  };\n\n  return {\n    formatMessage,\n    getPlainText,\n    truncateMessage,\n    highlightContent,\n  };\n};\n"],"sourceRoot":""}