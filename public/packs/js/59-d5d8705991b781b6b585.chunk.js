(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{1505:function(t,e,n){"use strict";var o=n(250),s={__name:"BackButton",props:{backUrl:{type:[String,Object],default:""},buttonLabel:{type:String,default:""},compact:{type:Boolean,default:!1}},setup:function(t){var e=t,n=e.compact?"text-sm text-slate-600 dark:text-slate-300":"text-base text-woot-500 dark:text-woot-500";return{__sfc:!0,props:e,goBack:function(){""!==e.backUrl?o.a.push(e.backUrl):o.a.go(-1)},buttonStyleClass:n}}},a=n(8),r=Object(a.a)(s,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("button",{staticClass:"flex items-center p-0 font-normal cursor-pointer",class:n.buttonStyleClass,on:{"!click":function(t){return n.goBack.apply(null,arguments)}}},[e("fluent-icon",{staticClass:"-ml-1",attrs:{icon:"chevron-left"}}),t._v("\n  "+t._s(t.buttonLabel||t.$t("GENERAL_SETTINGS.BACK"))+"\n")],1)}),[],!1,null,null,null);e.a=r.exports},1506:function(t,e,n){"use strict";var o=n(197),s=n(5),a={__name:"CustomBrandPolicyWrapper",props:{showOnCustomBrandedInstance:{type:Boolean,default:!0}},setup:function(t){var e=t,n=Object(o.c)(),a=n["globalConfig/isACustomBrandedInstance"],r=Object(s.computed)((function(){return e.showOnCustomBrandedInstance||!a.value}));return{__sfc:!0,props:e,getters:n,isACustomBrandedInstance:a,shouldShowContent:r}}},r=n(8),i=Object(r.a)(a,(function(){var t=this,e=t._self._c;return t._self._setupProxy.shouldShowContent?e("div",[t._t("default")],2):t._e()}),[],!1,null,null,null).exports,c={agent_bots:"https://chwt.app/hc/agent-bots",agents:"https://chwt.app/hc/agents",audit_logs:"https://chwt.app/hc/audit-logs",campaigns:"https://chwt.app/hc/campaigns",canned_responses:"https://chwt.app/hc/canned",channel_email:"https://chwt.app/hc/email",channel_facebook:"https://chwt.app/hc/fb",custom_attributes:"https://chwt.app/hc/custom-attributes",dashboard_apps:"https://chwt.app/hc/dashboard-apps",help_center:"https://chwt.app/hc/help-center",inboxes:"https://chwt.app/hc/inboxes",integrations:"https://chwt.app/hc/integrations",labels:"https://chwt.app/hc/labels",macros:"https://chwt.app/hc/macros",message_reply_to:"https://chwt.app/hc/reply-to",reports:"https://chwt.app/hc/reports",sla:"https://chwt.app/hc/sla",captain:"https://chwt.app/hc/captain",team_management:"https://chwt.app/hc/teams",webhook:"https://chwt.app/hc/webhooks"};var l=n(1505),d={__name:"BaseSettingsHeader",props:{title:{type:String,required:!0},description:{type:String,required:!0},iconName:{type:String,default:""},linkText:{type:String,default:""},featureName:{type:String,default:""},backButtonLabel:{type:String,default:""}},setup:function(t){var e;return{__sfc:!0,props:t,helpURL:(e=t.featureName,c[e]),openInNewTab:function(t){t&&window.open(t,"_blank","noopener noreferrer")},CustomBrandPolicyWrapper:i,BackButton:l.a}}},u=Object(r.a)(d,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"flex flex-col items-start w-full gap-2 pt-4"},[t.backButtonLabel?e(n.BackButton,{attrs:{compact:"","button-label":t.backButtonLabel}}):t._e(),t._v(" "),e("div",{staticClass:"flex items-center justify-between w-full gap-4"},[e("div",{staticClass:"flex items-center gap-3"},[t.iconName?e("div",{staticClass:"flex items-center w-10 h-10 p-1 rounded-full bg-woot-25/60 dark:bg-woot-900/60"},[e("div",{staticClass:"flex items-center justify-center w-full h-full rounded-full bg-woot-75/70 dark:bg-woot-800/40"},[e("fluent-icon",{staticClass:"flex-shrink-0 text-woot-500 dark:text-woot-500",attrs:{size:"14",icon:t.iconName,type:"outline"}})],1)]):t._e(),t._v(" "),e("h1",{staticClass:"text-2xl font-semibold font-interDisplay tracking-[0.3px] text-slate-900 dark:text-slate-25"},[t._v("\n        "+t._s(t.title)+"\n      ")])]),t._v(" "),e("div",{staticClass:"hidden gap-2 sm:flex"},[t._t("actions")],2)]),t._v(" "),e("div",{staticClass:"flex flex-col gap-3 text-slate-600 dark:text-slate-300 w-full"},[e("p",{staticClass:"mb-0 text-base font-normal line-clamp-5 sm:line-clamp-none max-w-3xl tracking-[-0.1px]"},[t._t("description",(function(){return[t._v(t._s(t.description))]}))],2),t._v(" "),e(n.CustomBrandPolicyWrapper,{attrs:{"show-on-custom-branded-instance":!1}},[n.helpURL&&t.linkText?e("a",{staticClass:"sm:inline-flex hidden gap-1 w-fit items-center text-woot-500 dark:text-woot-500 text-sm font-medium hover:underline",attrs:{href:n.helpURL,target:"_blank",rel:"noopener noreferrer"}},[t._v("\n        "+t._s(t.linkText)+"\n        "),e("fluent-icon",{staticClass:"flex-shrink-0 text-woot-500 dark:text-woot-500",attrs:{size:"16",icon:"chevron-right",type:"outline"}})],1):t._e()])],1),t._v(" "),e("div",{staticClass:"flex items-start justify-start w-full gap-3 sm:hidden flex-wrap"},[t._t("actions"),t._v(" "),e(n.CustomBrandPolicyWrapper,{attrs:{"show-on-custom-branded-instance":!1}},[n.helpURL&&t.linkText?e("woot-button",{staticClass:"flex-row-reverse rounded-md min-w-0 !bg-slate-50 !text-slate-900 dark:!text-white dark:!bg-slate-800",attrs:{"color-scheme":"secondary",icon:"arrow-outwards"},on:{click:function(t){return n.openInNewTab(n.helpURL)}}},[t._v("\n        "+t._s(t.linkText)+"\n      ")]):t._e()],1)],2)],1)}),[],!1,null,null,null);e.a=u.exports},1539:function(t,e,n){},1607:function(t,e,n){"use strict";n(1539)},1676:function(t,e,n){"use strict";var o=n(116),s=n(58),a=n(64),r=n(870),i=n(320),c=n(864),l={components:{WootSubmitButton:r.a,Modal:i.a,WootMessageEditor:c.a},props:{responseContent:{type:String,default:""},onClose:{type:Function,default:function(){}}},setup:function(){return{v$:Object(o.a)()}},data:function(){return{shortCode:"",content:this.responseContent||"",addCanned:{showLoading:!1,message:""},show:!0}},validations:{shortCode:{required:s.f,minLength:Object(s.d)(2)},content:{required:s.f}},methods:{resetForm:function(){this.shortCode="",this.content="",this.v$.shortCode.$reset(),this.v$.content.$reset()},addCannedResponse:function(){var t=this;this.addCanned.showLoading=!0,this.$store.dispatch("createCannedResponse",{short_code:this.shortCode,content:this.content}).then((function(){t.addCanned.showLoading=!1,Object(a.a)(t.$t("CANNED_MGMT.ADD.API.SUCCESS_MESSAGE")),t.resetForm(),t.onClose()})).catch((function(e){t.addCanned.showLoading=!1;var n=(null===e||void 0===e?void 0:e.message)||t.$t("CANNED_MGMT.ADD.API.ERROR_MESSAGE");Object(a.a)(n)}))}}},d=(n(1607),n(8)),u=Object(d.a)(l,(function(){var t=this,e=t._self._c;return e("Modal",{attrs:{show:t.show,"on-close":t.onClose},on:{"update:show":function(e){t.show=e}}},[e("div",{staticClass:"flex flex-col h-auto overflow-auto"},[e("woot-modal-header",{attrs:{"header-title":t.$t("CANNED_MGMT.ADD.TITLE"),"header-content":t.$t("CANNED_MGMT.ADD.DESC")}}),t._v(" "),e("form",{staticClass:"flex flex-col w-full",on:{submit:function(e){return e.preventDefault(),t.addCannedResponse()}}},[e("div",{staticClass:"w-full"},[e("label",{class:{error:t.v$.shortCode.$error}},[t._v("\n          "+t._s(t.$t("CANNED_MGMT.ADD.FORM.SHORT_CODE.LABEL"))+"\n          "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.shortCode,expression:"shortCode",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:t.$t("CANNED_MGMT.ADD.FORM.SHORT_CODE.PLACEHOLDER")},domProps:{value:t.shortCode},on:{input:[function(e){e.target.composing||(t.shortCode=e.target.value.trim())},t.v$.shortCode.$touch],blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),e("div",{staticClass:"w-full"},[e("label",{class:{error:t.v$.content.$error}},[t._v("\n          "+t._s(t.$t("CANNED_MGMT.ADD.FORM.CONTENT.LABEL"))+"\n        ")]),t._v(" "),e("div",{staticClass:"editor-wrap"},[e("WootMessageEditor",{staticClass:"message-editor [&>div]:px-1",class:{editor_warning:t.v$.content.$error},attrs:{"enable-variables":"","enable-canned-responses":!1,placeholder:t.$t("CANNED_MGMT.ADD.FORM.CONTENT.PLACEHOLDER")},on:{blur:t.v$.content.$touch},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)]),t._v(" "),e("div",{staticClass:"flex flex-row justify-end w-full gap-2 px-0 py-2"},[e("WootSubmitButton",{attrs:{disabled:t.v$.content.$invalid||t.v$.shortCode.$invalid||t.addCanned.showLoading,"button-text":t.$t("CANNED_MGMT.ADD.FORM.SUBMIT"),loading:t.addCanned.showLoading}}),t._v(" "),e("button",{staticClass:"button clear",on:{click:function(e){return e.preventDefault(),t.onClose.apply(null,arguments)}}},[t._v("\n          "+t._s(t.$t("CANNED_MGMT.ADD.CANCEL_BUTTON_TEXT"))+"\n        ")])],1)])],1)])}),[],!1,null,"d9879862",null);e.a=u.exports},1782:function(t,e,n){},1946:function(t,e,n){"use strict";n(1782)},2234:function(t,e,n){"use strict";n.r(e);n(33),n(41),n(9),n(22);var o=n(64),s=n(1676),a=(n(51),n(44),n(116)),r=n(58),i=n(864),c=n(870),l=n(320),d={components:{WootSubmitButton:c.a,Modal:l.a,WootMessageEditor:i.a},props:{id:{type:Number,default:null},edcontent:{type:String,default:""},edshortCode:{type:String,default:""},onClose:{type:Function,default:function(){}}},setup:function(){return{v$:Object(a.a)()}},data:function(){return{editCanned:{showAlert:!1,showLoading:!1},shortCode:this.edshortCode,content:this.edcontent,show:!0}},validations:{shortCode:{required:r.f,minLength:Object(r.d)(2)},content:{required:r.f}},computed:{pageTitle:function(){return"".concat(this.$t("CANNED_MGMT.EDIT.TITLE")," - ").concat(this.edshortCode)}},methods:{setPageName:function(t){var e=t.name;this.v$.content.$touch(),this.content=e},resetForm:function(){this.shortCode="",this.content="",this.v$.shortCode.$reset(),this.v$.content.$reset()},editCannedResponse:function(){var t=this;this.editCanned.showLoading=!0,this.$store.dispatch("updateCannedResponse",{id:this.id,short_code:this.shortCode,content:this.content}).then((function(){t.editCanned.showLoading=!1,Object(o.a)(t.$t("CANNED_MGMT.EDIT.API.SUCCESS_MESSAGE")),t.resetForm(),setTimeout((function(){t.onClose()}),10)})).catch((function(e){t.editCanned.showLoading=!1;var n=(null===e||void 0===e?void 0:e.message)||t.$t("CANNED_MGMT.EDIT.API.ERROR_MESSAGE");Object(o.a)(n)}))}}},u=(n(1946),n(8)),p=Object(u.a)(d,(function(){var t=this,e=t._self._c;return e("Modal",{attrs:{show:t.show,"on-close":t.onClose},on:{"update:show":function(e){t.show=e}}},[e("div",{staticClass:"flex flex-col h-auto overflow-auto"},[e("woot-modal-header",{attrs:{"header-title":t.pageTitle}}),t._v(" "),e("form",{staticClass:"flex flex-col w-full",on:{submit:function(e){return e.preventDefault(),t.editCannedResponse()}}},[e("div",{staticClass:"w-full"},[e("label",{class:{error:t.v$.shortCode.$error}},[t._v("\n          "+t._s(t.$t("CANNED_MGMT.EDIT.FORM.SHORT_CODE.LABEL"))+"\n          "),e("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.shortCode,expression:"shortCode",modifiers:{trim:!0}}],attrs:{type:"text",placeholder:t.$t("CANNED_MGMT.EDIT.FORM.SHORT_CODE.PLACEHOLDER")},domProps:{value:t.shortCode},on:{input:[function(e){e.target.composing||(t.shortCode=e.target.value.trim())},t.v$.shortCode.$touch],blur:function(e){return t.$forceUpdate()}}})])]),t._v(" "),e("div",{staticClass:"w-full"},[e("label",{class:{error:t.v$.content.$error}},[t._v("\n          "+t._s(t.$t("CANNED_MGMT.EDIT.FORM.CONTENT.LABEL"))+"\n        ")]),t._v(" "),e("div",{staticClass:"editor-wrap"},[e("WootMessageEditor",{staticClass:"message-editor [&>div]:px-1",class:{editor_warning:t.v$.content.$error},attrs:{"enable-variables":"","enable-canned-responses":!1,placeholder:t.$t("CANNED_MGMT.EDIT.FORM.CONTENT.PLACEHOLDER")},on:{blur:t.v$.content.$touch},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)]),t._v(" "),e("div",{staticClass:"flex flex-row justify-end w-full gap-2 px-0 py-2"},[e("WootSubmitButton",{attrs:{disabled:t.v$.content.$invalid||t.v$.shortCode.$invalid||t.editCanned.showLoading,"button-text":t.$t("CANNED_MGMT.EDIT.FORM.SUBMIT"),loading:t.editCanned.showLoading}}),t._v(" "),e("button",{staticClass:"button clear",on:{click:function(e){return e.preventDefault(),t.onClose.apply(null,arguments)}}},[t._v("\n          "+t._s(t.$t("CANNED_MGMT.EDIT.CANCEL_BUTTON_TEXT"))+"\n        ")])],1)])],1)])}),[],!1,null,"c9dda8b6",null),h=p.exports,f=n(1506),v=n(5),_=n(356),C=n(197);function m(t,e,n,o,s,a,r){try{var i=t[a](r),c=i.value}catch(l){return void n(l)}i.done?e(c):Promise.resolve(c).then(o,s)}function E(t){return function(){var e=this,n=arguments;return new Promise((function(o,s){var a=t.apply(e,n);function r(t){m(a,o,s,r,i,"next",t)}function i(t){m(a,o,s,r,i,"throw",t)}r(void 0)}))}}var w={__name:"Index",setup:function(t){var e=Object(C.c)(),n=Object(C.b)(),a=Object(_.a)().t,r=Object(v.ref)(!1),i=Object(v.ref)({}),c=Object(v.ref)(!1),l=Object(v.ref)(!1),d=Object(v.ref)({}),u=Object(v.ref)({message:""}),p=Object(v.ref)("asc"),m=Object(v.computed)((function(){return e.getSortedCannedResponses.value(p.value)})),w=Object(v.computed)((function(){return e.getUIFlags.value})),b=Object(v.computed)((function(){return"".concat(a("CANNED_MGMT.DELETE.CONFIRM.YES")," ").concat(d.value.short_code)})),T=Object(v.computed)((function(){return"".concat(a("CANNED_MGMT.DELETE.CONFIRM.NO")," ").concat(d.value.short_code)})),g=Object(v.computed)((function(){return" ".concat(d.value.short_code," ? ")})),x=function(){var t=E(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.dispatch("getCannedResponse");case 3:t.next=7;break;case 5:t.prev=5,t.t0=t.catch(0);case 7:case"end":return t.stop()}}),t,null,[[0,5]])})));return function(){return t.apply(this,arguments)}}();Object(v.onMounted)((function(){x()}));var N=function(t){i[d.value.id]=!1,d.value={},u.value.message=t,Object(o.a)(t)},M=function(){l.value=!1},D=function(){var t=E(regeneratorRuntime.mark((function t(e){var o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.dispatch("deleteCannedResponse",e);case 3:N(a("CANNED_MGMT.DELETE.API.SUCCESS_MESSAGE")),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),o=(null===t.t0||void 0===t.t0?void 0:t.t0.message)||a("CANNED_MGMT.DELETE.API.ERROR_MESSAGE"),N(o);case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}();return{__sfc:!0,getters:e,store:n,t:a,showAddPopup:r,loading:i,showEditPopup:c,showDeleteConfirmationPopup:l,activeResponse:d,cannedResponseAPI:u,sortOrder:p,records:m,uiFlags:w,deleteConfirmText:b,deleteRejectText:T,deleteMessage:g,toggleSort:function(){p.value="asc"===p.value?"desc":"asc"},fetchCannedResponses:x,showAlertMessage:N,openAddPopup:function(){r.value=!0},hideAddPopup:function(){r.value=!1},openEditPopup:function(t){c.value=!0,d.value=t},hideEditPopup:function(){c.value=!1},openDeletePopup:function(t){l.value=!0,d.value=t},closeDeletePopup:M,deleteCannedResponse:D,confirmDeletion:function(){i[d.value.id]=!0,M(),D(d.value.id)},AddCanned:s.a,EditCanned:h,BaseSettingsHeader:f.a}}},b=w,T=Object(u.a)(b,(function(){var t=this,e=t._self._c,n=t._self._setupProxy;return e("div",{staticClass:"flex-1 overflow-auto"},[e(n.BaseSettingsHeader,{attrs:{title:t.$t("CANNED_MGMT.HEADER"),description:t.$t("CANNED_MGMT.DESCRIPTION"),"link-text":t.$t("CANNED_MGMT.LEARN_MORE"),"feature-name":"canned_responses"},scopedSlots:t._u([{key:"actions",fn:function(){return[e("woot-button",{staticClass:"button nice rounded-md",attrs:{icon:"add-circle"},on:{click:n.openAddPopup}},[t._v("\n        "+t._s(t.$t("CANNED_MGMT.HEADER_BTN_TXT"))+"\n      ")])]},proxy:!0}])}),t._v(" "),e("div",{staticClass:"mt-6 flex-1"},[n.uiFlags.fetchingList?e("woot-loading-state",{attrs:{message:t.$t("CANNED_MGMT.LOADING")}}):n.records.length?e("table",{staticClass:"min-w-full overflow-x-auto divide-y divide-slate-75 dark:divide-slate-700"},[e("thead",t._l(t.$t("CANNED_MGMT.LIST.TABLE_HEADER"),(function(o){return e("th",{key:o,staticClass:"py-4 pr-4 text-left font-semibold text-slate-700 dark:text-slate-300"},[o!==t.$t("CANNED_MGMT.LIST.TABLE_HEADER[0]")?e("span",[t._v("\n            "+t._s(o)+"\n          ")]):t._e(),t._v(" "),o===t.$t("CANNED_MGMT.LIST.TABLE_HEADER[0]")?e("button",{staticClass:"flex items-center p-0 cursor-pointer",on:{click:n.toggleSort}},[e("span",{staticClass:"mb-0"},[t._v("\n              "+t._s(o)+"\n            ")]),t._v(" "),e("fluent-icon",{staticClass:"ml-2",attrs:{icon:"desc"===n.sortOrder?"chevron-up":"chevron-down"}})],1):t._e()])})),0),t._v(" "),e("tbody",{staticClass:"divide-y divide-slate-50 dark:divide-slate-800 text-slate-700 dark:text-slate-300"},t._l(n.records,(function(o,s){return e("tr",{key:o.short_code},[e("td",{staticClass:"py-4 pr-4 truncate max-w-xs font-medium",attrs:{title:o.short_code}},[t._v("\n            "+t._s(o.short_code)+"\n          ")]),t._v(" "),e("td",{staticClass:"py-4 pr-4 md:break-all whitespace-normal"},[t._v("\n            "+t._s(o.content)+"\n          ")]),t._v(" "),e("td",{staticClass:"py-4 flex justify-end gap-1"},[e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("CANNED_MGMT.EDIT.BUTTON_TEXT"),expression:"$t('CANNED_MGMT.EDIT.BUTTON_TEXT')",modifiers:{top:!0}}],attrs:{variant:"smooth",size:"tiny","color-scheme":"secondary",icon:"edit"},on:{click:function(t){return n.openEditPopup(o)}}}),t._v(" "),e("woot-button",{directives:[{name:"tooltip",rawName:"v-tooltip.top",value:t.$t("CANNED_MGMT.DELETE.BUTTON_TEXT"),expression:"$t('CANNED_MGMT.DELETE.BUTTON_TEXT')",modifiers:{top:!0}}],attrs:{variant:"smooth","color-scheme":"alert",size:"tiny",icon:"dismiss-circle","class-names":"grey-btn","is-loading":n.loading[o.id]},on:{click:function(t){return n.openDeletePopup(o,s)}}})],1)])})),0)]):e("p",{staticClass:"flex flex-col items-center justify-center h-full text-base text-slate-600 dark:text-slate-300 py-8"},[t._v("\n      "+t._s(t.$t("CANNED_MGMT.LIST.404"))+"\n    ")])],1),t._v(" "),e("woot-modal",{attrs:{show:n.showAddPopup,"on-close":n.hideAddPopup},on:{"update:show":function(t){n.showAddPopup=t}}},[e(n.AddCanned,{attrs:{"on-close":n.hideAddPopup}})],1),t._v(" "),e("woot-modal",{attrs:{show:n.showEditPopup,"on-close":n.hideEditPopup},on:{"update:show":function(t){n.showEditPopup=t}}},[n.showEditPopup?e(n.EditCanned,{attrs:{id:n.activeResponse.id,"edshort-code":n.activeResponse.short_code,edcontent:n.activeResponse.content,"on-close":n.hideEditPopup}}):t._e()],1),t._v(" "),e("woot-delete-modal",{attrs:{show:n.showDeleteConfirmationPopup,"on-close":n.closeDeletePopup,"on-confirm":n.confirmDeletion,title:t.$t("CANNED_MGMT.DELETE.CONFIRM.TITLE"),message:t.$t("CANNED_MGMT.DELETE.CONFIRM.MESSAGE"),"message-value":n.deleteMessage,"confirm-text":n.deleteConfirmText,"reject-text":n.deleteRejectText},on:{"update:show":function(t){n.showDeleteConfirmationPopup=t}}})],1)}),[],!1,null,null,null);e.default=T.exports}}]);
//# sourceMappingURL=59-d5d8705991b781b6b585.chunk.js.map